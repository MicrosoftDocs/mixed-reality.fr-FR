---
title: Stabilité de l’hologramme
description: HoloLens stabilise automatiquement les hologrammes, mais il existe des étapes que les développeurs peuvent prendre pour améliorer davantage la stabilité des hologrammes.
author: thetuvix
ms.author: alexturn
ms.date: 03/21/2018
ms.topic: article
keywords: hologrammes, stabilité, hololens
ms.openlocfilehash: ad48d057ee55d4d0d9ae3080d8030a481aef130f
ms.sourcegitcommit: 5054f5c23965ce56599cb29ac9d9c6e48812dabd
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/03/2020
ms.locfileid: "75623308"
---
# <a name="hologram-stability"></a><span data-ttu-id="8abf9-104">Stabilité de l’hologramme</span><span class="sxs-lookup"><span data-stu-id="8abf9-104">Hologram stability</span></span>

<span data-ttu-id="8abf9-105">Pour obtenir des hologrammes stables, HoloLens dispose d’un pipeline de stabilisation d’image intégré.</span><span class="sxs-lookup"><span data-stu-id="8abf9-105">To achieve stable holograms, HoloLens has a built-in image stabilization pipeline.</span></span> <span data-ttu-id="8abf9-106">Le pipeline de stabilisation fonctionne automatiquement en arrière-plan, donc aucune étape supplémentaire n’est requise pour l’activer.</span><span class="sxs-lookup"><span data-stu-id="8abf9-106">The stabilization pipeline works automatically in the background, so there are no extra steps required to enable it.</span></span> <span data-ttu-id="8abf9-107">Toutefois, les développeurs doivent exercer des techniques qui améliorent la stabilité des hologrammes et évitent les scénarios qui réduisent la stabilité.</span><span class="sxs-lookup"><span data-stu-id="8abf9-107">However, developers should exercise techniques that improve hologram stability and avoid scenarios that reduce stability.</span></span>

## <a name="hologram-quality-terminology"></a><span data-ttu-id="8abf9-108">Terminologie de la qualité des hologrammes</span><span class="sxs-lookup"><span data-stu-id="8abf9-108">Hologram quality terminology</span></span>

<span data-ttu-id="8abf9-109">La qualité des hologrammes est un résultat d’un bon environnement et d’un développement d’applications correct.</span><span class="sxs-lookup"><span data-stu-id="8abf9-109">The quality of holograms is a result of good environment and good app development.</span></span> <span data-ttu-id="8abf9-110">Les applications qui atteignent une constante 60 images par seconde dans un environnement où HoloLens peut suivre l’environnement garantissent que l’hologramme et le système de coordonnées correspondant sont synchronisés. Du point de vue de l’utilisateur, les hologrammes destinés à être stationnaires ne seront pas déplacés par rapport à l’environnement.</span><span class="sxs-lookup"><span data-stu-id="8abf9-110">Apps that hit a constant 60 frames-per-second in an environment where HoloLens can track the surroundings will ensure the hologram and the matching coordinate system are in sync. From a user's perspective, holograms that are meant to be stationary will not move relative to the environment.</span></span>

<span data-ttu-id="8abf9-111">Lorsque des problèmes d’environnement, des taux de rendu incohérents ou faibles, ou d’autres problèmes d’application apparaissent, la terminologie suivante est utile pour identifier le problème.</span><span class="sxs-lookup"><span data-stu-id="8abf9-111">When environment issues, inconsistent or low rendering rates, or other app problems show up, the following terminology is helpful in identifying the problem.</span></span>
* <span data-ttu-id="8abf9-112">**Précision.**</span><span class="sxs-lookup"><span data-stu-id="8abf9-112">**Accuracy.**</span></span> <span data-ttu-id="8abf9-113">Une fois l’hologramme verrouillé et placé dans le monde réel, il doit rester à l’endroit où il a été placé, par rapport à l’environnement environnant, indépendamment du mouvement de l’utilisateur ou des modifications de l’environnement faible et épars.</span><span class="sxs-lookup"><span data-stu-id="8abf9-113">Once the hologram is world-locked and placed in the real world, it should stay where it was placed, relative to the surrounding environment, independent of user motion or small and sparse environment changes.</span></span> <span data-ttu-id="8abf9-114">Si un hologramme s’affiche plus tard dans un emplacement inattendu, il s’agit d’un problème de *précision* .</span><span class="sxs-lookup"><span data-stu-id="8abf9-114">If a hologram later appears in an unexpected location, it is an *accuracy* problem.</span></span> <span data-ttu-id="8abf9-115">De tels scénarios peuvent se produire si deux salles distinctes paraissent identiques.</span><span class="sxs-lookup"><span data-stu-id="8abf9-115">Such scenarios can happen if two distinct rooms look identical.</span></span>
* <span data-ttu-id="8abf9-116">**Instabilité.**</span><span class="sxs-lookup"><span data-stu-id="8abf9-116">**Jitter.**</span></span> <span data-ttu-id="8abf9-117">Les utilisateurs observent cela comme un tremblement haute fréquence d’un hologramme.</span><span class="sxs-lookup"><span data-stu-id="8abf9-117">Users observe this as high frequency shaking of a hologram.</span></span> <span data-ttu-id="8abf9-118">Cela peut se produire lorsque le suivi de l’environnement est détérioré.</span><span class="sxs-lookup"><span data-stu-id="8abf9-118">This can happen when tracking of the environment degrades.</span></span> <span data-ttu-id="8abf9-119">Pour les utilisateurs, la solution exécute le [Paramétrage du capteur](sensor-tuning.md).</span><span class="sxs-lookup"><span data-stu-id="8abf9-119">For users, the solution is running [sensor tuning](sensor-tuning.md).</span></span>
* <span data-ttu-id="8abf9-120">**Judder.**</span><span class="sxs-lookup"><span data-stu-id="8abf9-120">**Judder.**</span></span> <span data-ttu-id="8abf9-121">Une faible fréquence de rendu entraîne des mouvements inégaux et des images double d’hologrammes.</span><span class="sxs-lookup"><span data-stu-id="8abf9-121">Low rendering frequencies result in uneven motion and double images of holograms.</span></span> <span data-ttu-id="8abf9-122">Cela est particulièrement perceptible dans les hologrammes avec motion.</span><span class="sxs-lookup"><span data-stu-id="8abf9-122">This is especially noticeable in holograms with motion.</span></span> <span data-ttu-id="8abf9-123">Les développeurs doivent conserver une [constante de 60 fps](hologram-stability.md#frame-rate).</span><span class="sxs-lookup"><span data-stu-id="8abf9-123">Developers need to maintain a [constant 60 FPS](hologram-stability.md#frame-rate).</span></span>
* <span data-ttu-id="8abf9-124">**Cession.**</span><span class="sxs-lookup"><span data-stu-id="8abf9-124">**Drift.**</span></span> <span data-ttu-id="8abf9-125">Les utilisateurs voient cela comme un hologramme pour s’éloigner de l’endroit où ils ont été placés à l’origine.</span><span class="sxs-lookup"><span data-stu-id="8abf9-125">Users see this as a hologram appears to move away from where it was originally placed.</span></span> <span data-ttu-id="8abf9-126">Cela se produit lorsque les hologrammes sont placés loin des [ancres spatiales](spatial-anchors.md), en particulier dans les parties de l’environnement qui n’ont pas été entièrement mappées.</span><span class="sxs-lookup"><span data-stu-id="8abf9-126">This happens when holograms are placed far away from [spatial anchors](spatial-anchors.md), particularly in parts of the environment that have not been fully mapped.</span></span> <span data-ttu-id="8abf9-127">La création d’hologrammes proches des ancres spatiales réduit la probabilité de dérive.</span><span class="sxs-lookup"><span data-stu-id="8abf9-127">Creating holograms close to spatial anchors lowers the likelihood of drift.</span></span>
* <span data-ttu-id="8abf9-128">**Jumpiness.**</span><span class="sxs-lookup"><span data-stu-id="8abf9-128">**Jumpiness.**</span></span> <span data-ttu-id="8abf9-129">Quand un hologramme « sort » ou « saute » à son emplacement, parfois.</span><span class="sxs-lookup"><span data-stu-id="8abf9-129">When a hologram "pops" or "jumps" away from its location occasionally.</span></span> <span data-ttu-id="8abf9-130">Cela peut se produire lorsque le suivi ajuste les hologrammes pour correspondre à la compréhension mise à jour de votre environnement.</span><span class="sxs-lookup"><span data-stu-id="8abf9-130">This can occur as tracking adjusts holograms to match updated understanding of your environment.</span></span>
* <span data-ttu-id="8abf9-131">**Jeter.**</span><span class="sxs-lookup"><span data-stu-id="8abf9-131">**Swim.**</span></span> <span data-ttu-id="8abf9-132">Lorsqu’un hologramme apparaît sur le Sway correspondant au mouvement de la tête de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="8abf9-132">When a hologram appears to sway corresponding to the motion of the user's head.</span></span> <span data-ttu-id="8abf9-133">Cela se produit lorsque l’application n’a pas complètement implémenté la [reprojection](hologram-stability.md#reprojection)et que le HoloLens n’est pas [étalonné](calibration.md) pour l’utilisateur actuel.</span><span class="sxs-lookup"><span data-stu-id="8abf9-133">This occurs when the application has not fully implemented [reprojection](hologram-stability.md#reprojection), and if the HoloLens is not [calibrated](calibration.md) for the current user.</span></span> <span data-ttu-id="8abf9-134">L’utilisateur peut réexécuter l’application d' [étalonnage](calibration.md) pour résoudre le problème.</span><span class="sxs-lookup"><span data-stu-id="8abf9-134">The user can rerun the [calibration](calibration.md) application to fix this.</span></span> <span data-ttu-id="8abf9-135">Les développeurs peuvent mettre à jour le plan de stabilisation pour améliorer la stabilité.</span><span class="sxs-lookup"><span data-stu-id="8abf9-135">Developers can update the stabilization plane to further enhance stability.</span></span>
* <span data-ttu-id="8abf9-136">**Séparation des couleurs.**</span><span class="sxs-lookup"><span data-stu-id="8abf9-136">**Color separation.**</span></span> <span data-ttu-id="8abf9-137">Les affichages dans HoloLens sont un affichage séquentiel de couleur, qui montre les canaux de couleur Flash rouge-vert-bleu-vert à 60 Hz (les champs de couleur individuels sont affichés dans 240Hz).</span><span class="sxs-lookup"><span data-stu-id="8abf9-137">The displays in HoloLens are a color sequential display, which flash color channels of red-green-blue-green at 60Hz (individual color fields are shown at 240Hz).</span></span> <span data-ttu-id="8abf9-138">Chaque fois qu’un utilisateur effectue le suivi d’un hologramme mobile avec ses yeux, les bords de début et de fin de l’hologramme sont séparés dans leurs couleurs constitutives, ce qui produit un effet d’arc-en-ciel.</span><span class="sxs-lookup"><span data-stu-id="8abf9-138">Whenever a user tracks a moving hologram with his or her eyes, that hologram's leading and trailing edges separate in their constituent colors, producing a rainbow effect.</span></span> <span data-ttu-id="8abf9-139">Le degré de séparation dépend de la vitesse de l’hologramme.</span><span class="sxs-lookup"><span data-stu-id="8abf9-139">The degree of separation is dependent upon the speed of the hologram.</span></span> <span data-ttu-id="8abf9-140">Dans certains cas plus rares, le déplacement des têtes s’effectue rapidement, tout en regardant un hologramme stationnaire.</span><span class="sxs-lookup"><span data-stu-id="8abf9-140">In some rarer cases, moving ones head rapidly while looking at a stationary hologram can also result in a rainbow effect.</span></span> <span data-ttu-id="8abf9-141">C’est ce que l’on appelle la *[séparation des couleurs](hologram-stability.md#color-separation)* .</span><span class="sxs-lookup"><span data-stu-id="8abf9-141">This is called *[color separation](hologram-stability.md#color-separation)*.</span></span>

## <a name="frame-rate"></a><span data-ttu-id="8abf9-142">Fréquence d’images</span><span class="sxs-lookup"><span data-stu-id="8abf9-142">Frame rate</span></span>

<span data-ttu-id="8abf9-143">La fréquence d’images est le premier pilier de la stabilité de l’hologramme.</span><span class="sxs-lookup"><span data-stu-id="8abf9-143">Frame rate is the first pillar of hologram stability.</span></span> <span data-ttu-id="8abf9-144">Pour que les hologrammes apparaissent stables dans le monde, chaque image présentée à l’utilisateur doit avoir des hologrammes dessinés à l’endroit approprié.</span><span class="sxs-lookup"><span data-stu-id="8abf9-144">For holograms to appear stable in the world, each image presented to the user must have the holograms drawn in the correct spot.</span></span> <span data-ttu-id="8abf9-145">Le s’affiche sur HoloLens Refresh 240 fois par seconde, affichant quatre champs de couleur distincts pour chaque image nouvellement rendue, ce qui aboutit à une expérience utilisateur de 60 FPS (images par seconde).</span><span class="sxs-lookup"><span data-stu-id="8abf9-145">The displays on HoloLens refresh 240 times a second, showing four separate color fields for each newly rendered image, resulting in a user experience of 60 FPS (frames per second).</span></span> <span data-ttu-id="8abf9-146">Pour offrir la meilleure expérience possible, les développeurs d’applications doivent gérer 60 images/s, ce qui se traduit par la fourniture cohérente d’une nouvelle image au système d’exploitation toutes les 16 millisecondes.</span><span class="sxs-lookup"><span data-stu-id="8abf9-146">To provide the best experience possible, application developers must maintain 60 FPS, which translates to consistently providing a new image to the operating system every 16 milliseconds.</span></span>

<span data-ttu-id="8abf9-147">**60 fps** Pour dessiner des hologrammes pour qu’ils se trouvent dans le monde réel, HoloLens doit afficher les images à partir de la position de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="8abf9-147">**60 FPS** To draw holograms to look like they're sitting in the real world, HoloLens needs to render images from the user's position.</span></span> <span data-ttu-id="8abf9-148">Étant donné que le rendu d’image prend du temps, HoloLens prédit l’emplacement où se trouve l’utilisateur lorsque les images sont affichées dans l’affichage.</span><span class="sxs-lookup"><span data-stu-id="8abf9-148">Since image rendering takes time, HoloLens predicts where a user's head will be when the images are shown in the displays.</span></span> <span data-ttu-id="8abf9-149">Cet algorithme de prédiction permet d’obtenir une approximation.</span><span class="sxs-lookup"><span data-stu-id="8abf9-149">This prediction algorithm is an approximation.</span></span> <span data-ttu-id="8abf9-150">HoloLens possède un matériel qui ajuste l’image rendue pour tenir compte de l’écart entre la position de la tête prédite et la position réelle de la tête.</span><span class="sxs-lookup"><span data-stu-id="8abf9-150">HoloLens has hardware that adjusts the rendered image to account for the discrepancy between the predicted head position and the actual head position.</span></span> <span data-ttu-id="8abf9-151">Cela rend l’image visible par l’utilisateur comme si elle était affichée à partir de l’emplacement approprié, et les hologrammes semblent stables.</span><span class="sxs-lookup"><span data-stu-id="8abf9-151">This makes the image the user sees appear as if it was rendered from the correct location, and holograms feel stable.</span></span> <span data-ttu-id="8abf9-152">Les mises à jour de l’image fonctionnent mieux avec les petites modifications, et elles ne peuvent pas entièrement résoudre certains éléments dans l’image rendue, par exemple Motion-parallaxe.</span><span class="sxs-lookup"><span data-stu-id="8abf9-152">The image updates work best with small changes, and it can't completely fix certain things in the rendered image like motion-parallax.</span></span>

<span data-ttu-id="8abf9-153">En procédant à un rendu à 60 FPS, vous effectuez trois opérations pour vous aider à créer des hologrammes stables :</span><span class="sxs-lookup"><span data-stu-id="8abf9-153">By rendering at 60 FPS, you are doing three things to help make stable holograms:</span></span>
1. <span data-ttu-id="8abf9-154">Minimisation de la latence globale entre le rendu d’une image et cette image qui est visible par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="8abf9-154">Minimizing the overall latency between rendering an image and that image being seen by the user.</span></span> <span data-ttu-id="8abf9-155">Dans un moteur où sont exécutés conjointement un thread de jeu et un thread de rendu, l’utilisation d’une fréquence d’images de 30 IPS peut ajouter une latence supplémentaire de 33,3 ms.</span><span class="sxs-lookup"><span data-stu-id="8abf9-155">In an engine with a game thread and a render thread running in lockstep, running at 30FPS can add 33.3ms of extra latency.</span></span> <span data-ttu-id="8abf9-156">En réduisant la latence, vous diminuez le risque d’erreur de prédiction et vous augmentez la stabilité des hologrammes.</span><span class="sxs-lookup"><span data-stu-id="8abf9-156">By reducing latency, this decreases prediction error, and increases hologram stability.</span></span>
2. <span data-ttu-id="8abf9-157">En faisant en sorte que chaque image atteignant les yeux de l’utilisateur a une latence cohérente.</span><span class="sxs-lookup"><span data-stu-id="8abf9-157">Making it so every image reaching the user's eyes have a consistent amount of latency.</span></span> <span data-ttu-id="8abf9-158">Si vous affichez sur 30fps, l’affichage affiche toujours les images à 60 FPS.</span><span class="sxs-lookup"><span data-stu-id="8abf9-158">If you render at 30fps, the display still displays images at 60 FPS.</span></span> <span data-ttu-id="8abf9-159">Cela signifie que la même image sera affichée deux fois dans une ligne.</span><span class="sxs-lookup"><span data-stu-id="8abf9-159">This means the same image will be displayed twice in a row.</span></span> <span data-ttu-id="8abf9-160">Le deuxième Frame aura une latence 16,6 ms plus grande que la première image et devra corriger une plus grande quantité d’erreur.</span><span class="sxs-lookup"><span data-stu-id="8abf9-160">The second frame will have 16.6ms more latency than the first frame and will have to correct a more pronounced amount of error.</span></span> <span data-ttu-id="8abf9-161">Cette incohérence dans l’amplitude des erreurs peut entraîner des Judder 60 Hz indésirables.</span><span class="sxs-lookup"><span data-stu-id="8abf9-161">This inconsistency in error magnitude can cause unwanted 60hz judder.</span></span>
3. <span data-ttu-id="8abf9-162">Vous réduisez l’impression de vibration, qui se caractérise par des mouvements irréguliers et des images dédoublées.</span><span class="sxs-lookup"><span data-stu-id="8abf9-162">Reducing the appearance of judder, which is characterized by uneven motion and double images.</span></span> <span data-ttu-id="8abf9-163">Les mouvements rapides des hologrammes et les fréquences d’images peu élevées provoquent une impression de vibration plus prononcée.</span><span class="sxs-lookup"><span data-stu-id="8abf9-163">Faster hologram motion and lower render rates are associated with more pronounced judder.</span></span> <span data-ttu-id="8abf9-164">Par conséquent, la maintenance de 60 FPS à tout moment permet d’éviter Judder pour un hologramme mobile donné.</span><span class="sxs-lookup"><span data-stu-id="8abf9-164">Therefore, striving to maintain 60 FPS at all times will help avoid judder for a given moving hologram.</span></span>

<span data-ttu-id="8abf9-165">**Cohérence du taux de trames** La cohérence de la fréquence d’images est aussi importante qu’un nombre élevé d’images par seconde.</span><span class="sxs-lookup"><span data-stu-id="8abf9-165">**Frame-rate consistency** Frame rate consistency is as important as a high frames-per-second.</span></span> <span data-ttu-id="8abf9-166">Parfois, les trames supprimées sont inévitables pour toute application riche en contenu, et le HoloLens implémente des algorithmes sophistiqués pour effectuer une récupération suite à des erreurs occasionnelles.</span><span class="sxs-lookup"><span data-stu-id="8abf9-166">Occasionally dropped frames are inevitable for any content-rich application, and the HoloLens implements some sophisticated algorithms to recover from occasional glitches.</span></span> <span data-ttu-id="8abf9-167">Toutefois, une fréquence d’images fluctuante est beaucoup plus perceptible pour un utilisateur que de s’exécuter régulièrement à des fréquences d’images inférieures.</span><span class="sxs-lookup"><span data-stu-id="8abf9-167">However, a constantly fluctuating framerate is a lot more noticeable to a user than running consistently at lower frame rates.</span></span> <span data-ttu-id="8abf9-168">Par exemple, une application qui effectue un rendu fluide pour 5 images (60 FPS pour la durée de ces 5 images), puis supprime toutes les autres images pour les 10 images suivantes (30 i/s pour la durée de ces 10 images) semble plus instable qu’une application qui, de manière cohérente rendu à 30 i/s.</span><span class="sxs-lookup"><span data-stu-id="8abf9-168">For example, an application that renders smoothly for 5 frames (60 FPS for the duration of these 5 frames) and then drops every other frame for the next 10 frames (30 FPS for the duration of these 10 frames) will appear more unstable than an application that consistently renders at 30 FPS.</span></span>

<span data-ttu-id="8abf9-169">Sur une note connexe, le système d’exploitation limite les applications à 30 i/s lorsque la capture de la [réalité mixte](mixed-reality-capture.md) est en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="8abf9-169">On a related note, the operating system will throttle applications down to 30 FPS when [mixed reality capture](mixed-reality-capture.md) is running.</span></span>

<span data-ttu-id="8abf9-170">**Analyse des performances** Un large éventail d’outils peuvent être utilisés pour évaluer la fréquence d’images de votre application, par exemple :</span><span class="sxs-lookup"><span data-stu-id="8abf9-170">**Performance analysis** There are a variety of tools that can be used to benchmark your application frame rate, such as:</span></span>
* <span data-ttu-id="8abf9-171">GPUView</span><span class="sxs-lookup"><span data-stu-id="8abf9-171">GPUView</span></span>
* <span data-ttu-id="8abf9-172">Le débogueur de graphiques Visual Studio</span><span class="sxs-lookup"><span data-stu-id="8abf9-172">Visual Studio Graphics Debugger</span></span>
* <span data-ttu-id="8abf9-173">Profileurs intégrés à des moteurs 3D tels qu’Unity</span><span class="sxs-lookup"><span data-stu-id="8abf9-173">Profilers built into 3D engines such as Unity</span></span>

## <a name="hologram-render-distances"></a><span data-ttu-id="8abf9-174">Distances de rendu d’hologramme</span><span class="sxs-lookup"><span data-stu-id="8abf9-174">Hologram render distances</span></span>

>[!VIDEO https://www.youtube.com/embed/-606oZKLa_s]

<span data-ttu-id="8abf9-175">Le système visuel humain intègre plusieurs signaux dépendant des distances lorsqu’il fixates et se concentre sur un objet.</span><span class="sxs-lookup"><span data-stu-id="8abf9-175">The human visual system integrates multiple distance-dependent signals when it fixates and focuses on an object.</span></span>
* <span data-ttu-id="8abf9-176">[Hébergement](https://en.wikipedia.org/wiki/Accommodation_%28eye%29) : la focalisation d’un oeil individuel.</span><span class="sxs-lookup"><span data-stu-id="8abf9-176">[Accommodation](https://en.wikipedia.org/wiki/Accommodation_%28eye%29) - The focus of an individual eye.</span></span>
* <span data-ttu-id="8abf9-177">[Convergence](https://en.wikipedia.org/wiki/Convergence_(eye)) : deux yeux se déplacent vers l’intérieur ou vers l’extérieur sur un objet.</span><span class="sxs-lookup"><span data-stu-id="8abf9-177">[Convergence](https://en.wikipedia.org/wiki/Convergence_(eye)) - Two eyes moving inward or outward to center on an object.</span></span>
* <span data-ttu-id="8abf9-178">[Vision binoculaire](https://en.wikipedia.org/wiki/Stereopsis) : disparités entre les images de gauche et de droite qui dépendent de la distance d’un objet par rapport à votre point de fixation.</span><span class="sxs-lookup"><span data-stu-id="8abf9-178">[Binocular vision](https://en.wikipedia.org/wiki/Stereopsis) - Disparities between the left- and right-eye images that are dependent on an object's distance away from your fixation point.</span></span>
* <span data-ttu-id="8abf9-179">Ombrage, taille angulaire relative et autres signaux monoculaire (simple oeil).</span><span class="sxs-lookup"><span data-stu-id="8abf9-179">Shading, relative angular size, and other monocular (single eye) cues.</span></span>

<span data-ttu-id="8abf9-180">La convergence et l’hébergement sont uniques, car il s’agit de signaux extra-rétinienne liés à la façon dont les yeux changent pour percevoir les objets à des distances différentes.</span><span class="sxs-lookup"><span data-stu-id="8abf9-180">Convergence and accommodation are unique because they are extra-retinal cues related to how the eyes change to perceive objects at different distances.</span></span> <span data-ttu-id="8abf9-181">Dans un affichage naturel, la convergence et l’hébergement sont liés.</span><span class="sxs-lookup"><span data-stu-id="8abf9-181">In natural viewing, convergence and accommodation are linked.</span></span> <span data-ttu-id="8abf9-182">Lorsque la vue des yeux est proche (par exemple, votre nez), les yeux se croisent et s’adaptent à un point proche.</span><span class="sxs-lookup"><span data-stu-id="8abf9-182">When the eyes view something near (e.g. your nose), the eyes cross and accommodate to a near point.</span></span> <span data-ttu-id="8abf9-183">Lorsque la vue des yeux est infinie, les yeux deviennent parallèles et l’œil s’ajuste à l’infini.</span><span class="sxs-lookup"><span data-stu-id="8abf9-183">When the eyes view something at infinity, the eyes become parallel and the eye accommodates to infinity.</span></span> <span data-ttu-id="8abf9-184">Les utilisateurs qui ont le port HoloLens s’intègrent toujours à la version 2.0 m pour maintenir une image claire, car les affichages HoloLens sont fixés à une distance optique d’environ 2,0 mètres de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="8abf9-184">Users wearing HoloLens will always accommodate to 2.0m to maintain a clear image because the HoloLens displays are fixed at an optical distance approximately 2.0m away from the user.</span></span> <span data-ttu-id="8abf9-185">Les développeurs d’applications contrôlent l’emplacement des yeux des utilisateurs en plaçant le contenu et les hologrammes à différents niveaux.</span><span class="sxs-lookup"><span data-stu-id="8abf9-185">App developers control where users' eyes converge by placing content and holograms at various depths.</span></span> <span data-ttu-id="8abf9-186">Lorsque les utilisateurs s’accommodent de différentes distances, le lien naturel entre les deux signaux est cassé, ce qui peut entraîner une gêne visuelle ou une fatigue, en particulier lorsque l’ampleur du conflit est importante.</span><span class="sxs-lookup"><span data-stu-id="8abf9-186">When users accommodate and converge to different distances, the natural link between the two cues are broken, which can lead to visual discomfort or fatigue, especially when the magnitude of the conflict is large.</span></span> <span data-ttu-id="8abf9-187">Il est possible d’éviter ou de réduire la gêne du conflit vergence-Hébergement en conservant le contenu que les utilisateurs convergent jusqu’à la version 2.0 m le plus possible (par exemple, dans une scène avec un grand nombre de points d’intérêt près de 2.0 m, lorsque cela est possible).</span><span class="sxs-lookup"><span data-stu-id="8abf9-187">Discomfort from the vergence-accommodation conflict can be avoided or minimized by keeping content that users converge to as close to 2.0m as possible (i.e. in a scene with lots of depth place the areas of interest near 2.0m, when possible).</span></span> <span data-ttu-id="8abf9-188">Lorsque le contenu ne peut pas être placé près de 2.0 m, le conflit entre les logements Vergences est plus grand quand l’utilisateur entre des distances différentes.</span><span class="sxs-lookup"><span data-stu-id="8abf9-188">When content cannot be placed near 2.0m, discomfort from the vergence-accommodation conflict is greatest when user’s gaze back and forth between different distances.</span></span> <span data-ttu-id="8abf9-189">En d’autres termes, il est bien plus confortable de regarder un hologramme stationnaire situé à 50 cm que de regarder un hologramme situé à 50 cm qui passe son temps à se rapprocher et à s’éloigner de vous.</span><span class="sxs-lookup"><span data-stu-id="8abf9-189">In other words, it is much more comfortable to look at a stationary hologram that stays 50cm away than to look at a hologram 50cm away that moves toward and away from you over time.</span></span>

<span data-ttu-id="8abf9-190">Le placement du contenu à la version 2.0 m est également avantageux, car les deux affichages sont conçus pour se chevaucher entièrement à cette distance.</span><span class="sxs-lookup"><span data-stu-id="8abf9-190">Placing content at 2.0m is also advantageous because the two displays are designed to fully overlap at this distance.</span></span> <span data-ttu-id="8abf9-191">Pour les images placées en dehors de ce plan, à mesure qu’elles s’éloignent du côté du cadre holographique, elles disparaissent d’un affichage tout en étant toujours visibles.</span><span class="sxs-lookup"><span data-stu-id="8abf9-191">For images placed off this plane, as they move off the side of the holographic frame they will disappear from one display while still being visible on the other.</span></span> <span data-ttu-id="8abf9-192">Cette rivalisation binoculaire peut perturber le sentiment de profondeur de l’hologramme.</span><span class="sxs-lookup"><span data-stu-id="8abf9-192">This binocular rivalry can be disruptive to the depth perception of the hologram.</span></span>

<span data-ttu-id="8abf9-193">**Distance optimale pour le placement des hologrammes par rapport à l’utilisateur**</span><span class="sxs-lookup"><span data-stu-id="8abf9-193">**Optimal distance for placing holograms from the user**</span></span>

![Distance optimale pour le placement des hologrammes de l’utilisateur](images/distanceguiderendering-750px.png)

<span data-ttu-id="8abf9-195">**Plans de coupe** Pour un maximum de confort, nous vous recommandons de découper la distance de rendu sur 85cm avec fadeout de contenu à partir de 1 million.</span><span class="sxs-lookup"><span data-stu-id="8abf9-195">**Clip Planes** For maximum comfort, we recommend clipping render distance at 85cm with fadeout of content starting at 1m.</span></span> <span data-ttu-id="8abf9-196">Dans les applications où les hologrammes et les utilisateurs sont à la fois stationnaires, les hologrammes peuvent être affichés confortablement aussi près que 50cm.</span><span class="sxs-lookup"><span data-stu-id="8abf9-196">In applications where holograms and users are both stationary, holograms can be viewed comfortably as near as 50cm.</span></span> <span data-ttu-id="8abf9-197">Dans ce cas, les applications doivent placer un plan de découpage non plus proche de 30cm et la disparition en fondu doit commencer au moins 10cm du plan de découpage.</span><span class="sxs-lookup"><span data-stu-id="8abf9-197">In those cases, applications should place a clip plane no closer than 30cm and fade out should start at least 10cm away from the clip plane.</span></span> <span data-ttu-id="8abf9-198">Chaque fois que le contenu est plus proche de 85cm, il est important de s’assurer que les utilisateurs ne se déplacent pas souvent plus près d’hologrammes, soit que les hologrammes ne se rapprochent pas souvent ou plus de l’utilisateur, car ces situations sont susceptibles de provoquer une gêne à partir du vergence-conflit d’hébergement.</span><span class="sxs-lookup"><span data-stu-id="8abf9-198">Whenever content is closer than 85cm, it is important to ensure that users do not frequently move closer or farther from holograms or that holograms do not frequently move closer to or farther from the user as these situations are most likely to cause discomfort from the vergence-accommodation conflict.</span></span> <span data-ttu-id="8abf9-199">Le contenu doit être conçu pour réduire le besoin d’interaction plus proche que 85cm de l’utilisateur, mais quand le contenu doit être rendu plus proche que 85cm, une bonne règle empirique pour les développeurs consiste à concevoir des scénarios dans lesquels les utilisateurs et/ou les hologrammes ne se déplacent pas plus de 25% du temps.</span><span class="sxs-lookup"><span data-stu-id="8abf9-199">Content should be designed to minimize the need for interaction closer than 85cm from the user, but when content must be rendered closer than 85cm, a good rule of thumb for developers is to design scenarios where users and/or holograms do not move in depth more than 25% of the time.</span></span>

<span data-ttu-id="8abf9-200">**Meilleures pratiques** Quand les hologrammes ne peuvent pas être placés à 2 ou 2 millions de conflits entre la convergence et l’hébergement, la zone optimale pour le placement de l’hologramme est comprise entre 1,25 m et 5 m.</span><span class="sxs-lookup"><span data-stu-id="8abf9-200">**Best practices** When holograms cannot be placed at 2m and conflicts between convergence and accommodation cannot be avoided, the optimal zone for hologram placement is between 1.25m and 5m.</span></span> <span data-ttu-id="8abf9-201">Dans tous les cas, les concepteurs doivent structurer le contenu pour encourager les utilisateurs à interagir à distance de 1 + m (par exemple, ajuster la taille du contenu et les paramètres de positionnement par défaut).</span><span class="sxs-lookup"><span data-stu-id="8abf9-201">In every case, designers should structure content to encourage users to interact 1+ m away (e.g. adjust content size and default placement parameters).</span></span>

## <a name="reprojection"></a><span data-ttu-id="8abf9-202">Reprojection</span><span class="sxs-lookup"><span data-stu-id="8abf9-202">Reprojection</span></span>
<span data-ttu-id="8abf9-203">HoloLens effectue une technique de stabilisation holographique à assistance matérielle sophistiquée appelée reprojection.</span><span class="sxs-lookup"><span data-stu-id="8abf9-203">HoloLens performs a sophisticated hardware-assisted holographic stabilization technique known as reprojection.</span></span> <span data-ttu-id="8abf9-204">Cela prend en compte le mouvement et le changement du point de vue (CameraPose) au fur et à mesure que la scène s’anime et que l’utilisateur déplace sa tête.</span><span class="sxs-lookup"><span data-stu-id="8abf9-204">This takes into account motion and change of the point of view (CameraPose) as the scene animates and the user moves their head.</span></span>  <span data-ttu-id="8abf9-205">Les applications doivent prendre des mesures spécifiques pour utiliser au mieux la reprojection.</span><span class="sxs-lookup"><span data-stu-id="8abf9-205">Applications need to take specific actions to best use reprojection.</span></span>


<span data-ttu-id="8abf9-206">Il existe quatre types principaux de reprojection</span><span class="sxs-lookup"><span data-stu-id="8abf9-206">There are four main types of reprojection</span></span>
* <span data-ttu-id="8abf9-207">**Reprojection de profondeur :**  Cela produit les meilleurs résultats avec le moins d’effort possible de l’application.</span><span class="sxs-lookup"><span data-stu-id="8abf9-207">**Depth Reprojection:**  This produces the best results with the least amount of effort from the application.</span></span>  <span data-ttu-id="8abf9-208">Toutes les parties de la scène rendue sont stabilisées indépendamment en fonction de leur distance par rapport à l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="8abf9-208">All parts of the rendered scene are independently stabilized based on their distance from the user.</span></span>  <span data-ttu-id="8abf9-209">Certains artefacts de rendu peuvent être visibles lorsqu’il y a des modifications nettes en profondeur.</span><span class="sxs-lookup"><span data-stu-id="8abf9-209">Some rendering artifacts may be visible where there are sharp changes in depth.</span></span>  <span data-ttu-id="8abf9-210">Cette option est uniquement disponible sur HoloLens 2 et les casques immersifs.</span><span class="sxs-lookup"><span data-stu-id="8abf9-210">This option is only available on HoloLens 2 and Immersive Headsets.</span></span>
* <span data-ttu-id="8abf9-211">**Reprojection planaire :**  Cela permet à l’application de contrôler précisément la stabilisation.</span><span class="sxs-lookup"><span data-stu-id="8abf9-211">**Planar Reprojection:**  This allows the application precise control over stabilization.</span></span>  <span data-ttu-id="8abf9-212">Un plan est défini par l’application et tout ce qui se trouve sur ce plan est la partie la plus stable de la scène.</span><span class="sxs-lookup"><span data-stu-id="8abf9-212">A plane is set by the application and everything on that plane will be the most stable part of the scene.</span></span>  <span data-ttu-id="8abf9-213">Plus un hologramme est éloigné du plan, moins il sera stable.</span><span class="sxs-lookup"><span data-stu-id="8abf9-213">The further a hologram is away from the plane, the less stable it will be.</span></span>  <span data-ttu-id="8abf9-214">Cette option est disponible sur toutes les plateformes Windows MR.</span><span class="sxs-lookup"><span data-stu-id="8abf9-214">This option is available on all Windows MR platforms.</span></span>
* <span data-ttu-id="8abf9-215">**Reprojection plan automatique :**  Le système définit un plan de stabilisation à l’aide des informations contenues dans le tampon de profondeur.</span><span class="sxs-lookup"><span data-stu-id="8abf9-215">**Automatic Planar Reprojection:**  The system sets a stabilization plane using information in the depth buffer.</span></span>  <span data-ttu-id="8abf9-216">Cette option est disponible sur HoloLens Generation 1 et HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="8abf9-216">This option is available on HoloLens generation 1 and HoloLens 2.</span></span>
* <span data-ttu-id="8abf9-217">**Aucun :** Si l’application ne fait rien, la reprojection planaire est utilisée avec le plan de stabilisation fixe à 2 mètres dans la direction du point de regard de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="8abf9-217">**None:** If the application does nothing, Planar Reprojection is used with the stabilization plane fixed at 2 meters in the direction of the user's head gaze.</span></span>  <span data-ttu-id="8abf9-218">Les résultats des sous-normes sont généralement générés.</span><span class="sxs-lookup"><span data-stu-id="8abf9-218">This will usually produce substandard results.</span></span>

<span data-ttu-id="8abf9-219">Les applications doivent prendre des mesures spécifiques pour activer les différents types de reprojection</span><span class="sxs-lookup"><span data-stu-id="8abf9-219">Applications need to take specific actions to enable the different types of reprojection</span></span>
* <span data-ttu-id="8abf9-220">**Reprojection de profondeur :** L’application soumet son tampon de profondeur au système pour chaque frame rendu.</span><span class="sxs-lookup"><span data-stu-id="8abf9-220">**Depth Reprojection:** The application submits their depth buffer to the system for every rendered frame.</span></span>  <span data-ttu-id="8abf9-221">Sur Unity, cette opération s’effectue à l’aide de l’option « Activer le partage de mémoire tampon de profondeur » dans le volet Paramètres du lecteur.</span><span class="sxs-lookup"><span data-stu-id="8abf9-221">On Unity, this is done with the "Enable Depth Buffer Sharing" option in the Player Settings pane.</span></span>  <span data-ttu-id="8abf9-222">Les applications DirectX appellent CommitDirect3D11DepthBuffer.</span><span class="sxs-lookup"><span data-stu-id="8abf9-222">DirectX apps call CommitDirect3D11DepthBuffer.</span></span>  <span data-ttu-id="8abf9-223">L’application ne doit pas appeler SetFocusPoint.</span><span class="sxs-lookup"><span data-stu-id="8abf9-223">The application should not call SetFocusPoint.</span></span>
* <span data-ttu-id="8abf9-224">**Reprojection planaire :** Sur chaque image, les applications indiquent au système l’emplacement d’un plan à stabiliser.</span><span class="sxs-lookup"><span data-stu-id="8abf9-224">**Planar Reprojection:** On every frame, applications tell the system the location of a plane to stabilize.</span></span>  <span data-ttu-id="8abf9-225">Les applications Unity appellent SetFocusPointForFrame et doivent désactiver l’activation du partage de mémoire tampon de profondeur.</span><span class="sxs-lookup"><span data-stu-id="8abf9-225">Unity applications call SetFocusPointForFrame and should have "Enable Depth Buffer Sharing" disabled.</span></span>  <span data-ttu-id="8abf9-226">Les applications DirectX appellent SetFocusPoint et ne doivent pas appeler CommitDirect3D11DepthBuffer.</span><span class="sxs-lookup"><span data-stu-id="8abf9-226">DirectX apps call SetFocusPoint and should not call CommitDirect3D11DepthBuffer.</span></span>
* <span data-ttu-id="8abf9-227">**Reprojection plan automatique :** Pour ce faire, l’application doit soumettre son tampon de profondeur au système comme pour la reprojection de profondeur.</span><span class="sxs-lookup"><span data-stu-id="8abf9-227">**Automatic Planar Reprojection:** To enable this, the application needs to submit their depth buffer to the system as they would for Depth Reprojection.</span></span>  <span data-ttu-id="8abf9-228">Sur HoloLens 2, l’application doit ensuite SetFocusPoint avec un point de 0, 0 pour chaque trame.</span><span class="sxs-lookup"><span data-stu-id="8abf9-228">On HoloLens 2, the application then needs to SetFocusPoint with a point of 0,0 for every frame.</span></span>  <span data-ttu-id="8abf9-229">Pour la génération de HoloLens 1, l’application ne doit pas appeler SetFocusPoint.</span><span class="sxs-lookup"><span data-stu-id="8abf9-229">For HoloLens generation 1, the application should not call SetFocusPoint.</span></span>

### <a name="choosing-reprojection-technique"></a><span data-ttu-id="8abf9-230">Choix de la technique de reprojection</span><span class="sxs-lookup"><span data-stu-id="8abf9-230">Choosing Reprojection Technique</span></span>

<span data-ttu-id="8abf9-231">Type de stabilisation</span><span class="sxs-lookup"><span data-stu-id="8abf9-231">Stabilization Type</span></span> |    <span data-ttu-id="8abf9-232">Casques immersifs</span><span class="sxs-lookup"><span data-stu-id="8abf9-232">Immersive Headsets</span></span> |    <span data-ttu-id="8abf9-233">Génération HoloLens 1</span><span class="sxs-lookup"><span data-stu-id="8abf9-233">HoloLens generation 1</span></span> | <span data-ttu-id="8abf9-234">HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="8abf9-234">HoloLens 2</span></span>
--- | --- | --- | ---
<span data-ttu-id="8abf9-235">Reprojection de profondeur</span><span class="sxs-lookup"><span data-stu-id="8abf9-235">Depth Reprojection</span></span> |    <span data-ttu-id="8abf9-236">Nos recommandations</span><span class="sxs-lookup"><span data-stu-id="8abf9-236">Recommended</span></span> |   <span data-ttu-id="8abf9-237">NON APPLICABLE</span><span class="sxs-lookup"><span data-stu-id="8abf9-237">N/A</span></span> |   <span data-ttu-id="8abf9-238">Nos recommandations</span><span class="sxs-lookup"><span data-stu-id="8abf9-238">Recommended</span></span><br/><br/><span data-ttu-id="8abf9-239">Les applications Unity doivent utiliser Unity 2018.4.12 ou version ultérieure ou Unity 2019,3 ou une version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="8abf9-239">Unity applications must use Unity 2018.4.12 or later or Unity 2019.3 or later.</span></span> <span data-ttu-id="8abf9-240">Sinon, utilisez la reprojection automatique planaire.</span><span class="sxs-lookup"><span data-stu-id="8abf9-240">Otherwise use Automatic Planar Reprojection.</span></span>
<span data-ttu-id="8abf9-241">Reprojection plan automatique</span><span class="sxs-lookup"><span data-stu-id="8abf9-241">Automatic Planar Reprojection</span></span> | <span data-ttu-id="8abf9-242">NON APPLICABLE</span><span class="sxs-lookup"><span data-stu-id="8abf9-242">N/A</span></span> |   <span data-ttu-id="8abf9-243">Valeur par défaut recommandée</span><span class="sxs-lookup"><span data-stu-id="8abf9-243">Recommended default</span></span> |   <span data-ttu-id="8abf9-244">Recommandé si la reprojection de profondeur ne donne pas les meilleurs résultats</span><span class="sxs-lookup"><span data-stu-id="8abf9-244">Recommended if Depth Reprojection is not giving the best results</span></span><br/><br/><span data-ttu-id="8abf9-245">Les applications Unity sont recommandées pour utiliser Unity 2018.4.12 ou version ultérieure ou Unity 2019,3 ou une version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="8abf9-245">Unity applications are recommended to use Unity 2018.4.12 or later or Unity 2019.3 or later.</span></span>  <span data-ttu-id="8abf9-246">Les versions d’Unity précédentes fonctionnent avec des résultats de reprojection légèrement dégradés.</span><span class="sxs-lookup"><span data-stu-id="8abf9-246">Previous Unity versions will work with slightly degraded reprojection results.</span></span>
<span data-ttu-id="8abf9-247">Reprojection planaire</span><span class="sxs-lookup"><span data-stu-id="8abf9-247">Planar Reprojection</span></span> |   <span data-ttu-id="8abf9-248">Non recommandé</span><span class="sxs-lookup"><span data-stu-id="8abf9-248">Not Recommended</span></span> |   <span data-ttu-id="8abf9-249">Recommandé si le plan automatique ne donne pas les meilleurs résultats</span><span class="sxs-lookup"><span data-stu-id="8abf9-249">Recommended if Automatic Planar is not giving the best results</span></span> |    <span data-ttu-id="8abf9-250">Utilisez si aucune des options de profondeur ne donne les résultats souhaités</span><span class="sxs-lookup"><span data-stu-id="8abf9-250">Use if neither of the depth options give desired results</span></span>    

### <a name="verifying-depth-is-set-correctly"></a><span data-ttu-id="8abf9-251">La précision de la vérification est définie correctement</span><span class="sxs-lookup"><span data-stu-id="8abf9-251">Verifying Depth is Set Correctly</span></span>
            
<span data-ttu-id="8abf9-252">Lorsqu’une méthode de reprojection utilise la mémoire tampon de profondeur, il est important de vérifier que le contenu de la mémoire tampon de profondeur représente la scène rendue de l’application.</span><span class="sxs-lookup"><span data-stu-id="8abf9-252">When a reprojection method uses the depth buffer, it is important to verify that the contents of the depth buffer represents the application's rendered scene.</span></span>  <span data-ttu-id="8abf9-253">Un certain nombre de facteurs peuvent entraîner des problèmes.</span><span class="sxs-lookup"><span data-stu-id="8abf9-253">A number of factors can cause problems.</span></span>  <span data-ttu-id="8abf9-254">Si un deuxième appareil photo est utilisé pour afficher les superpositions de l’interface utilisateur, par exemple, il est probable qu’il remplacera toutes les informations de profondeur de la vue réelle.</span><span class="sxs-lookup"><span data-stu-id="8abf9-254">If there is a second camera used to render user interface overlays, for example, it is likely to overwrite all the depth information from the actual view.</span></span>  <span data-ttu-id="8abf9-255">Les objets transparents ne définissent souvent pas la profondeur.</span><span class="sxs-lookup"><span data-stu-id="8abf9-255">Transparent objects often don't set depth.</span></span>  <span data-ttu-id="8abf9-256">Un rendu de texte ne définit pas la profondeur par défaut.</span><span class="sxs-lookup"><span data-stu-id="8abf9-256">Some text rendering will not set depth by default.</span></span>  <span data-ttu-id="8abf9-257">Il y aura des problèmes visibles dans le rendu lorsque la profondeur ne correspondra pas aux hologrammes rendus.</span><span class="sxs-lookup"><span data-stu-id="8abf9-257">There will be visible glitches in the rendering when depth does not match the rendered holograms.</span></span>
            
<span data-ttu-id="8abf9-258">HoloLens 2 a un visualiseur pour indiquer où Depth est et n’est pas défini.</span><span class="sxs-lookup"><span data-stu-id="8abf9-258">HoloLens 2 has a visualizer to show where depth is and is not being set.</span></span>  <span data-ttu-id="8abf9-259">Activez-le à partir du portail de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="8abf9-259">Enable this from Device Portal.</span></span>  <span data-ttu-id="8abf9-260">Dans les **vues** > onglet **stabilité** de l’hologramme, activez la case à cocher **afficher la visualisation de profondeur dans le casque** .</span><span class="sxs-lookup"><span data-stu-id="8abf9-260">On the **Views** > **Hologram Stability** tab, select the **Display depth visualization in headset** checkbox.</span></span>  <span data-ttu-id="8abf9-261">Les zones dont la profondeur est définie correctement sont bleues.</span><span class="sxs-lookup"><span data-stu-id="8abf9-261">Areas that have depth set properly will be blue.</span></span>  <span data-ttu-id="8abf9-262">Les éléments rendus qui n’ont pas d’ensemble de profondeur sont rouges et doivent donc être corrigés.</span><span class="sxs-lookup"><span data-stu-id="8abf9-262">Rendered items that do not have depth set will be red and therefore need fixing.</span></span>  <span data-ttu-id="8abf9-263">Notez que la visualisation de la profondeur n’apparaît pas dans la capture de la réalité mixte.</span><span class="sxs-lookup"><span data-stu-id="8abf9-263">Note that the visualization of the depth will not show up in Mixed Reality Capture.</span></span>  <span data-ttu-id="8abf9-264">Il n’est visible que par l’intermédiaire de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="8abf9-264">It is only visible through the device.</span></span>
            
<span data-ttu-id="8abf9-265">Certains outils d’affichage GPU permettent de visualiser le tampon de profondeur.</span><span class="sxs-lookup"><span data-stu-id="8abf9-265">Some GPU viewing tools will allow visualization of the depth buffer.</span></span>  <span data-ttu-id="8abf9-266">Les développeurs d’applications peuvent utiliser ces outils pour s’assurer que la profondeur est correctement définie.</span><span class="sxs-lookup"><span data-stu-id="8abf9-266">Application developers can use these tools to make sure depth is being set properly.</span></span>  <span data-ttu-id="8abf9-267">Consultez la documentation pour les outils de l’application.</span><span class="sxs-lookup"><span data-stu-id="8abf9-267">Consult the documentation for the application's tools.</span></span>

### <a name="using-planar-reprojection"></a><span data-ttu-id="8abf9-268">Utilisation de la reprojection planaire</span><span class="sxs-lookup"><span data-stu-id="8abf9-268">Using Planar Reprojection</span></span>
> [!NOTE]
> <span data-ttu-id="8abf9-269">Pour les casques immersifs sur les ordinateurs de bureau, la définition d’un plan de stabilisation est généralement moins productive, car elle offre moins de qualité visuelle que le fait de fournir le tampon de profondeur de votre application au système pour permettre une reprojection basée sur la profondeur par pixel.</span><span class="sxs-lookup"><span data-stu-id="8abf9-269">For desktop immersive headsets, setting a stabilization plane is usually counter-productive, as it offers less visual quality than providing your app's depth buffer to the system to enable per-pixel depth-based reprojection.</span></span> <span data-ttu-id="8abf9-270">À moins d’être exécuté sur un HoloLens, vous devez généralement éviter de définir le plan de stabilisation.</span><span class="sxs-lookup"><span data-stu-id="8abf9-270">Unless running on a HoloLens, you should generally avoid setting the stabilization plane.</span></span>

![Plan de stabilisation pour les objets 3D](images/stab-plane-500px.jpg)

<span data-ttu-id="8abf9-272">L’appareil tente automatiquement de choisir ce plan, mais l’application doit assister à ce processus en sélectionnant le point de focus dans la scène.</span><span class="sxs-lookup"><span data-stu-id="8abf9-272">The device will automatically attempt to choose this plane, but the application should assist in this process by selecting the focus point in the scene.</span></span> <span data-ttu-id="8abf9-273">Les applications Unity qui s’exécutent sur un HoloLens doivent choisir le meilleur point de focalisation en fonction de votre scène et la transmettre à [SetFocusPoint ()](focus-point-in-unity.md).</span><span class="sxs-lookup"><span data-stu-id="8abf9-273">Unity apps running on a HoloLens should choose the best focus point based on your scene and pass this into [SetFocusPoint()](focus-point-in-unity.md).</span></span> <span data-ttu-id="8abf9-274">Un exemple de définition du point de focus dans DirectX est inclus dans le modèle de cube à rotation par défaut.</span><span class="sxs-lookup"><span data-stu-id="8abf9-274">An example of setting the focus point in DirectX is included in the default spinning cube template.</span></span>

<span data-ttu-id="8abf9-275">Notez que lorsque votre application Unity s’exécute sur un casque immersif connecté à un PC de bureau, Unity envoie votre tampon de profondeur à Windows pour permettre une reprojection par pixel, ce qui offre généralement une meilleure qualité d’image sans un travail explicite de la part de l’application.</span><span class="sxs-lookup"><span data-stu-id="8abf9-275">Note that when your Unity app runs on an immersive headset connected to a desktop PC, Unity will submit your depth buffer to Windows to enable per-pixel reprojection, which will usually provide even better image quality without explicit work by the app.</span></span> <span data-ttu-id="8abf9-276">Si vous fournissez un point de focus qui remplacera la reprojection par pixel, vous ne devez le faire que lorsque votre application s’exécute sur un HoloLens.</span><span class="sxs-lookup"><span data-stu-id="8abf9-276">If you provide a Focus Point, that will override the per-pixel reprojection, so you should only do so when your app is running on a HoloLens.</span></span>




```cs
// SetFocusPoint informs the system about a specific point in your scene to
// prioritize for image stabilization. The focus point is set independently
// for each holographic camera.
// You should set the focus point near the content that the user is looking at.
// In this example, we put the focus point at the center of the sample hologram,
// since that is the only hologram available for the user to focus on.
// You can also set the relative velocity and facing of that content; the sample
// hologram is at a fixed point so we only need to indicate its position.
renderingParameters.SetFocusPoint(
    currentCoordinateSystem,
    spinningCubeRenderer.Position
    );
```

<span data-ttu-id="8abf9-277">Le positionnement du point de concentration dépend en grande partie de ce que l’hologramme examine.</span><span class="sxs-lookup"><span data-stu-id="8abf9-277">Placement of the focus point largely depends on what the hologram is looking at.</span></span> <span data-ttu-id="8abf9-278">L’application a le vecteur de pointage pour référence et le concepteur d’applications sait à quel contenu il souhaite que l’utilisateur observe.</span><span class="sxs-lookup"><span data-stu-id="8abf9-278">The app has the gaze vector for reference and the app designer knows what content they want the user to observe.</span></span>

<span data-ttu-id="8abf9-279">La seule chose la plus importante qu’un développeur puisse faire pour stabiliser des hologrammes est son rendu à 60 FPS.</span><span class="sxs-lookup"><span data-stu-id="8abf9-279">The single most important thing a developer can do to stabilize holograms is to render at 60 FPS.</span></span> <span data-ttu-id="8abf9-280">La chute inférieure à 60 FPS réduit considérablement la stabilité des hologrammes, quelle que soit l’optimisation du plan de stabilisation.</span><span class="sxs-lookup"><span data-stu-id="8abf9-280">Dropping below 60 FPS will dramatically reduce hologram stability, regardless of the stabilization plane optimization.</span></span>

<span data-ttu-id="8abf9-281">**Meilleures pratiques** Il n’existe pas de méthode universelle pour configurer le plan de stabilisation et il est spécifique à l’application. par conséquent, la recommandation principale consiste à expérimenter et à voir ce qui convient le mieux à vos scénarios.</span><span class="sxs-lookup"><span data-stu-id="8abf9-281">**Best practices** There is no universal way to set up the stabilization plane and it is app-specific, so the main recommendation is to experiment and see what works best for your scenarios.</span></span> <span data-ttu-id="8abf9-282">Toutefois, essayez d’aligner le plan de stabilisation avec autant de contenu que possible, car tout le contenu de ce plan est parfaitement stabilisé.</span><span class="sxs-lookup"><span data-stu-id="8abf9-282">However, try to align the stabilization plane with as much content as possible because all the content on this plane is perfectly stabilized.</span></span>

<span data-ttu-id="8abf9-283">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="8abf9-283">For example:</span></span>
* <span data-ttu-id="8abf9-284">Si vous disposez uniquement d’un contenu planaire (lecture de l’application de lecture vidéo), alignez le plan de stabilisation avec le plan qui contient votre contenu.</span><span class="sxs-lookup"><span data-stu-id="8abf9-284">If you have only planar content (reading app, video playback app), align the stabilization plane with the plane that has your content.</span></span>
* <span data-ttu-id="8abf9-285">Si 3 petites sphères sont verrouillées au niveau mondial, faites en sorte que le plan de stabilisation soit « coupé » bien que les centres de tous les sphères soient actuellement dans la vue de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="8abf9-285">If there are 3 small spheres that are world-locked, make the stabilization plane "cut" though the centers of all the spheres that are currently in the user's view.</span></span>
* <span data-ttu-id="8abf9-286">Si votre scène a du contenu à des profondeurs sensiblement différentes, privilégiez les autres objets.</span><span class="sxs-lookup"><span data-stu-id="8abf9-286">If your scene has content at substantially different depths, favor further objects.</span></span>
* <span data-ttu-id="8abf9-287">Veillez à ajuster le point de stabilisation chaque cadre pour qu’il coïncide avec l’hologramme que l’utilisateur regarde.</span><span class="sxs-lookup"><span data-stu-id="8abf9-287">Make sure to adjust the stabilization point every frame to coincide with the hologram the user is looking at</span></span>

<span data-ttu-id="8abf9-288">**Éléments à éviter** Le plan de stabilisation est un outil formidable pour obtenir des hologrammes stables, mais en cas d’utilisation inutilisée, cela peut entraîner une sérieuse instabilité de l’image.</span><span class="sxs-lookup"><span data-stu-id="8abf9-288">**Things to Avoid** The stabilization plane is a great tool to achieve stable holograms, but if misused it can result in severe image instability.</span></span>
* <span data-ttu-id="8abf9-289">Ne pas « déclencher et oublier », car vous pouvez vous retrouver avec le plan de stabilisation derrière l’utilisateur ou attaché à un objet qui n’est plus dans la vue de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="8abf9-289">Don't "fire and forget", since you can end up with the stabilization plane behind the user or attached to an object that is no longer in the user's view.</span></span> <span data-ttu-id="8abf9-290">Assurez-vous que le plan de stabilisation normal est défini comme étant l’inverse de la caméra (par exemple,-Camera. Forward)</span><span class="sxs-lookup"><span data-stu-id="8abf9-290">Ensure the stabilization plane normal is set opposite camera-forward (e.g. -camera.forward)</span></span>
* <span data-ttu-id="8abf9-291">Ne modifiez pas rapidement le plan de stabilisation entre les extrêmes</span><span class="sxs-lookup"><span data-stu-id="8abf9-291">Don't rapidly change the stabilization plane back and forth between extremes</span></span>
* <span data-ttu-id="8abf9-292">Ne laissez pas le plan de stabilisation défini sur une distance/orientation fixe</span><span class="sxs-lookup"><span data-stu-id="8abf9-292">Don't leave the stabilization plane set to a fixed distance/orientation</span></span>
* <span data-ttu-id="8abf9-293">Ne laissez pas le plan de stabilisation passer par l’utilisateur</span><span class="sxs-lookup"><span data-stu-id="8abf9-293">Don't let the stabilization plane cut through the user</span></span>
* <span data-ttu-id="8abf9-294">Ne définissez pas le point de focus lorsqu’il s’exécute sur un PC de bureau plutôt qu’un HoloLens, et recourez plutôt à une reprojection basée sur la profondeur par pixel.</span><span class="sxs-lookup"><span data-stu-id="8abf9-294">Don't set the focus point when running on a desktop PC rather than a HoloLens, and instead rely on per-pixel depth-based reprojection.</span></span>

## <a name="color-separation"></a><span data-ttu-id="8abf9-295">Séparation des couleurs</span><span class="sxs-lookup"><span data-stu-id="8abf9-295">Color separation</span></span> 

<span data-ttu-id="8abf9-296">En raison de la nature des affichages HoloLens, un artefact appelé « séparation des couleurs » peut parfois être perçu.</span><span class="sxs-lookup"><span data-stu-id="8abf9-296">Due to the nature of HoloLens displays, an artifact called "color-separation" can sometimes be perceived.</span></span> <span data-ttu-id="8abf9-297">Il se manifeste en tant qu’image séparant les couleurs de base individuelles (rouge, vert et bleu).</span><span class="sxs-lookup"><span data-stu-id="8abf9-297">It manifests as the image separating into individual base colors - red, green and blue.</span></span> <span data-ttu-id="8abf9-298">L’artefact peut être particulièrement visible lors de l’affichage d’objets blancs, car ils ont de grandes quantités de rouge, de vert et de bleu.</span><span class="sxs-lookup"><span data-stu-id="8abf9-298">The artifact can be especially visible when displaying white objects, since they have large amounts of red, green and blue.</span></span> <span data-ttu-id="8abf9-299">Il est plus prononcé lorsqu’un utilisateur effectue un suivi visuel d’un hologramme qui se déplace sur l’image holographique à grande vitesse.</span><span class="sxs-lookup"><span data-stu-id="8abf9-299">It is most pronounced when a user visually tracks a hologram that is moving across the holographic frame at high speed.</span></span> <span data-ttu-id="8abf9-300">Une autre façon dont l’artefact peut manifester est la déformation/déformation des objets.</span><span class="sxs-lookup"><span data-stu-id="8abf9-300">Another way the artifact can manifest is warping/deformation of objects.</span></span> <span data-ttu-id="8abf9-301">Si un objet a des couleurs à contraste élevé et/ou pur (rouge, vert, bleu), la séparation des couleurs est perçue comme déviation des différentes parties de l’objet.</span><span class="sxs-lookup"><span data-stu-id="8abf9-301">If an object has high contrast and/or pure colors (red, green, blue), color-separation will be perceived as warping of different parts of the object.</span></span>

<span data-ttu-id="8abf9-302">**Exemple de ce à quoi peut ressembler la séparation des couleurs d’un curseur blanc en tête verrouillé à mesure qu’un utilisateur fait pivoter son en-tête sur le côté :**</span><span class="sxs-lookup"><span data-stu-id="8abf9-302">**Example of what the color separation of a head-locked white round cursor could look like as a user rotates their head to the side:**</span></span>

![Exemple de ce à quoi peut ressembler la séparation des couleurs d’un curseur blanc en tête verrouillé à mesure qu’un utilisateur fait pivoter son en-tête sur le côté.](images/colorseparationofroundwhitecursor-300px.png)

<span data-ttu-id="8abf9-304">Bien qu’il soit difficile d’éviter complètement la séparation des couleurs, plusieurs techniques sont disponibles pour y remédier.</span><span class="sxs-lookup"><span data-stu-id="8abf9-304">Though it's difficult to completely avoid color separation, there are several techniques available to mitigate it.</span></span>

<span data-ttu-id="8abf9-305">**La séparation des couleurs peut être observée sur :**</span><span class="sxs-lookup"><span data-stu-id="8abf9-305">**Color-separation can be seen on:**</span></span>
* <span data-ttu-id="8abf9-306">Objets qui se déplacent rapidement, y compris les objets verrouillés en tête tels que le [curseur](cursors.md).</span><span class="sxs-lookup"><span data-stu-id="8abf9-306">Objects that are moving quickly, including head-locked objects such as the [cursor](cursors.md).</span></span>
* <span data-ttu-id="8abf9-307">Objets qui sont largement éloignés du [plan de stabilisation](hologram-stability.md#reprojection).</span><span class="sxs-lookup"><span data-stu-id="8abf9-307">Objects that are substantially far from the [stabilization plane](hologram-stability.md#reprojection).</span></span>

<span data-ttu-id="8abf9-308">**Pour atténuer les effets de la séparation des couleurs :**</span><span class="sxs-lookup"><span data-stu-id="8abf9-308">**To attenuate the effects of color-separation:**</span></span>
* <span data-ttu-id="8abf9-309">Faites en sorte que l’objet retarde le regard de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="8abf9-309">Make the object lag the user's gaze.</span></span> <span data-ttu-id="8abf9-310">Elle doit apparaître comme si elle avait une certaine inertie et est attachée au point de regard « sur les ressorts ».</span><span class="sxs-lookup"><span data-stu-id="8abf9-310">It should appear as if it has some inertia and is attached to the gaze "on springs".</span></span> <span data-ttu-id="8abf9-311">Cela ralentit le curseur (ce qui réduit la distance de séparation) et le met derrière le point de regard probable de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="8abf9-311">This slows the cursor (reducing separation distance) and puts it behind the user's likely gaze point.</span></span> <span data-ttu-id="8abf9-312">Tant qu’il rattrape rapidement l’utilisateur quand l’utilisateur cesse de décaler son point d’arrêt, il pense que tout est naturel.</span><span class="sxs-lookup"><span data-stu-id="8abf9-312">So long as it quickly catches up when the user stops shifting their gaze it feels quite natural.</span></span>
* <span data-ttu-id="8abf9-313">Si vous ne souhaitez pas déplacer un hologramme, essayez de conserver sa vitesse de mouvement en dessous de 5 degrés/seconde si vous pensez que l’utilisateur le suivra avec ses yeux.</span><span class="sxs-lookup"><span data-stu-id="8abf9-313">If you do want to move a hologram, try to keep its movement speed below 5 degrees/second if you anticipate that the user will follow it with their eyes.</span></span>
* <span data-ttu-id="8abf9-314">Utilisez *Light* au lieu de *Geometry* pour le curseur.</span><span class="sxs-lookup"><span data-stu-id="8abf9-314">Use *light* instead of *geometry* for the cursor.</span></span> <span data-ttu-id="8abf9-315">Une source d’éclairage virtuel attachée au point de regard est perçue comme un pointeur interactif, mais n’entraîne pas de séparation des couleurs.</span><span class="sxs-lookup"><span data-stu-id="8abf9-315">A source of virtual illumination attached to the gaze will be perceived as an interactive pointer but will not cause color-separation.</span></span>
* <span data-ttu-id="8abf9-316">Ajustez le plan de stabilisation pour qu’il corresponde aux hologrammes auxquels l’utilisateur est Gazing.</span><span class="sxs-lookup"><span data-stu-id="8abf9-316">Adjust the stabilization plane to match the holograms the user is gazing at.</span></span>
* <span data-ttu-id="8abf9-317">Rendre l’objet rouge, vert ou bleu.</span><span class="sxs-lookup"><span data-stu-id="8abf9-317">Make the object red, green or blue.</span></span>
* <span data-ttu-id="8abf9-318">Basculez vers une version floue du contenu.</span><span class="sxs-lookup"><span data-stu-id="8abf9-318">Switch to a blurred version of the content.</span></span> <span data-ttu-id="8abf9-319">Par exemple, un curseur blanc rond peut être remplacé par une ligne légèrement floue dans le sens du mouvement.</span><span class="sxs-lookup"><span data-stu-id="8abf9-319">For example, a round white cursor could be changed to a slightly blurred line oriented in the direction of motion.</span></span>

<span data-ttu-id="8abf9-320">Comme précédemment, le rendu à 60 FPS et la définition du plan de stabilisation sont les techniques les plus importantes pour la stabilité des hologrammes.</span><span class="sxs-lookup"><span data-stu-id="8abf9-320">As before, rendering at 60 FPS and setting the stabilization plane are the most important techniques for hologram stability.</span></span> <span data-ttu-id="8abf9-321">En cas de séparation sensible des couleurs, vérifiez d’abord que la fréquence d’images répond aux attentes.</span><span class="sxs-lookup"><span data-stu-id="8abf9-321">If facing noticeable color separation, first make sure the frame rate meets expectations.</span></span>

## <a name="see-also"></a><span data-ttu-id="8abf9-322">Articles associés</span><span class="sxs-lookup"><span data-stu-id="8abf9-322">See also</span></span>
* [<span data-ttu-id="8abf9-323">Comprendre les performances de la réalité mixte</span><span class="sxs-lookup"><span data-stu-id="8abf9-323">Understanding Performance for Mixed Reality</span></span>](understanding-performance-for-mixed-reality.md)
* [<span data-ttu-id="8abf9-324">Couleurs, éclairage et matériaux</span><span class="sxs-lookup"><span data-stu-id="8abf9-324">Color, light and materials</span></span>](color,-light-and-materials.md)
* [<span data-ttu-id="8abf9-325">Interactions instinctuelles</span><span class="sxs-lookup"><span data-stu-id="8abf9-325">Instinctual interactions</span></span>](interaction-fundamentals.md)
* [<span data-ttu-id="8abf9-326">Stabilisation de l’hologramme MRTK</span><span class="sxs-lookup"><span data-stu-id="8abf9-326">MRTK Hologram Stabilization</span></span>](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/hologram-stabilization.html)
