---
title: Étude de cas - capture et création de contenu à HoloTour
description: HoloTour pour Microsoft HoloLens fournit des visites personnelles 3D IMMERSIFS des emplacements sous forme d’icône dans le monde entier.
author: DannyAskew
ms.author: daaske
ms.date: 03/21/2018
ms.topic: article
keywords: Windows HoloTour, HoloLens, une réalité mixte
ms.openlocfilehash: 6c9e5f44c439310883c8b0271187a7b2263b0854
ms.sourcegitcommit: 384b0087899cd835a3a965f75c6f6c607c9edd1b
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/12/2019
ms.locfileid: "59593279"
---
# <a name="case-study---capturing-and-creating-content-for-holotour"></a><span data-ttu-id="f8e35-104">Étude de cas - capture et création de contenu à HoloTour</span><span class="sxs-lookup"><span data-stu-id="f8e35-104">Case study - Capturing and creating content for HoloTour</span></span>

<span data-ttu-id="f8e35-105">HoloTour pour Microsoft HoloLens fournit des visites personnelles 3D IMMERSIFS des emplacements sous forme d’icône dans le monde entier.</span><span class="sxs-lookup"><span data-stu-id="f8e35-105">HoloTour for Microsoft HoloLens provides immersive 3D personal tours of iconic locations around the world.</span></span> <span data-ttu-id="f8e35-106">En tant que les concepteurs, les artistes, producteurs, concepteurs audio et les développeurs qui travaillent sur ce projet a découvert, la création d’un rendu 3D convaincante réelle d’un emplacement connu prend un ensemble unique de savez-vous exactement créatif et technologique.</span><span class="sxs-lookup"><span data-stu-id="f8e35-106">As the designers, artists, producers, audio designers, and developers working on this project found out, creating a convincingly real 3D rendering of a well-known location takes a unique blend of creative and technological wizardry.</span></span>

## <a name="the-tech"></a><span data-ttu-id="f8e35-107">Les technologies</span><span class="sxs-lookup"><span data-stu-id="f8e35-107">The tech</span></span>

<span data-ttu-id="f8e35-108">Avec HoloTour, nous voulions que possible pour les personnes à consulter certaines des destinations plus importante au monde, comme le [ruins de Machu Picchu](https://en.wikipedia.org/wiki/Machu_Picchu) dans Pérou ou le jour modern [déployé Navona](https://en.wikipedia.org/wiki/Piazza_Navona) en Italie, directement à partir de leurs propres salons.</span><span class="sxs-lookup"><span data-stu-id="f8e35-108">With HoloTour, we wanted to make it possible for people to visit some of the world’s most amazing destinations—like the [ruins of Machu Picchu](https://en.wikipedia.org/wiki/Machu_Picchu) in Peru or the modern day [Piazza Navona](https://en.wikipedia.org/wiki/Piazza_Navona) in Italy—right from their own living rooms.</span></span> <span data-ttu-id="f8e35-109">Notre équipe rendait l’objectif de HoloTour pour « faire vous estimez que vous y êtes vraiment. »</span><span class="sxs-lookup"><span data-stu-id="f8e35-109">Our team made it the goal of HoloTour to “make you feel like you’re really there.”</span></span> <span data-ttu-id="f8e35-110">L’expérience nécessaire pour être plus que des images ou des vidéos.</span><span class="sxs-lookup"><span data-stu-id="f8e35-110">The experience needed to be more than just pictures or videos.</span></span> <span data-ttu-id="f8e35-111">En tirant parti de l’affichage unique, le suivi et la technologie audio de HoloLens nous croire que nous avons pratiquement vous transport vers un autre emplacement.</span><span class="sxs-lookup"><span data-stu-id="f8e35-111">By leveraging the unique display, tracking, and audio technology of HoloLens we believed we could virtually transport you to another place.</span></span> <span data-ttu-id="f8e35-112">Il nous faudrait capturer les paysages, sons et la géométrie 3D de chaque emplacement nous visité et puis recréez qui au sein de notre application.</span><span class="sxs-lookup"><span data-stu-id="f8e35-112">We would need to capture the sights, sounds, and three-dimensional geometry of every location we visited and then recreate that within our app.</span></span>

<span data-ttu-id="f8e35-113">Pour ce faire, nous avions besoin d’une caméra à 360 ° rayon avec la capture audio directionnelle.</span><span class="sxs-lookup"><span data-stu-id="f8e35-113">In order to do this, we needed a 360° camera rig with directional audio capture.</span></span> <span data-ttu-id="f8e35-114">Il est nécessaire pour capturer à très haute résolution, afin que le tournage ressemblerait clair lors de la lecture sur un HoloLens et les caméras devait être positionné proches afin de réduire les artefacts de liaison.</span><span class="sxs-lookup"><span data-stu-id="f8e35-114">It needed to capture at extremely high resolution, so that the footage would look crisp when played back on a HoloLens and the cameras would need to be positioned close together in order to minimize stitching artifacts.</span></span> <span data-ttu-id="f8e35-115">Nous voulions complète sphérique couverture, pas seulement le long de l’horizon, mais au-dessus et au-dessous de vous aussi.</span><span class="sxs-lookup"><span data-stu-id="f8e35-115">We wanted full spherical coverage, not just along the horizon, but above and below you as well.</span></span> <span data-ttu-id="f8e35-116">La plateforme est également nécessaire pour être portable afin que nous pourrions mettez-le dans le monde entier.</span><span class="sxs-lookup"><span data-stu-id="f8e35-116">The rig also needed to be portable so that we could take it all over the world.</span></span> <span data-ttu-id="f8e35-117">Nous évaluée options prêtes à l’emploi disponibles et me suis rendu compte qu’ils simplement n’ont pas été suffisamment efficace pour concrétiser notre vision : soit en raison de la résolution, de coût ou de taille.</span><span class="sxs-lookup"><span data-stu-id="f8e35-117">We evaluated available off-the-shelf options and realized they simply weren’t good enough to realize our vision – either because of resolution, cost, or size.</span></span> <span data-ttu-id="f8e35-118">Si nous n’avons pas pu trouver une plate-forme d’appareil photo qui satisfait nos besoins, nous devrions générer un nous-mêmes.</span><span class="sxs-lookup"><span data-stu-id="f8e35-118">If we couldn’t find a camera rig that satisfied our needs, we would have to build one ourselves.</span></span>

### <a name="building-the-rig"></a><span data-ttu-id="f8e35-119">Création de la plate-forme de test</span><span class="sxs-lookup"><span data-stu-id="f8e35-119">Building the rig</span></span>

<span data-ttu-id="f8e35-120">La première version, effectuées à partir de carton, Velcro, ruban adhésif sur bande et les caméras GoPro 14 — était quelque chose que MacGyver aurait été fier.</span><span class="sxs-lookup"><span data-stu-id="f8e35-120">The first version—made from cardboard, Velcro, duct tape, and 14 GoPro cameras—was something MacGyver would have been proud of.</span></span> <span data-ttu-id="f8e35-121">Après avoir examiné tous les éléments à partir de solutions bas de gamme aux plates-formes fabriqués personnalisés, des caméras de GoPro ont été finalement la meilleure option pour nous, car elles ont été petit, abordable et facile à utiliser la mémoire stockage.</span><span class="sxs-lookup"><span data-stu-id="f8e35-121">After reviewing everything from low-end solutions to custom manufactured rigs, GoPro cameras were ultimately the best option for us because they were small, affordable, and had easy-to-use memory storage.</span></span> <span data-ttu-id="f8e35-122">Le facteur de forme petit a été particulièrement important, car il a permis de placer des caméras relativement proches, plus la distance entre les caméras est petite, plus les artefacts liaison seront.</span><span class="sxs-lookup"><span data-stu-id="f8e35-122">The small form factor was especially important because it allowed us to place cameras fairly close together—the smaller the distance between cameras, the smaller the stitching artifacts will be.</span></span> <span data-ttu-id="f8e35-123">Notre accord de caméra unique nous a permis à obtenir une couverture complète sphère *plus* suffisamment chevauchement aligner des caméras et aplanir certains artefacts pendant le processus de liaison.</span><span class="sxs-lookup"><span data-stu-id="f8e35-123">Our unique camera arrangement allowed us to get full sphere coverage *plus* enough overlap to intelligently align cameras and smooth out some artifacts during the stitching process.</span></span>

<span data-ttu-id="f8e35-124">En tirant parti de la [son spatial](spatial-sound.md) fonctionnalités sur HoloLens est essentielle à la création d’une expérience immersive convaincante réel.</span><span class="sxs-lookup"><span data-stu-id="f8e35-124">Taking advantage of the [spatial sound](spatial-sound.md) capabilities on HoloLens is critical to creating a convincingly real immersive experience.</span></span> <span data-ttu-id="f8e35-125">Nous avons utilisé un tableau de quatre-microphone situé sous les caméras sur trépied, ce qui serait capturer du son à partir de l’emplacement de notre appareil photo dans quatre directions, qui nous donne suffisamment d’informations pour créer des sons spatiales dans notre scènes.</span><span class="sxs-lookup"><span data-stu-id="f8e35-125">We used a four-microphone array situated beneath the cameras on the tripod, which would capture sound from the location of our camera in four directions, giving us enough information to create spatial sounds in our scenes.</span></span>

![Notre plateforme d’appareil photo de 360° configurée pour filmer en dehors de la Pantheon.](images/camera-pantheon-200px.png)

<span data-ttu-id="f8e35-127">Notre plateforme d’appareil photo de 360° configurée pour filmer en dehors de la Pantheon.</span><span class="sxs-lookup"><span data-stu-id="f8e35-127">Our 360° camera rig set up for filming outside the Pantheon.</span></span> 


<span data-ttu-id="f8e35-128">Nous avons testé out notre plate-forme garderez le souvenir en la migrant jusqu'à Ridge Rattlesnake près de Seattle, capture la scène en haut de la randonnée.</span><span class="sxs-lookup"><span data-stu-id="f8e35-128">We tested out our homemade rig by taking it up to Rattlesnake Ridge near Seattle, capturing the scenery at the top of the hike.</span></span> <span data-ttu-id="f8e35-129">Le résultat, même si beaucoup moins finalisée que les emplacements que vous consultez dans HoloTour aujourd'hui, nous a donné confiance notre conception de la plateforme de test a été suffisamment efficace pour que vous soyez, vous avez vraiment il.</span><span class="sxs-lookup"><span data-stu-id="f8e35-129">The result, though significantly less polished than the locations you see in HoloTour today, gave us confidence that our rig design was good enough to make you feel like you’re really there.</span></span>

<span data-ttu-id="f8e35-130">Nous mis à niveau notre plate-forme Velcro et carton vers un logement de caméra imprimée en 3D et a acheté des packs de batterie externe pour les caméras GoPro simplifier la gestion de la batterie.</span><span class="sxs-lookup"><span data-stu-id="f8e35-130">We upgraded our rig from Velcro and cardboard to a 3D-printed camera housing and bought external battery packs for the GoPro cameras to simplify battery management.</span></span> <span data-ttu-id="f8e35-131">Ensuite, nous avons un test plus complet, en déplacement à San Francisco pour créer une visite de la miniature de la ville côte d’et le pont de Golden Gate sous forme d’icône.</span><span class="sxs-lookup"><span data-stu-id="f8e35-131">We then did a more extensive test, traveling down to San Francisco to create a miniature tour of the city’s coast and the iconic Golden Gate bridge.</span></span> <span data-ttu-id="f8e35-132">Cette plateforme d’appareil photo est ce que nous avons utilisé pour la plupart de nos captures des emplacements que vous visitez dans HoloTour.</span><span class="sxs-lookup"><span data-stu-id="f8e35-132">This camera rig is what we used for most of our captures of the locations you visit in HoloTour.</span></span>

![La plate-forme de caméra à 360° filmer dans Machu Picchu.](images/camera-machu-pichu-500px.png)

<span data-ttu-id="f8e35-134">La plate-forme de caméra à 360° filmer dans Machu Picchu.</span><span class="sxs-lookup"><span data-stu-id="f8e35-134">The 360° camera rig filming in Machu Picchu.</span></span> 


## <a name="behind-the-scenes"></a><span data-ttu-id="f8e35-135">En arrière-plan</span><span class="sxs-lookup"><span data-stu-id="f8e35-135">Behind the scenes</span></span>

<span data-ttu-id="f8e35-136">Avant de filmer, nous devions figure out quels emplacements nous souhaitons inclure sur notre visite virtuelle.</span><span class="sxs-lookup"><span data-stu-id="f8e35-136">Before filming, we needed to figure out which locations we wanted to include on our virtual tour.</span></span> <span data-ttu-id="f8e35-137">Rome a été le premier emplacement à que nous destinés et nous souhaitions faire correctement, nous avons donc décidé à faire un trajet en utilisant à l’avance.</span><span class="sxs-lookup"><span data-stu-id="f8e35-137">Rome was the first location we intended to ship and we wanted to get it right, so we decided to do a scouting trip in advance.</span></span> <span data-ttu-id="f8e35-138">Nous avons envoyé une équipe de six personnes, y compris les artistes, les concepteurs et les producteurs — pour une visite en personne aux sites nous étions en train de proposer.</span><span class="sxs-lookup"><span data-stu-id="f8e35-138">We sent a team of six people—including artists, designers, and producers—for an in-person visit to the sites we were considering.</span></span> <span data-ttu-id="f8e35-139">Le voyage a duré environ 9 jours – 2.5 pour les déplacements, le reste pour filmer.</span><span class="sxs-lookup"><span data-stu-id="f8e35-139">The trip took about 9 days – 2.5 for travel, the rest for filming.</span></span> <span data-ttu-id="f8e35-140">(Pour Machu Picchu nous choisi de ne pas pour faire un trajet scout, effectuer des recherches à l’avance et de réservation de quelques jours de la mémoire tampon pour filmer.)</span><span class="sxs-lookup"><span data-stu-id="f8e35-140">(For Machu Picchu we opted not to do a scout trip, researching in advance and booking a few days of buffer for filming.)</span></span>

<span data-ttu-id="f8e35-141">Tandis que dans Rome, l’équipe a pris des photos de chaque zone et noter les faits intéressants, ainsi que des considérations pratiques, comme il est difficile à transiter vers chaque place et la difficulté qu’il serait un film en raison de la foule ou restrictions.</span><span class="sxs-lookup"><span data-stu-id="f8e35-141">While in Rome, the team took photos of each area and noted interesting facts as well as practical considerations, such as how hard it is to travel to each spot and how difficult it would be to film because of crowds or restrictions.</span></span> <span data-ttu-id="f8e35-142">Cela peut paraître un congé, mais il y a beaucoup de travail.</span><span class="sxs-lookup"><span data-stu-id="f8e35-142">This may sound like a vacation, but it’s a lot of work.</span></span> <span data-ttu-id="f8e35-143">Jours a commencé tôt le matin et irait sans interruption jusqu'à ce que le soir.</span><span class="sxs-lookup"><span data-stu-id="f8e35-143">Days started early in the morning and would go non-stop until evening.</span></span> <span data-ttu-id="f8e35-144">Chaque nuit, métrage était chargé pour l’équipe à Seattle pour passer en revue.</span><span class="sxs-lookup"><span data-stu-id="f8e35-144">Each night, footage was uploaded for the team back in Seattle to review.</span></span> 

![Notre groupe de capture à Rome.](images/holotour-filming-crew-rome-500px.jpg) 

<span data-ttu-id="f8e35-146">Notre groupe de capture à Rome.</span><span class="sxs-lookup"><span data-stu-id="f8e35-146">Our capture crew in Rome.</span></span> 


<span data-ttu-id="f8e35-147">Une fois le voyage scout a été terminé, un plan final a été effectué pour filmer réelle.</span><span class="sxs-lookup"><span data-stu-id="f8e35-147">After the scout trip was completed, a final plan was made for actual filming.</span></span> <span data-ttu-id="f8e35-148">Cette opération nécessaire une liste détaillée des où nous allions film, le jour et à quel moment.</span><span class="sxs-lookup"><span data-stu-id="f8e35-148">This required a detailed list of where we were going to film, on what day, and at what time.</span></span> <span data-ttu-id="f8e35-149">Tous les jours à l’étranger sont coûteuse, donc ces allers-retours être efficace.</span><span class="sxs-lookup"><span data-stu-id="f8e35-149">Every day overseas is expensive, so these trips needed to be efficient.</span></span> <span data-ttu-id="f8e35-150">Nous guides et des gestionnaires dans Rome pour nous aider à une réservation et entièrement utilisé tous les jours à partir d’avant de lever du soleil quotidiennes pour après coucher de soleil.</span><span class="sxs-lookup"><span data-stu-id="f8e35-150">We booked guides and handlers in Rome to help us and fully used every day from before sunrise to after sunset.</span></span> <span data-ttu-id="f8e35-151">Nous devons obtenir le meilleur tournage possible afin que vous soyez, vous avez vraiment il.</span><span class="sxs-lookup"><span data-stu-id="f8e35-151">We need to get the best footage possible in order to make you feel like you’re really there.</span></span>

### <a name="capturing-the-video"></a><span data-ttu-id="f8e35-152">Capture de la vidéo</span><span class="sxs-lookup"><span data-stu-id="f8e35-152">Capturing the video</span></span>

<span data-ttu-id="f8e35-153">Faire quelques mesures simples que durant la capture peut faciliter le post-traitement.</span><span class="sxs-lookup"><span data-stu-id="f8e35-153">Doing a few simple things during capture can make post-processing much easier.</span></span> <span data-ttu-id="f8e35-154">Par exemple, chaque fois que vous combiner les images à partir de plusieurs appareils photo, vous vous retrouvez avec artefacts visuels, car chaque caméra a une vue légèrement différente.</span><span class="sxs-lookup"><span data-stu-id="f8e35-154">For example, whenever you stitch together images from multiple cameras, you end up with visual artifacts because each camera has a slightly different view.</span></span> <span data-ttu-id="f8e35-155">Les objets plus en détail sont à l’appareil photo, la plus grande, la différence entre les vues, et seront plus les artefacts de liaison.</span><span class="sxs-lookup"><span data-stu-id="f8e35-155">The closer objects are to the camera, the larger the difference between the views, and the larger the stitching artifacts will be.</span></span> <span data-ttu-id="f8e35-156">Voici un moyen facile de visualiser le problème : prendre en charge votre curseur jusqu'à vos yeux et l’examinez avec uniquement un oeil.</span><span class="sxs-lookup"><span data-stu-id="f8e35-156">Here's an easy way to visualize the problem: hold your thumb up in front of your face and look at it with only one eye.</span></span> <span data-ttu-id="f8e35-157">Passez maintenant les yeux.</span><span class="sxs-lookup"><span data-stu-id="f8e35-157">Now switch eyes.</span></span> <span data-ttu-id="f8e35-158">Vous verrez que votre curseur s’affiche pour déplacer par rapport à l’arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="f8e35-158">You’ll see that your thumb appears to move relative to the background.</span></span> <span data-ttu-id="f8e35-159">Si vous maintenez votre curseur davantage en dehors de votre visage et répétez l’expérience, votre curseur s’affiche pour déplacer inférieur.</span><span class="sxs-lookup"><span data-stu-id="f8e35-159">If you hold your thumb further away from your face and repeat the experiment, your thumb will appear to move less.</span></span> <span data-ttu-id="f8e35-160">Apparent de ce mouvement est similaire au problème de liaison nous devions faire face : Les yeux, comme notre caméras, ne voyez pas la même image exacte, car ils sont séparés par une petite distance.</span><span class="sxs-lookup"><span data-stu-id="f8e35-160">That apparent movement is similar to the stitching problem we faced: Your eyes, like our cameras, don’t see the exact same image because they are separated by a little distance.</span></span>

<span data-ttu-id="f8e35-161">Car il est beaucoup plus facile empêcher les artefacts pires alors qu’il consiste à les corriger de post-traitement, nous avons essayé de conserver les personnes et les objets éloignés à partir de l’appareil photo dans l’espoir que nous pouvons éliminer la nécessité de relier les gros objets.</span><span class="sxs-lookup"><span data-stu-id="f8e35-161">Because it’s much easier to prevent the worst artifacts while filming than it is to correct them in post-processing, we tried to keep people and things far away from the camera in the hopes we could eliminate the need to stitch close-up objects.</span></span> <span data-ttu-id="f8e35-162">Maintenance d’un grand effacement autour de notre caméra était probablement un des plus grands défis que nous avons dû au cours de la résolution et nous avons dû être créatif pour qu’il fonctionne.</span><span class="sxs-lookup"><span data-stu-id="f8e35-162">Maintaining a large clearing around our camera was probably one of the biggest challenges we had during shooting and we had to get creative to make it work.</span></span> <span data-ttu-id="f8e35-163">Utilisation des guides locales était une aide non négligeable dans la gestion de fois, mais nous avons également découvert dans qu’à l’aide de signe et parfois petits cônes ou sacs de bean — pour marquer notre espace défavorables n’était raisonnablement efficace, en particulier parce que nous avons simplement dû obtenir un court laps de métrage à chaque emplacement.</span><span class="sxs-lookup"><span data-stu-id="f8e35-163">Working with local guides was a huge help in managing crowds, but we also found that using signs—and sometimes small cones or bean bags—to mark our filming space was reasonably effective, especially since we only needed to get a short amount of footage at each location.</span></span> <span data-ttu-id="f8e35-164">Souvent la meilleure façon d’obtenir une bonne capture était juste pour arriver très tôt dans la matinée, avant la plupart des gens s’est présenté.</span><span class="sxs-lookup"><span data-stu-id="f8e35-164">Often the best way to get a good capture was to just to arrive very early in the morning, before most people showed up.</span></span>

<span data-ttu-id="f8e35-165">Certaines autres techniques utiles capture proviennent directement des pratiques de film traditionnel.</span><span class="sxs-lookup"><span data-stu-id="f8e35-165">Some other useful capture techniques come straight from traditional film practices.</span></span> <span data-ttu-id="f8e35-166">Par exemple, nous avons utilisé une carte de correction des couleurs sur tous nos caméras et photos de référence capturée des textures et des objets, nous aurons besoin plus tard.</span><span class="sxs-lookup"><span data-stu-id="f8e35-166">For example, we used a color correction card on all of our cameras and captured reference photos of textures and objects we might need later.</span></span> 

![Ébauche de Picchu Machu affichant la carte de correction des couleurs.](images/rough-cut-machu-picchu-500px.png)

<span data-ttu-id="f8e35-168">Une ébauche de séquences vidéo Pantheon avant d’assemblage.</span><span class="sxs-lookup"><span data-stu-id="f8e35-168">A rough cut of Pantheon footage before stitching.</span></span>

### <a name="processing-the-video"></a><span data-ttu-id="f8e35-169">Traitement de la vidéo</span><span class="sxs-lookup"><span data-stu-id="f8e35-169">Processing the video</span></span>

<span data-ttu-id="f8e35-170">Capturer du contenu de 360° n'est que la première étape, un grand nombre de traitement est nécessaire pour convertir le tournage caméra brutes nous capturées dans les ressources finales que vous voyez dans HoloTour.</span><span class="sxs-lookup"><span data-stu-id="f8e35-170">Capturing 360° content is only the first step—a lot of processing is needed to convert the raw camera footage we captured into the final assets you see in HoloTour.</span></span> <span data-ttu-id="f8e35-171">Une fois que nous avons retour accueil que nous devions prendre la vidéo à partir de l’appareil photo différents 14 flux et le transformer en une vidéo continue unique avec des artefacts minimales.</span><span class="sxs-lookup"><span data-stu-id="f8e35-171">Once we were back home we needed to take the video from 14 different camera feeds and turn it into a single continuous video with minimal artifacts.</span></span> <span data-ttu-id="f8e35-172">Notre équipe d’art utilisé un certain nombre d’outils pour combiner et de peaufiner le tournage capturé et nous avons développé un pipeline afin d’optimiser le traitement autant que possible.</span><span class="sxs-lookup"><span data-stu-id="f8e35-172">Our art team used a number of tools to combine and polish the captured footage and we developed a pipeline to optimize the processing as much as possible.</span></span> <span data-ttu-id="f8e35-173">Le tournage devait être assemblée couleur ensemble, corrigé et ensuite composée pour supprimer des éléments perturbant et des artefacts ou pour ajouter des poches supplémentaires de la vie et de mouvement, tous dans le but d’améliorer ce sentiment d’être réellement il.</span><span class="sxs-lookup"><span data-stu-id="f8e35-173">The footage had to be stitched together, color corrected, and then composited to remove distracting elements and artifacts or to add supplemental pockets of life and motion, all with the goal to enhance that feeling of actually being there.</span></span>

![Une ébauche de séquences vidéo Pantheon avant d’assemblage.](images/rough-cut-pantheon-500px.png)

<span data-ttu-id="f8e35-175">Une ébauche de séquences vidéo Pantheon avant d’assemblage.</span><span class="sxs-lookup"><span data-stu-id="f8e35-175">A rough cut of Pantheon footage before stitching.</span></span> 


<span data-ttu-id="f8e35-176">Pour assembler les vidéos, nous avons utilisé un outil appelé [PTGui](http://www.ptgui.com/) et intégrés à notre pipeline de traitement.</span><span class="sxs-lookup"><span data-stu-id="f8e35-176">To stitch the videos together, we used a tool called [PTGui](http://www.ptgui.com/) and integrated it into our processing pipeline.</span></span> <span data-ttu-id="f8e35-177">Dans le cadre de post-traitement nous extraites toujours frames nos vidéos et de trouver un modèle de liaison sans recherche bon pour l’une de ces images.</span><span class="sxs-lookup"><span data-stu-id="f8e35-177">As part of post-processing we extracted still frames from our videos and found a stitching pattern that looked good for one of those frames.</span></span> <span data-ttu-id="f8e35-178">Ensuite, nous avons appliqué ce modèle pour un plug-in personnalisé, que nous avons rédigé qui autorisé notre vidéo artistes pour affiner et ajuster le modèle de liaison directement lors de la composition dans After Effects.</span><span class="sxs-lookup"><span data-stu-id="f8e35-178">We then applied that pattern to a custom plugin we wrote that allowed our video artists to fine tune and tweak the stitching pattern directly while compositing in After Effects.</span></span> 

![PTGui capture d’écran de montrant le tournage Pantheon assemblée.](images/stitching-tool-pantheon-500px.png)

<span data-ttu-id="f8e35-180">PTGui capture d’écran de montrant le tournage Pantheon assemblée.</span><span class="sxs-lookup"><span data-stu-id="f8e35-180">Screenshot of PTGui showing the stitched Pantheon footage.</span></span> 


### <a name="video-playback"></a><span data-ttu-id="f8e35-181">Lecture vidéo</span><span class="sxs-lookup"><span data-stu-id="f8e35-181">Video playback</span></span>

<span data-ttu-id="f8e35-182">Une fois le traitement de la séquence est terminé, nous avons une vidéo transparente mais il est extrêmement volumineux, environ 8 K résolution.</span><span class="sxs-lookup"><span data-stu-id="f8e35-182">After processing of the footage is completed, we have a seamless video but it’s extraordinarily large—around 8K resolution.</span></span> <span data-ttu-id="f8e35-183">Décodage de vidéo est coûteux et il existe très peu d’ordinateurs qui peut gérer une vidéo de 8 Ko pour le défi suivant a été recherche un moyen de lire cette vidéo sur HoloLens.</span><span class="sxs-lookup"><span data-stu-id="f8e35-183">Decoding video is expensive and there are very few computers that can handle an 8K video so the next challenge was finding a way to play this video back on HoloLens.</span></span> <span data-ttu-id="f8e35-184">Nous avons développé un certain nombre de stratégies pour éviter le coût de décodage tout en rendant la convivialité de l’utilisateur comme ils ont été affichant l’intégralité de vidéo.</span><span class="sxs-lookup"><span data-stu-id="f8e35-184">We developed a number of strategies to avoid the cost of decoding while still making the user feel like they were viewing the entire video.</span></span>

<span data-ttu-id="f8e35-185">L’optimisation de la plus simple consiste à éviter les parties de la vidéo qui ne changent pas beaucoup de décodage.</span><span class="sxs-lookup"><span data-stu-id="f8e35-185">The easiest optimization is to avoid decoding parts of the video that don’t change much.</span></span> <span data-ttu-id="f8e35-186">Nous avons écrit un outil pour identifier des zones dans chaque scène qui ont peu ou pas de mouvement.</span><span class="sxs-lookup"><span data-stu-id="f8e35-186">We wrote a tool to identify areas in each scene that have little or no motion.</span></span> <span data-ttu-id="f8e35-187">Pour ces régions nous affichons une image statique au lieu d’une vidéo de décodage chaque frame.</span><span class="sxs-lookup"><span data-stu-id="f8e35-187">For those regions we show a static image rather than decoding a video each frame.</span></span> <span data-ttu-id="f8e35-188">Pour ce faire, nous avons divisé la vidéo volumineux en petits segments.</span><span class="sxs-lookup"><span data-stu-id="f8e35-188">To make this possible, we divided up the massive video into much smaller chunks.</span></span>

<span data-ttu-id="f8e35-189">Nous avons également veillé à ce que chaque pixel que nous décodés a utilisé plus efficacement.</span><span class="sxs-lookup"><span data-stu-id="f8e35-189">We also made sure that every pixel we decoded was used most effectively.</span></span> <span data-ttu-id="f8e35-190">Nous avons expérimenté avec les techniques de compression pour réduire la taille de la vidéo ; Nous séparons les régions vidéo selon les polygones de la géométrie, qu'il serait être projeté sur ; Nous ajustée UVs et réempaquetage les vidéos en fonction de la quantité polygones différent de détail inclus.</span><span class="sxs-lookup"><span data-stu-id="f8e35-190">We experimented with compression techniques to lower the size of the video; we split the video regions according to the polygons of the geometry it would be projected onto; we adjusted UVs and repacked the videos based on how much detail different polygons included.</span></span> <span data-ttu-id="f8e35-191">Le résultat de ce travail est que ce qui a été lancé sous un seul 8k vidéo activé en plusieurs segments qui ressemblent presque inintelligibles jusqu'à ce qu’ils soient correctement ré-projetés dans la scène.</span><span class="sxs-lookup"><span data-stu-id="f8e35-191">The result of this work is that what started as a single 8k video turned into many chunks that look almost unintelligible until they are properly re-projected into the scene.</span></span> <span data-ttu-id="f8e35-192">Pour un développeur de jeux qui comprend le mappage de texture et de livraison de UV, cela sera probablement familier.</span><span class="sxs-lookup"><span data-stu-id="f8e35-192">For a game developer who understands texture mapping and UV packing, this will probably look familiar.</span></span> 

![Une vue complète de la Pantheon avant les optimisations.](images/pantheon-before-optimization-500px.png) 

<span data-ttu-id="f8e35-194">Une vue complète de la Pantheon avant les optimisations.</span><span class="sxs-lookup"><span data-stu-id="f8e35-194">A full view of the Pantheon before optimizations.</span></span> 


![La partie droite de la Pantheon, traité pour la lecture vidéo.](images/pantheon-process-video-playback-500px.png) 

<span data-ttu-id="f8e35-196">La partie droite de la Pantheon, traité pour la lecture vidéo.</span><span class="sxs-lookup"><span data-stu-id="f8e35-196">The right half of the Pantheon, processed for video playback.</span></span> 


![Exemple d’une seule région vidéo après l’optimisation et de livraison.](images/single-video-region-after-optimization-500px.png) 

<span data-ttu-id="f8e35-198">Exemple d’une seule région vidéo après l’optimisation et de livraison.</span><span class="sxs-lookup"><span data-stu-id="f8e35-198">Example of a single video region after optimization and packing.</span></span> 


<span data-ttu-id="f8e35-199">Une autre astuce que nous avons utilisé a été afin d’éviter le décodage de vidéo que vous n’affichez pas activement.</span><span class="sxs-lookup"><span data-stu-id="f8e35-199">Another trick we used was to avoid decoding video you aren’t actively viewing.</span></span> <span data-ttu-id="f8e35-200">Tandis que dans HoloTour, vous voyez uniquement la partie de la scène complète à un moment donné.</span><span class="sxs-lookup"><span data-stu-id="f8e35-200">While in HoloTour, you can only see part of the full scene at any given moment.</span></span> <span data-ttu-id="f8e35-201">Nous décoder uniquement des vidéos dans ou peu de temps en dehors de votre champ de vision (angle d’ouverture).</span><span class="sxs-lookup"><span data-stu-id="f8e35-201">We only decode videos within or shortly outside of your field of view (FOV).</span></span> <span data-ttu-id="f8e35-202">Lorsque vous tournez votre tête, nous commençons à jouer les régions de la vidéo qui se trouvent maintenant dans votre angle d’ouverture et d’arrêtent la lecture de celles qui ne sont plus qu’il contient.</span><span class="sxs-lookup"><span data-stu-id="f8e35-202">As you rotate your head, we start playing the regions of the video that are now in your FOV and stop playing ones that are no longer within it.</span></span> <span data-ttu-id="f8e35-203">La plupart des gens ne remarquerez même pas cela se produit, mais si vous activez rapidement, vous verrez la vidéo prend une seconde pour démarrer, en attendant, vous verrez une image statique les atténuations puis au vidéo une fois qu’il est prêt.</span><span class="sxs-lookup"><span data-stu-id="f8e35-203">Most people won’t even notice this is happening, but if you turn around rapidly, you’ll see the video takes a second to start— in the meantime you’ll see a static image which then fades back to video once it’s ready.</span></span>

<span data-ttu-id="f8e35-204">Pour que cette stratégie fonctionne nous avons développé un système complet de la lecture vidéo.</span><span class="sxs-lookup"><span data-stu-id="f8e35-204">To make this strategy work we developed an extensive video playback system.</span></span> <span data-ttu-id="f8e35-205">Nous avons optimisé le code de lecture de niveau bas afin de rendre la vidéo de commutation extrêmement efficace.</span><span class="sxs-lookup"><span data-stu-id="f8e35-205">We optimized the low level playback code in order to make video switching extremely efficient.</span></span> <span data-ttu-id="f8e35-206">En outre, nous avons dû coder nos vidéos d’une manière spéciale pour le rendre possible de basculer rapidement vers n’importe quel vidéo à tout moment.</span><span class="sxs-lookup"><span data-stu-id="f8e35-206">Additionally, we had to encode our videos in a special way to make it possible to rapidly switch to any video at any time.</span></span> <span data-ttu-id="f8e35-207">Ce pipeline de la lecture a pris beaucoup de temps de développement afin de nous l’avons implémenté par étapes.</span><span class="sxs-lookup"><span data-stu-id="f8e35-207">This playback pipeline took a significant amount of development time so we implemented it in stages.</span></span> <span data-ttu-id="f8e35-208">Nous avons commencé avec un système plus simple qui était moins efficace, mais les concepteurs autorisées et artistes pour travailler sur l’expérience et lentement l’amélioré à un système de lecture plus robuste qui nous a permis à expédier dans la barre de qualité finale.</span><span class="sxs-lookup"><span data-stu-id="f8e35-208">We started with a simpler system that was less efficient, but allowed designers and artists to work on the experience, and slowly improved it to a more robust playback system that allowed us to ship at the final quality bar.</span></span> <span data-ttu-id="f8e35-209">Ce système final avait des outils personnalisés, que nous avons créé dans Unity pour configurer la vidéo dans la scène et le moniteur le moteur de lecture.</span><span class="sxs-lookup"><span data-stu-id="f8e35-209">This final system had custom tools we created within Unity to set up the video within the scene and monitor the playback engine.</span></span>

### <a name="recreating-near-space-objects-in-3d"></a><span data-ttu-id="f8e35-210">Recréer des objets de près de l’espace 3D</span><span class="sxs-lookup"><span data-stu-id="f8e35-210">Recreating near-space objects in 3D</span></span>

<span data-ttu-id="f8e35-211">Vidéos constituent la majeure partie de ce que vous voyez dans HoloTour, mais il existe un nombre d’objets 3D qui s’affichent proche de vous, telles que la peinture dans Navona déployé, cette Fontaine en dehors de la Pantheon, ou de la bulle d’air chaud que vous en êtes les scènes aériens.</span><span class="sxs-lookup"><span data-stu-id="f8e35-211">Videos make up the majority of what you see in HoloTour, but there are a number of 3D objects that appear close to you, such as the painting in Piazza Navona, the fountain outside the Pantheon, or the hot air balloon you stand in for aerial scenes.</span></span> <span data-ttu-id="f8e35-212">Ces objets 3D sont importantes, car la perception de profondeur humaine est très bonne communiquez, mais pas très bons loin.</span><span class="sxs-lookup"><span data-stu-id="f8e35-212">These 3D objects are important because human depth perception is very good up close, but not very good far away.</span></span> <span data-ttu-id="f8e35-213">Nous pouvons vous en sortir avec la vidéo dans la distance, mais pour permettre aux utilisateurs de porter leur espace et de l’apparence, comme elles sont vraiment là, les objets situés à proximité doivent profondeur.</span><span class="sxs-lookup"><span data-stu-id="f8e35-213">We can get away with video in the distance, but to allow users to walk around their space and feel like they’re really there, nearby objects need depth.</span></span> <span data-ttu-id="f8e35-214">Cette technique est similaire au genre de chose que vous pouvez voir dans un musée naturel historique — un diorama aménagement paysager physiques, des plantes et spécimens animales au premier plan, mais s’atténuera dans un dessin cache intelligemment masqué en arrière-plan d’image.</span><span class="sxs-lookup"><span data-stu-id="f8e35-214">This technique is similar to the sort of thing you might see in a natural history museum—picture a diorama that has physical landscaping, plants, and animal specimens in the foreground, but recedes into a cleverly masked matte painting in the background.</span></span>

<span data-ttu-id="f8e35-215">Certains objets sont des composants 3D simplement nous avons créé et ajouté à la scène pour améliorer l’expérience.</span><span class="sxs-lookup"><span data-stu-id="f8e35-215">Some objects are simply 3D assets we created and added to the scene to enhance the experience.</span></span> <span data-ttu-id="f8e35-216">La peinture et l’info-bulle de l’air chaud appartiennent à cette catégorie, car elles n’étaient pas présents lorsque nous filmé.</span><span class="sxs-lookup"><span data-stu-id="f8e35-216">The painting and the hot air balloon fall into this category because they weren’t present when we filmed.</span></span> <span data-ttu-id="f8e35-217">Comme pour les ressources de jeu, ils ont été créés par un artiste 3D de notre équipe et une texture de façon appropriée.</span><span class="sxs-lookup"><span data-stu-id="f8e35-217">Similar to game assets, they were created by a 3D artist on our team and textured appropriately.</span></span> <span data-ttu-id="f8e35-218">Nous placer dans notre scènes près de votre situation, et le moteur de jeu permettre les afficher pour les deux affichages HoloLens afin qu’ils apparaissent en tant qu’objet 3D.</span><span class="sxs-lookup"><span data-stu-id="f8e35-218">We place these in our scenes near where you stand, and the game engine can render them to the two HoloLens displays so that they appear as a 3D object.</span></span>

<span data-ttu-id="f8e35-219">Autres ressources, comme la Fontaine en dehors de la Pantheon, sont des objets réels qui existent dans les emplacements où nous allons résolution vidéo, mais pour afficher ces objets en dehors de la vidéo et en 3D, nous devons effectuer un certain nombre de choses.</span><span class="sxs-lookup"><span data-stu-id="f8e35-219">Other assets, like the fountain outside the Pantheon, are real objects that exist in the locations where we're shooting video, but to bring these objects out of the video and into 3D, we have to do a number of things.</span></span>

<span data-ttu-id="f8e35-220">Tout d’abord, nous avons besoin des informations supplémentaires sur chaque objet.</span><span class="sxs-lookup"><span data-stu-id="f8e35-220">First, we need additional information about each object.</span></span> <span data-ttu-id="f8e35-221">Tandis que sur l’emplacement pour filmer, notre équipe capturé un grand nombre de séquences vidéo de référence de ces objets afin que nous devrions suffisamment détaillées des images pour recréer précisément les textures.</span><span class="sxs-lookup"><span data-stu-id="f8e35-221">While on location for filming, our team captured a lot of reference footage of these objects so that we would have enough detailed images to accurately recreate the textures.</span></span> <span data-ttu-id="f8e35-222">L’équipe a également un [PHOTOGRAMMÉTRIE](https://en.wikipedia.org/wiki/Photogrammetry) scan, qui construit un modèle parmi des dizaines d’images 2D, 3D qui nous donne un modèle approximatif de l’objet à l’échelle parfait.</span><span class="sxs-lookup"><span data-stu-id="f8e35-222">The team also performed a [photogrammetry](https://en.wikipedia.org/wiki/Photogrammetry) scan, which constructs a 3D model from dozens of 2D images, giving us a rough model of the object at perfect scale.</span></span>

<span data-ttu-id="f8e35-223">Comme nous avons notre métrage de processus, les objets qui seront remplacés ultérieurement avec une représentation 3D sont supprimés de la vidéo.</span><span class="sxs-lookup"><span data-stu-id="f8e35-223">As we process our footage, objects that will later be replaced with a 3D representation are removed from the video.</span></span> <span data-ttu-id="f8e35-224">L’élément multimédia 3D est basé sur le modèle PHOTOGRAMMÉTRIE mais nettoyée et simplifié par notre artistes.</span><span class="sxs-lookup"><span data-stu-id="f8e35-224">The 3D asset is based on the photogrammetry model but cleaned up and simplified by our artists.</span></span> <span data-ttu-id="f8e35-225">Pour certains objets, nous pouvons utiliser des parties de la vidéo, telles que la texture de l’eau sur cette Fontaine, mais la plupart de la fontaine est désormais un objet 3D, ce qui permet aux utilisateurs de percevoir de profondeur et remonter autour d’elle dans un espace limité dans l’expérience.</span><span class="sxs-lookup"><span data-stu-id="f8e35-225">For some objects, we can use parts of the video—such as the water texture on the fountain—but most of the fountain is now a 3D object, which allows users to perceive depth and walk around it in a limited space in the experience.</span></span> <span data-ttu-id="f8e35-226">Lorsque les objets de près de l’espace ainsi considérablement ajoute à la plus de réalisme et permet à la pour terre des utilisateurs dans l’emplacement virtuel.</span><span class="sxs-lookup"><span data-stu-id="f8e35-226">Having near-space objects like this greatly adds to the sense of realism and helps to ground the users in the virtual location.</span></span> 

![Métrage pantheon avec cette Fontaine supprimé.](images/object-removal-pantheon-500px.png)

<span data-ttu-id="f8e35-229">Métrage pantheon avec cette Fontaine supprimé.</span><span class="sxs-lookup"><span data-stu-id="f8e35-229">Pantheon footage with the fountain removed.</span></span> <span data-ttu-id="f8e35-230">Il est remplacé par un élément 3D.</span><span class="sxs-lookup"><span data-stu-id="f8e35-230">It will be replaced with a 3D asset.</span></span>


## <a name="final-thoughts"></a><span data-ttu-id="f8e35-231">Réflexions finales</span><span class="sxs-lookup"><span data-stu-id="f8e35-231">Final thoughts</span></span>

<span data-ttu-id="f8e35-232">Évidemment, il a été plus à la création de ce contenu à ce que nous avons abordées ici.</span><span class="sxs-lookup"><span data-stu-id="f8e35-232">Obviously, there was more to creating this content than what we've discussed here.</span></span> <span data-ttu-id="f8e35-233">Il existe quelques scènes — nous souhaitons les appeler « perspectives impossibles » — y compris la conduite de bulle d’air chaud et le gladiator combattre dans Colosseum, ce qui a pris une approche plus créative.</span><span class="sxs-lookup"><span data-stu-id="f8e35-233">There are a few scenes—we like to call them "impossible perspectives"—including the hot air balloon ride and the gladiator fight in the Colosseum, which took a more creative approach.</span></span> <span data-ttu-id="f8e35-234">Nous allons y remédier dans une étude de cas futures.</span><span class="sxs-lookup"><span data-stu-id="f8e35-234">We'll address these in a future case study.</span></span>

<span data-ttu-id="f8e35-235">Nous espérons que le partage des solutions à certains des défis plus volumineuses que nous avions lors de la production est utile à d’autres développeurs et que vous êtes inspiré à utiliser certaines de ces techniques pour créer votre propre expérience immersive pour HoloLens.</span><span class="sxs-lookup"><span data-stu-id="f8e35-235">We hope that sharing solutions to some of the bigger challenges we had during production is helpful to other developers and that you're inspired to use some of these techniques to create your own immersive experiences for HoloLens.</span></span> <span data-ttu-id="f8e35-236">(Et si vous fassiez, vérifiez que partager avec nous sur le [forum de HoloLens Application Development](https://forums.hololens.com/)!)</span><span class="sxs-lookup"><span data-stu-id="f8e35-236">(And if you do, please make sure to share it with us on the [HoloLens App Development forum](https://forums.hololens.com/)!)</span></span>

## <a name="about-the-authors"></a><span data-ttu-id="f8e35-237">À propos des auteurs</span><span class="sxs-lookup"><span data-stu-id="f8e35-237">About the authors</span></span>

<table style="border:0">
<tr>
<td style="border:0" width="60px"> <img alt="David Haley" width="60" height="60" src="images/haley.png" /></td>
<td style="border:0" width="408"> <span data-ttu-id="f8e35-238"><b>David Haley</b> est développeur Senior qui ont appris le plus d’informations sur les plateformes d’appareil photo et de lecture vidéo qu’il pensait possible de travailler sur HoloTour.</span><span class="sxs-lookup"><span data-stu-id="f8e35-238"><b>David Haley</b> is a Senior Developer who learned more about camera rigs and video playback than he thought possible from working on HoloTour.</span></span></td>
<td style="border:0" width="60px"> <img alt="Danny Askew" width="60" height="60" src="images/askew.png" /></td>
<td style="border:0" width="408"> <span data-ttu-id="f8e35-239"><b>Danny Askew</b> est un artiste de vidéo qui a fait en sorte que votre parcours dans Rome a été comme exempt de failles que possible.</span><span class="sxs-lookup"><span data-stu-id="f8e35-239"><b>Danny Askew</b> is a Video Artist who made sure your journey through Rome was as flawless as possible.</span></span></td>
</tr>
<tr>
<td style="border:0" width="60px"> <img alt="Jason Syltebo" width="60" height="60" src="images/syltebo.png" /></td>
<td style="border:0" width="408"> <span data-ttu-id="f8e35-240"><b>Jason Syltebo</b> est un concepteur Audio qui fait en sorte que vous pouvez constater la soundscape de chaque destination que vous visitez, même lorsque vous revenez en arrière dans le temps.</span><span class="sxs-lookup"><span data-stu-id="f8e35-240"><b>Jason Syltebo</b> is an Audio Designer who made sure you could experience the soundscape of every destination you visit, even when you go back in time.</span></span></td>
<td style="border:0" width="60px"> <img alt="Travis Steiner" width="60" height="60" src="images/steiner.png" /></td>
<td style="border:0" width="408"> <span data-ttu-id="f8e35-241"><b>Travis Steiner</b> est directeur de conception qui examinées scouted emplacements, créé des plans de voyage et dirigé filmer sur site.</span><span class="sxs-lookup"><span data-stu-id="f8e35-241"><b>Travis Steiner</b> is a Design Director who researched and scouted locations, created trip plans, and directed filming on site.</span></span></td>
</tr>
</table>



## <a name="see-also"></a><span data-ttu-id="f8e35-242">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="f8e35-242">See also</span></span>
* [<span data-ttu-id="f8e35-243">Vidéo : Microsoft HoloLens : HoloTour</span><span class="sxs-lookup"><span data-stu-id="f8e35-243">Video: Microsoft HoloLens: HoloTour</span></span>](https://www.youtube.com/watch?v=pLd9WPlaMpY)
