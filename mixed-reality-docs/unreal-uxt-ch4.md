---
title: 4. Rendre votre scène interactive
description: Partie 4 d’un tutoriel pour créer une application de jeu d’échecs simple avec Unreal Engine 4 et le plug-in UX Tools de Mixed Reality Toolkit
author: sw5813
ms.author: suwu
ms.date: 5/5/2020
ms.topic: article
ms.localizationpriority: high
keywords: Unreal, Unreal Engine 4, UE4, HoloLens, HoloLens 2, réalité mixte, tutoriel, bien démarrer, mrtk, uxt, UX Tools, documentation
ms.openlocfilehash: 2e4d26ed4e0b8199bfc629016aea688bd1c41ef8
ms.sourcegitcommit: 09d9fa153cd9072f60e33a5f83ced8167496fcd7
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/18/2020
ms.locfileid: "83520024"
---
# <a name="4-making-your-scene-interactive"></a><span data-ttu-id="e5875-104">4. Rendre votre scène interactive</span><span class="sxs-lookup"><span data-stu-id="e5875-104">4. Making your scene interactive</span></span>

<span data-ttu-id="e5875-105">Cette section présente le plug-in open source UX Tools de Mixed Reality Toolkit, qui fournit un ensemble d’outils permettant de rendre facilement votre scène interactive.</span><span class="sxs-lookup"><span data-stu-id="e5875-105">This section introduces you to the open source Mixed Reality Toolkit UX Tools plugin, which provides a set of tools to easily make your scene interactive.</span></span> <span data-ttu-id="e5875-106">À la fin de cette section, les pièces de votre jeu d’échecs répondront aux entrées utilisateur.</span><span class="sxs-lookup"><span data-stu-id="e5875-106">By the end of this section, your chess pieces will respond to user input.</span></span> 

## <a name="objectives"></a><span data-ttu-id="e5875-107">Objectifs</span><span class="sxs-lookup"><span data-stu-id="e5875-107">Objectives</span></span>

* <span data-ttu-id="e5875-108">Inclure le plug-in UX Tools de Mixed Reality Toolkit dans votre projet</span><span class="sxs-lookup"><span data-stu-id="e5875-108">Include the Mixed Reality Toolkit UX Tools plugin in your project</span></span>
* <span data-ttu-id="e5875-109">Ajoutez des acteurs d’interaction manuelle à vos doigts</span><span class="sxs-lookup"><span data-stu-id="e5875-109">Add Hand Interaction Actors to your fingertips</span></span>
* <span data-ttu-id="e5875-110">Créer et attacher des manipulateurs à votre échiquier et à vos pièces</span><span class="sxs-lookup"><span data-stu-id="e5875-110">Create and attach Manipulators to your chess board and pieces</span></span> 
* <span data-ttu-id="e5875-111">Utiliser la simulation d’entrée pour valider votre projet</span><span class="sxs-lookup"><span data-stu-id="e5875-111">Use input simulation to validate your project</span></span>

## <a name="download-the-mixed-reality-toolkit-ux-tools-plugin"></a><span data-ttu-id="e5875-112">Télécharger le plug-in UX Tools de Mixed Reality Toolkit</span><span class="sxs-lookup"><span data-stu-id="e5875-112">Download the Mixed Reality Toolkit UX Tools plugin</span></span>

1.  <span data-ttu-id="e5875-113">Clonez ou téléchargez et décompressez la dernière version du plug-in UX Tools de MRTK à partir du [dépôt GitHub UX Tools](https://github.com/microsoft/MixedReality-UXTools-Unreal/releases)</span><span class="sxs-lookup"><span data-stu-id="e5875-113">Clone or download and unzip the latest release of the MRTK UX Tools plugin from the [UX Tools GitHub repository](https://github.com/microsoft/MixedReality-UXTools-Unreal/releases)</span></span>

2.  <span data-ttu-id="e5875-114">Dans le dossier racine de votre projet de jeu d’échecs, créez un dossier appelé « Plugins ».</span><span class="sxs-lookup"><span data-stu-id="e5875-114">In your chess project root folder, create a new folder called “Plugins”.</span></span> <span data-ttu-id="e5875-115">Copiez le plug-in UX Tools décompressé dans ce dossier.</span><span class="sxs-lookup"><span data-stu-id="e5875-115">Copy your unzipped UXTools plugin into this folder.</span></span> <span data-ttu-id="e5875-116">Redémarrez l’éditeur Unreal.</span><span class="sxs-lookup"><span data-stu-id="e5875-116">Restart the Unreal editor.</span></span> 

![Créer un dossier de plug-ins de projet](images/unreal-uxt/4-plugins.PNG)

3.  <span data-ttu-id="e5875-118">Après le redémarrage, si vous ne voyez pas le contenu du plug-in UX Tools dans le panneau de vos sources, il peut être nécessaire de cliquer sur **View Options > Show Plugin Content**.</span><span class="sxs-lookup"><span data-stu-id="e5875-118">After restarting, if you don’t see UXTools plugin content in your sources panel, you may need to click on **View Options > Show Plugin Content**.</span></span> <span data-ttu-id="e5875-119">Vous verrez que le plug-in UX Tools fournit un dossier de contenu avec des pointeurs, une simulation d’entrée et un bouton simple ainsi qu’un dossier de classes C++ avec des sous-dossiers distincts selon les fonctions.</span><span class="sxs-lookup"><span data-stu-id="e5875-119">You’ll see that the UXTools plugin provides a Content folder with Pointers, Input Simulation, and a Simple Button, as well as a C++ Classes folder with subfolders separated by function.</span></span>  

![Montrer le contenu du plug-in](images/unreal-uxt/4-showplugincontent.PNG)

## <a name="spawn-hand-interaction-actors"></a><span data-ttu-id="e5875-121">Générer des acteurs d’interaction manuelle</span><span class="sxs-lookup"><span data-stu-id="e5875-121">Spawn Hand Interaction Actors</span></span>

1.  <span data-ttu-id="e5875-122">Commençons par générer des acteurs d’interaction manuelle à partir de notre MRPawn, pour 1) pouvoir visualiser MRPawn avec un curseur au bout des index du pion, 2) pouvoir fournir des événements d’entrée manuelle articulée (et donc manipuler directement les acteurs) via le pion et 3) pouvoir fournir des événements d’entrée d’interaction à distance à travers des rayons manuels partant de nos paumes.</span><span class="sxs-lookup"><span data-stu-id="e5875-122">Let’s start by spawning Hand Interaction Actors from our MRPawn so that 1) we can visualize MRPawn with a cursor on the tips of the Pawn’s index fingers, 2) we can provide articulated hand input events (and thus, directly manipulate actors) through the Pawn, and 3) we can provide far interaction input events through hand rays extending from our palms.</span></span> <span data-ttu-id="e5875-123">Ouvrez le blueprint **MRPawn** et accédez à **Event Graph**.</span><span class="sxs-lookup"><span data-stu-id="e5875-123">Open the **MRPawn** Blueprint and navigate to the **Event Graph**.</span></span> 

2.  <span data-ttu-id="e5875-124">Faites glisser la broche d’exécution depuis l’événement BeginPlay et relâchez-la pour placer un nouveau nœud.</span><span class="sxs-lookup"><span data-stu-id="e5875-124">Drag the execution pin from Event BeginPlay and release to place a new node.</span></span> <span data-ttu-id="e5875-125">Sélectionnez le nœud **Spawn Actor from Class**.</span><span class="sxs-lookup"><span data-stu-id="e5875-125">Select the **Spawn Actor from Class** node.</span></span> <span data-ttu-id="e5875-126">Cliquez sur la liste déroulante en regard de la broche **Class** et recherchez **Uxt Hand Interaction Actor**.</span><span class="sxs-lookup"><span data-stu-id="e5875-126">Click the dropdown next to the **Class** pin and search for **Uxt Hand Interaction Actor**.</span></span> <span data-ttu-id="e5875-127">Faites glisser la broche d’exécution à partir du nœud SpawnActor Uxt Hand, relâchez-le, puis recherchez la fonction **Set Hand** contenue dans la classe Uxt Hand Interaction Actor.</span><span class="sxs-lookup"><span data-stu-id="e5875-127">Drag the execution pin from the SpawnActor Uxt Hand Interaction node, release, and search for the **Set Hand** function contained in the Uxt Hand Interaction Actor class.</span></span> <span data-ttu-id="e5875-128">Connectez la valeur de retour du nœud SpawnActor à la broche cible du nœud Set Hand pour définir la main de l’acteur d’interaction manuelle sur **Left**.</span><span class="sxs-lookup"><span data-stu-id="e5875-128">Connect the SpawnActor node’s Return Value to the Target pin of the Set Hand node to set the hand of the Hand Interaction Actor to **Left**.</span></span> <span data-ttu-id="e5875-129">Générez un deuxième **Acteur d’interaction manuelle Uxt**, en définissant cette fois la main sur **Right**, de sorte que quand l’événement débute, un acteur d’interaction manuelle Uxt soit généré sur chaque main.</span><span class="sxs-lookup"><span data-stu-id="e5875-129">Spawn a second **Uxt Hand Interaction Actor**, this time setting the hand to **Right**, so that when the event begins, a Uxt Hand Interaction Actor will be spawned on each hand.</span></span> 

![Générer des acteurs d’interaction manuelle UXT](images/unreal-uxt/4-spawnactor.PNG)

3.  <span data-ttu-id="e5875-131">Ensuite, nous devons fournir à nos acteurs d’interaction manuelle Uxt une transformation initiale où faire la génération et un propriétaire.</span><span class="sxs-lookup"><span data-stu-id="e5875-131">Next, we need to provide our Uxt Hand Interaction Actors with an initial transform at which to spawn, and an owner.</span></span> <span data-ttu-id="e5875-132">Faites glisser la broche de l’une des broches **Spawn Transform** et relâchez-la pour placer un nouveau nœud.</span><span class="sxs-lookup"><span data-stu-id="e5875-132">Drag the pin off one of the **Spawn Transform** pins and release to place a new node.</span></span> <span data-ttu-id="e5875-133">Recherchez le nœud **Make Transform**.</span><span class="sxs-lookup"><span data-stu-id="e5875-133">Search for the **Make Transform** node.</span></span> <span data-ttu-id="e5875-134">La transformation initiale n’a en réalité pas d’importance, car les acteurs d’interaction manuelle vont se placer sur nos mains dès qu’elles sont visibles (du code qui est déjà écrit pour nous dans le plug-in UX Tools) ; sinon, ils disparaissent.</span><span class="sxs-lookup"><span data-stu-id="e5875-134">The initial transform really doesn’t matter since the Hand Interaction Actors will jump to our hands as soon as they are visible (code that’s already written for us in the UX Tools plugin), otherwise, they’ll disappear.</span></span> <span data-ttu-id="e5875-135">Cependant, la fonction SpawnActor nécessite une transformation en entrée pour éviter une erreur du compilateur : nous allons donc simplement conserver les valeurs par défaut dans Make Transform.</span><span class="sxs-lookup"><span data-stu-id="e5875-135">However, the SpawnActor function requires a Transform as input to avoid a compiler error, so we’ll just leave the default values in Make Transform as is.</span></span> <span data-ttu-id="e5875-136">Faites également glisser la **valeur de retour** de Make Transform sur la transformation de génération d’acteur d’interaction de l’autre main.</span><span class="sxs-lookup"><span data-stu-id="e5875-136">Drag Make Transform’s **Return Value** to the other hand’s Interaction Actor Spawn Transform as well.</span></span> 

4.  <span data-ttu-id="e5875-137">Cliquez sur la **flèche bas** en bas des deux nœuds SpawnActor pour afficher la broche **Owner**.</span><span class="sxs-lookup"><span data-stu-id="e5875-137">Click the **down arrow** at the bottom of both SpawnActor nodes to reveal the **Owner** pin.</span></span> <span data-ttu-id="e5875-138">Faites glisser la broche de l’une des broches **Owner** et relâchez-la pour placer un nouveau nœud.</span><span class="sxs-lookup"><span data-stu-id="e5875-138">Drag the pin off one of the **Owner** pins and release to place a new node.</span></span> <span data-ttu-id="e5875-139">Recherchez « self » et sélectionnez la variable **Get a reference to self**.</span><span class="sxs-lookup"><span data-stu-id="e5875-139">Search for “self” and select the **Get a reference to self** variable.</span></span> <span data-ttu-id="e5875-140">Créez aussi un lien entre le nœud de référence de l’objet Self et la broche Owner de l’acteur d’interaction manuelle.</span><span class="sxs-lookup"><span data-stu-id="e5875-140">Create a link between the Self object reference node and the other Hand Interaction Actor’s Owner pin as well.</span></span> <span data-ttu-id="e5875-141">N’hésitez pas à faire glisser les nœuds pour rendre votre blueprint plus lisible.</span><span class="sxs-lookup"><span data-stu-id="e5875-141">Feel free to drag around nodes to make your Blueprint more readable.</span></span> <span data-ttu-id="e5875-142">**Compilez**, **enregistrez**, puis revenez à la fenêtre principale.</span><span class="sxs-lookup"><span data-stu-id="e5875-142">**Compile**, **save**, and return to the Main window.</span></span> 

![Effectuer la configuration de l’acteur d’interaction manuelle UXT](images/unreal-uxt/4-fingerptrs.PNG)

<span data-ttu-id="e5875-144">Pour plus d’informations sur l’acteur d’interaction manuelle fourni dans le plug-in UX Tools de MRTK, consultez la [documentation](https://microsoft.github.io/MixedReality-UXTools-Unreal/version/public/0.8.x/Docs/HandInteraction.html) officielle.</span><span class="sxs-lookup"><span data-stu-id="e5875-144">For more information about the Hand Interaction Actor provided in the MRTK UX Tools plugin, check out the official [documentation](https://microsoft.github.io/MixedReality-UXTools-Unreal/version/public/0.8.x/Docs/HandInteraction.html).</span></span>

## <a name="attach-manipulators"></a><span data-ttu-id="e5875-145">Attacher des manipulateurs</span><span class="sxs-lookup"><span data-stu-id="e5875-145">Attach Manipulators</span></span>

1.  <span data-ttu-id="e5875-146">Nous allons ensuite attacher des manipulateurs à nos acteurs Échiquier et Roi.</span><span class="sxs-lookup"><span data-stu-id="e5875-146">Next, we’ll attach Manipulators to our chess board and king Actors.</span></span> <span data-ttu-id="e5875-147">Un manipulateur est un composant qui répond à une entrée manuelle articulée et qui peut être tiré, pivoté et translaté ; en appliquant la transformation du manipulateur à celle d’un acteur, les acteurs peuvent être manipulés directement.</span><span class="sxs-lookup"><span data-stu-id="e5875-147">A Manipulator is a component that responds to articulated hand input and can be grabbed, rotated, and translated; by applying the Manipulator’s transform to that of an Actor, Actors can be directly manipulated.</span></span> 

2.  <span data-ttu-id="e5875-148">Ouvrez le blueprint de l’échiquier.</span><span class="sxs-lookup"><span data-stu-id="e5875-148">Open your Board Blueprint.</span></span> <span data-ttu-id="e5875-149">Dans le panneau **Components**, cliquez sur **Add Component** et recherchez **Uxt Generic Manipulator**.</span><span class="sxs-lookup"><span data-stu-id="e5875-149">In the **Components** panel, click **Add Component** and search for **Uxt Generic Manipulator**.</span></span> <span data-ttu-id="e5875-150">Dans le volet d’informations, vous trouverez une section intitulée **Generic Manipulator** où vous pouvez définir si vous voulez activer la manipulation à une ou à deux mains, le mode de rotation et le lissage.</span><span class="sxs-lookup"><span data-stu-id="e5875-150">In the Details panel, you’ll find a section titled **Generic Manipulator** where you can set whether you want to enable one-handed or two-handed manipulation, the rotation mode, and smoothing.</span></span> <span data-ttu-id="e5875-151">N’hésitez pas à sélectionner le mode que vous souhaitez, puis **compilez** et **enregistrez** l’échiquier.</span><span class="sxs-lookup"><span data-stu-id="e5875-151">Feel free to select whichever modes you wish, then **Compile** and **Save** Board.</span></span> 

![Ajouter un manipulateur générique](images/unreal-uxt/4-addmanip.PNG)

![Définir le mode](images/unreal-uxt/4-setrotmode.PNG)

3.  <span data-ttu-id="e5875-154">Répétez les étapes ci-dessus pour l’acteur WhiteKing.</span><span class="sxs-lookup"><span data-stu-id="e5875-154">Repeat the steps above for the WhiteKing Actor.</span></span>

<span data-ttu-id="e5875-155">Pour plus d’informations sur les composants de manipulateur fournis dans le plug-in UX Tools de MRTK, consultez la [documentation](https://microsoft.github.io/MixedReality-UXTools-Unreal/version/public/0.8.x/Docs/Manipulator.html) officielle.</span><span class="sxs-lookup"><span data-stu-id="e5875-155">For more information about the Manipulator Components provided in the MRTK UX Tools plugin, visit the official [documentation](https://microsoft.github.io/MixedReality-UXTools-Unreal/version/public/0.8.x/Docs/Manipulator.html).</span></span>

## <a name="test-out-your-scene-with-simulated-hands"></a><span data-ttu-id="e5875-156">Tester votre scène avec des mains simulées</span><span class="sxs-lookup"><span data-stu-id="e5875-156">Test out your scene with simulated hands</span></span>

1.  <span data-ttu-id="e5875-157">Dans la fenêtre principale, appuyez sur **Play**.</span><span class="sxs-lookup"><span data-stu-id="e5875-157">In the Main window, press **Play**.</span></span> <span data-ttu-id="e5875-158">Vous devez voir deux mains maillées fournies par le plug-in UX Tools de MRTK, avec des rayons manuels partant de la paume de chaque main !</span><span class="sxs-lookup"><span data-stu-id="e5875-158">You should see two mesh hands provided by the MRTK UX Tools plugin, with hand rays extending from each hand’s palm!</span></span> 

![Mains simulées dans la fenêtre d’affichage](images/unreal-uxt/4-handsim.PNG)

2.  <span data-ttu-id="e5875-160">Pour contrôler la **main droite**, maintenez enfoncé le bouton **Alt gauche**.</span><span class="sxs-lookup"><span data-stu-id="e5875-160">To control the **right hand**, hold down the **left Alt** button.</span></span> <span data-ttu-id="e5875-161">Déplacez votre souris pour déplacer la main.</span><span class="sxs-lookup"><span data-stu-id="e5875-161">Move your mouse to move the hand.</span></span> <span data-ttu-id="e5875-162">Faites défiler avec la **roulette de la souris** pour déplacer la main **vers l’avant** ou **vers l’arrière**.</span><span class="sxs-lookup"><span data-stu-id="e5875-162">Scroll with your **mouse wheel** to move the hand **forwards** or **backwards**.</span></span> <span data-ttu-id="e5875-163">Cliquez sur le bouton gauche de la souris pour **pincer**, cliquez sur le bouton central de la souris pour **pousser avec le doigt**.</span><span class="sxs-lookup"><span data-stu-id="e5875-163">Click your left mouse to **pinch**, click the middle mouse button to **poke**.</span></span>

3.  <span data-ttu-id="e5875-164">Pour contrôler la **main gauche**, maintenez enfoncé le bouton **Maj gauche**.</span><span class="sxs-lookup"><span data-stu-id="e5875-164">To control the **left hand**, hold down the **left Shift** button.</span></span> <span data-ttu-id="e5875-165">Les contrôles permettant de déplacer la main gauche sont les mêmes que ceux de la main droite.</span><span class="sxs-lookup"><span data-stu-id="e5875-165">The controls for moving the left hand are the same as those for the right hand.</span></span> 

4.  <span data-ttu-id="e5875-166">Essayez à présent d’utiliser les mains simulées pour sélectionner, déplacer et déposer le roi blanc du jeu d’échecs.</span><span class="sxs-lookup"><span data-stu-id="e5875-166">Now try using the simulated hands to pick up, move, and set down the white chess king.</span></span> <span data-ttu-id="e5875-167">Vous pouvez également manipuler l’échiquier !</span><span class="sxs-lookup"><span data-stu-id="e5875-167">You can also manipulate the board!</span></span> <span data-ttu-id="e5875-168">Expérimentez les interactions de près et de loin : quand vos mains sont suffisamment proches pour saisir directement l’échiquier et le roi, le rayon manuel disparaît et est remplacé par un curseur de doigt au bout de l’index.</span><span class="sxs-lookup"><span data-stu-id="e5875-168">Experiment with both near and far interaction- notice that when your hands get close enough to grab the board and king directly, the hand ray disappears and is replaced with a finger cursor on the index tip.</span></span> 

<span data-ttu-id="e5875-169">Pour plus d’informations sur les fonctionnalités des mains simulées fournies dans le plug-in UX Tools de MRTK, consultez la [documentation](https://microsoft.github.io/MixedReality-UXTools-Unreal/version/public/0.8.x/Docs/InputSimulation.html) officielle.</span><span class="sxs-lookup"><span data-stu-id="e5875-169">For more information about the simulated hands feature provided by the MRTK UX Tools plugin, visit the official [documentation](https://microsoft.github.io/MixedReality-UXTools-Unreal/version/public/0.8.x/Docs/InputSimulation.html).</span></span>

[<span data-ttu-id="e5875-170">Section suivante : 5. Ajout d’un bouton et réinitialisation des emplacements de pièces</span><span class="sxs-lookup"><span data-stu-id="e5875-170">Next Section: 5. Adding a button & resetting piece locations</span></span>](unreal-uxt-ch5.md)
