---
title: Comprendre les performances pour la réalité mixte
description: Avancée des rubriques et des détails sur l’optimisation des performances pour les applications de réalité mixte Windows
author: Troy-Ferrell
ms.author: trferrel
ms.date: 3/26/2019
ms.topic: article
keywords: Windows mixte réalité, réalité mixte, réalité virtuelle, VR, MR, les performances, l’optimisation, UC, GPU
ms.openlocfilehash: ce59f9023c21dc7c981a2bb97d9fbd0c57622dbf
ms.sourcegitcommit: 384b0087899cd835a3a965f75c6f6c607c9edd1b
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/12/2019
ms.locfileid: "59596076"
---
# <a name="understanding-performance-for-mixed-reality"></a><span data-ttu-id="38e9d-104">Comprendre les performances pour la réalité mixte</span><span class="sxs-lookup"><span data-stu-id="38e9d-104">Understanding performance for mixed reality</span></span>

<span data-ttu-id="38e9d-105">Cet article est une introduction au rationalisation de l’importance des performances pour votre application de réalité mixte.</span><span class="sxs-lookup"><span data-stu-id="38e9d-105">This article is an introduction into rationalizing the significance of performance for your Mixed Reality app.</span></span>  <span data-ttu-id="38e9d-106">Expérience utilisateur peut se dégrader considérablement si votre application ne s’exécute pas à la fréquence d’images optimale.</span><span class="sxs-lookup"><span data-stu-id="38e9d-106">User experience can be greatly degraded if your application does not run at optimal frame rate.</span></span> <span data-ttu-id="38e9d-107">Hologrammes apparaîtront instables et principal suivi de l’environnement sera inexact conduisant à une mauvaise expérience pour l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="38e9d-107">Holograms will appear unstable and head tracking of the environment will be inaccurate leading to an poor experience for the user.</span></span> <span data-ttu-id="38e9d-108">En effet, les performances doivent être considérée comme une fonctionnalité de première classe pour le développement de réalité mixte et pas une stabilisation, à la fin de la tâche de cycle.</span><span class="sxs-lookup"><span data-stu-id="38e9d-108">Indeed, performance must be considered as a first class feature for Mixed Reality development and not a stabilization, end of cycle task.</span></span>

<span data-ttu-id="38e9d-109">Pour la révision, les valeurs de fréquence d’images performante pour chaque plateforme cible sont répertoriées ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="38e9d-109">For review, the performant framerate values for each target platform are listed below.</span></span>

| <span data-ttu-id="38e9d-110">Plateforme</span><span class="sxs-lookup"><span data-stu-id="38e9d-110">Platform</span></span> | <span data-ttu-id="38e9d-111">Fréquence d’images cible</span><span class="sxs-lookup"><span data-stu-id="38e9d-111">Target Frame Rate</span></span> |
|----------|-------------------|
| [<span data-ttu-id="38e9d-112">HoloLens</span><span class="sxs-lookup"><span data-stu-id="38e9d-112">HoloLens</span></span>](hololens-hardware-details.md) | <span data-ttu-id="38e9d-113">60 FPS</span><span class="sxs-lookup"><span data-stu-id="38e9d-113">60 FPS</span></span> |
| [<span data-ttu-id="38e9d-114">Windows Mixed Reality Ultra PC</span><span class="sxs-lookup"><span data-stu-id="38e9d-114">Windows Mixed Reality Ultra PCs</span></span>](immersive-headset-hardware-details.md) | <span data-ttu-id="38e9d-115">90 FPS</span><span class="sxs-lookup"><span data-stu-id="38e9d-115">90 FPS</span></span> |
| [<span data-ttu-id="38e9d-116">Windows mixte réalité PC</span><span class="sxs-lookup"><span data-stu-id="38e9d-116">Windows Mixed Reality PCs</span></span>](immersive-headset-hardware-details.md) | <span data-ttu-id="38e9d-117">60 FPS</span><span class="sxs-lookup"><span data-stu-id="38e9d-117">60 FPS</span></span> |

<span data-ttu-id="38e9d-118">Le framework ci-dessous donne un aperçu général pour les meilleures pratiques et une vue différente pour atteindre cible des fréquences d’images.</span><span class="sxs-lookup"><span data-stu-id="38e9d-118">The framework below gives a general outline for best practices and understandings towards hitting target frame rates.</span></span> <span data-ttu-id="38e9d-119">Pour Explorer plus en détail, vous pouvez lire le [recommandations relatives aux performances pour l’article de Unity](performance-recommendations-for-unity.md).</span><span class="sxs-lookup"><span data-stu-id="38e9d-119">To dive further into details, consider reading the [performance recommendations for Unity article](performance-recommendations-for-unity.md).</span></span> <span data-ttu-id="38e9d-120">En particulier, cet article connexe explique comment mesurer la fréquence d’images dans votre application de réalité mixte Windows de Unity, ainsi que les étapes à suivre dans l’environnement Unity pour améliorer les performances.</span><span class="sxs-lookup"><span data-stu-id="38e9d-120">In particular, this related article will discuss how to measure framerate in your Unity Windows Mixed Reality app as well as steps to take in the Unity environment to improve performance.</span></span>

## <a name="understanding-performance-bottlenecks"></a><span data-ttu-id="38e9d-121">Comprendre les goulots d’étranglement de performances</span><span class="sxs-lookup"><span data-stu-id="38e9d-121">Understanding performance bottlenecks</span></span>

<span data-ttu-id="38e9d-122">Si votre application a une fréquence d’images peu performantes, la première étape consiste à analyser et à comprendre où votre application est intensif.</span><span class="sxs-lookup"><span data-stu-id="38e9d-122">If your app has an underperforming framerate, the first step is to analyze and understand where your application is computationally intensive.</span></span> <span data-ttu-id="38e9d-123">Il existe deux processeurs principales responsable de travail pour afficher votre scène : le processeur et le GPU.</span><span class="sxs-lookup"><span data-stu-id="38e9d-123">There are two primary processors responsible for the work to render your scene: the CPU and the GPU.</span></span> <span data-ttu-id="38e9d-124">Chacun de ces deux composants gérer différentes opérations et les étapes de votre application de réalité mixte.</span><span class="sxs-lookup"><span data-stu-id="38e9d-124">Each of these two components handle different operations and stages of your Mixed Reality app.</span></span> <span data-ttu-id="38e9d-125">Il existe trois endroits où les goulots d’étranglement peuvent se produire.</span><span class="sxs-lookup"><span data-stu-id="38e9d-125">There are three key places where bottlenecks may occur.</span></span> 

1. <span data-ttu-id="38e9d-126">**Application UC pour ce Thread -** -ce thread est responsable de votre logique d’application.</span><span class="sxs-lookup"><span data-stu-id="38e9d-126">**App Thread - CPU** - This thread is responsible for your app logic.</span></span> <span data-ttu-id="38e9d-127">Cela comprend le traitement d’entrée, des animations, physique et autres logique/état de l’application</span><span class="sxs-lookup"><span data-stu-id="38e9d-127">This includes processing input, animations, physics, and other app logic/state</span></span>
2. <span data-ttu-id="38e9d-128">**Rendre Thread - UC à GPU** -ce thread est chargé d’envoyer vos appels de dessin vers le GPU.</span><span class="sxs-lookup"><span data-stu-id="38e9d-128">**Render Thread - CPU to GPU** - This thread is responsible for submitting your draw calls to the GPU.</span></span> <span data-ttu-id="38e9d-129">Lorsque votre application veut afficher un objet tel qu’un cube ou modèle, ce thread envoie une demande au GPU, qui possède une architecture optimisée pour le rendu, pour effectuer ces opérations.</span><span class="sxs-lookup"><span data-stu-id="38e9d-129">When your app wants to render an object such as a cube or model, this thread sends a request to the GPU, which has an architecture optimized for rendering, to perform these operations.</span></span>
3. <span data-ttu-id="38e9d-130">**GPU** - 
    ce processeur gère généralement du pipeline graphique de votre application pour transformer des données 3D (modèles, des textures, etc.) en pixels et produisent finalement une image 2D à envoyer à l’écran votre appareil.</span><span class="sxs-lookup"><span data-stu-id="38e9d-130">**GPU** - 
 This processor most commonly handles the graphics pipeline of your application to transform 3D data (models, textures, etc) into pixels and ultimately produce a 2D image to submit to your device's screen.</span></span>

![Durée de vie d’un Frame](images/lifetime-of-a-frame.png)

<span data-ttu-id="38e9d-132">En règle générale, les applications de HoloLens seront limitée de GPU.</span><span class="sxs-lookup"><span data-stu-id="38e9d-132">Generally, HoloLens applications will be GPU bounded.</span></span> <span data-ttu-id="38e9d-133">Toutefois, cela n’est pas vrai dans chaque application et par conséquent, il est recommandé d’utiliser les outils et les techniques ci-dessous pour accéder à réelles pour votre application.</span><span class="sxs-lookup"><span data-stu-id="38e9d-133">However, this does not hold true in every application and thus it is recommended to use the tools & techniques below to get to ground-truth for your particular app.</span></span>

## <a name="how-to-analyze-your-application"></a><span data-ttu-id="38e9d-134">Comment analyser votre application</span><span class="sxs-lookup"><span data-stu-id="38e9d-134">How to analyze your application</span></span>

<span data-ttu-id="38e9d-135">Il existe de nombreux outils qui vous permettent en tant que développeur de comprendre le profil de performance de votre application de réalité mixte.</span><span class="sxs-lookup"><span data-stu-id="38e9d-135">There are many tools that allow you as a developer to understand the performance profile of your Mixed Reality application.</span></span> <span data-ttu-id="38e9d-136">Ceux-ci vous permettront pour les deux cibles où vous avez les goulots d’étranglement et comment ils sont prend forme eux-mêmes pour déboguer les.</span><span class="sxs-lookup"><span data-stu-id="38e9d-136">These will enable you to both target where you have bottlenecks and how they are manifesting themselves to debug them.</span></span>

<span data-ttu-id="38e9d-137">Il s’agit d’une liste des outils puissants et populaires pour obtenir des informations de profilage approfondies pour votre application.</span><span class="sxs-lookup"><span data-stu-id="38e9d-137">This is a list of popular and powerful tools to gain deep profiling information for your application.</span></span>
- [<span data-ttu-id="38e9d-138">Analyseurs de performances graphiques Intel</span><span class="sxs-lookup"><span data-stu-id="38e9d-138">Intel Graphics Performance Analyzers</span></span>](https://software.intel.com/gpa)
- [<span data-ttu-id="38e9d-139">Débogueurs de Visual Studio Graphics</span><span class="sxs-lookup"><span data-stu-id="38e9d-139">Visual Studio Graphics Debuggers</span></span>](https://docs.microsoft.com/visualstudio/debugger/graphics/visual-studio-graphics-diagnostics?view=vs-2017)
- [<span data-ttu-id="38e9d-140">Unity Profiler</span><span class="sxs-lookup"><span data-stu-id="38e9d-140">Unity Profiler</span></span>](https://docs.unity3d.com/Manual/Profiler.html)
- [<span data-ttu-id="38e9d-141">Débogueur Unity Frame</span><span class="sxs-lookup"><span data-stu-id="38e9d-141">Unity Frame Debugger</span></span>](https://docs.unity3d.com/Manual/FrameDebugger.html)

### <a name="how-to-profile-in-any-environment"></a><span data-ttu-id="38e9d-142">Comment profiler dans n’importe quel environnement</span><span class="sxs-lookup"><span data-stu-id="38e9d-142">How to profile in any environment</span></span>

<span data-ttu-id="38e9d-143">Il est un simple test pour déterminer rapidement que si vous êtes susceptible de GPU délimité ou un processeur limité dans votre application.</span><span class="sxs-lookup"><span data-stu-id="38e9d-143">There is a simple test to quickly determine if you are likely GPU bounded or CPU bounded in your application.</span></span> <span data-ttu-id="38e9d-144">Si vous diminuez la résolution de la sortie de cible de rendu, il existe moins pixels pour calculer et par conséquent, moins de travail GPU doit effectuer pour restituer une image.</span><span class="sxs-lookup"><span data-stu-id="38e9d-144">If you decrease the resolution of the render target output, there are less pixels to calculate and thus, less work the GPU needs to perform to render an image.</span></span> <span data-ttu-id="38e9d-145">Fenêtre d’affichage de la mise à l’échelle (résolution dynamique mise à l’échelle) est la pratique de rendu de votre image à un petit cible de rendu, puis votre périphérique de sortie peut afficher.</span><span class="sxs-lookup"><span data-stu-id="38e9d-145">Viewport scaling (dynamic resolution scaling) is the practice of rendering your image to a smaller render target then your output device can display.</span></span> <span data-ttu-id="38e9d-146">L’appareil sera jusqu'à l’échantillon à partir du plus petit jeu de pixels pour afficher votre image finale.</span><span class="sxs-lookup"><span data-stu-id="38e9d-146">The device will up-sample from the smaller set of pixels to display your final image.</span></span>

<span data-ttu-id="38e9d-147">Après réduction de la résolution de rendu, si :</span><span class="sxs-lookup"><span data-stu-id="38e9d-147">After decreasing rendering resolution, if:</span></span>
1) <span data-ttu-id="38e9d-148">Fréquence d’images de l’application **augmente**, puis vous êtes susceptible de **GPU délimité**</span><span class="sxs-lookup"><span data-stu-id="38e9d-148">Application framerate **increases**, then you are likely **GPU Bounded**</span></span>
1) <span data-ttu-id="38e9d-149">Fréquence d’images de l’application **inchangé**, puis vous êtes susceptible de **limitées de l’UC**</span><span class="sxs-lookup"><span data-stu-id="38e9d-149">Application framerate **unchanged**, then you are likely **CPU Bounded**</span></span>

>[!NOTE]
><span data-ttu-id="38e9d-150">Unity fournit la possibilité de modifier facilement la résolution de cible de rendu de votre application lors de l’exécution via le *[XRSettings.renderViewportScale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)* propriété.</span><span class="sxs-lookup"><span data-stu-id="38e9d-150">Unity provides the ability to easily modify the render target resolution of your application at runtime through the *[XRSettings.renderViewportScale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)* property.</span></span> <span data-ttu-id="38e9d-151">L’image finale présentée sur l’appareil a une résolution fixe.</span><span class="sxs-lookup"><span data-stu-id="38e9d-151">The final image presented on device has a fixed resolution.</span></span> <span data-ttu-id="38e9d-152">La plateforme va échantillonner pour créer une image de résolution plus élevée pour le rendu sur les écrans de sortie une résolution inférieure.</span><span class="sxs-lookup"><span data-stu-id="38e9d-152">The platform will sample the lower resolution output to build a higher resolution image for rendering on displays.</span></span> 
>
>```CS
>UnityEngine.XR.XRSettings.renderScale = 0.7f;
>```

## <a name="how-to-improve-your-application"></a><span data-ttu-id="38e9d-153">Comment améliorer votre application</span><span class="sxs-lookup"><span data-stu-id="38e9d-153">How to improve your application</span></span>

### <a name="cpu-performance-recommendations"></a><span data-ttu-id="38e9d-154">Recommandations relatives aux performances de processeur</span><span class="sxs-lookup"><span data-stu-id="38e9d-154">CPU performance recommendations</span></span>

<span data-ttu-id="38e9d-155">En règle générale, la plupart du travail dans une application de réalité mixte sur le processeur implique de « simulation » de la scène et la logique d’application unique approfondis de traitement.</span><span class="sxs-lookup"><span data-stu-id="38e9d-155">Generally, most work in a mixed reality application on the CPU involves performing the "simulation" of the scene and processing extensive unique application logic.</span></span> <span data-ttu-id="38e9d-156">Par conséquent, les domaines suivants sont généralement ciblés pour l’optimisation.</span><span class="sxs-lookup"><span data-stu-id="38e9d-156">Thus, the following areas are usually targeted for optimization.</span></span>

- <span data-ttu-id="38e9d-157">Animations</span><span class="sxs-lookup"><span data-stu-id="38e9d-157">Animations</span></span>
- <span data-ttu-id="38e9d-158">Simplifier physique</span><span class="sxs-lookup"><span data-stu-id="38e9d-158">Simplify Physics</span></span>
- <span data-ttu-id="38e9d-159">Allocations de mémoire</span><span class="sxs-lookup"><span data-stu-id="38e9d-159">Memory allocations</span></span>
- <span data-ttu-id="38e9d-160">Algorithmes complexes (ex.)</span><span class="sxs-lookup"><span data-stu-id="38e9d-160">Complex algorithms (i.e</span></span> <span data-ttu-id="38e9d-161">cinématique inverse, la recherche de chemin d’accès)</span><span class="sxs-lookup"><span data-stu-id="38e9d-161">inverse kinematics, path-finding)</span></span>

### <a name="gpu-performance-recommendations"></a><span data-ttu-id="38e9d-162">Recommandations relatives aux performances de GPU</span><span class="sxs-lookup"><span data-stu-id="38e9d-162">GPU performance recommendations</span></span>

#### <a name="understanding-bandwidth-vs-fill-rate"></a><span data-ttu-id="38e9d-163">Taux de remplissage de comprendre la bande passante vs</span><span class="sxs-lookup"><span data-stu-id="38e9d-163">Understanding bandwidth vs fill rate</span></span>
<span data-ttu-id="38e9d-164">Lors du rendu d’un frame sur le GPU, une application est généralement limitée par le taux de remplissage ou de la bande passante de mémoire.</span><span class="sxs-lookup"><span data-stu-id="38e9d-164">When rendering a frame on the GPU, an application is generally either bounded by memory bandwidth or fill rate.</span></span>

- <span data-ttu-id="38e9d-165">**Bande passante de mémoire** est le taux de lectures et écritures le GPU peut effectuer à partir de la mémoire</span><span class="sxs-lookup"><span data-stu-id="38e9d-165">**Memory bandwidth** is the rate of reads and writes the GPU can perform from memory</span></span>
    - <span data-ttu-id="38e9d-166">Pour identifier les limitations de bande passante, réduire la qualité de la texture et vérifiez si le taux de trames améliorées.</span><span class="sxs-lookup"><span data-stu-id="38e9d-166">To identify bandwidth limitations, reduce texture quality and check if framerate improved.</span></span>
    - <span data-ttu-id="38e9d-167">Dans Unity, cela est possible en modifiant **qualité de la Texture** dans **modifier** > **paramètres du projet**  >   **[ Paramètres de qualité](https://docs.unity3d.com/Manual/class-QualitySettings.html)**.</span><span class="sxs-lookup"><span data-stu-id="38e9d-167">In Unity, this can be done by changing **Texture Quality** in **Edit** > **Project Settings** > **[Quality Settings](https://docs.unity3d.com/Manual/class-QualitySettings.html)**.</span></span>
- <span data-ttu-id="38e9d-168">**Taux de remplissage** fait référence au débit de pixels rendus qui peuvent être dessinées par seconde par le GPU.</span><span class="sxs-lookup"><span data-stu-id="38e9d-168">**Fill rate** refers to the throughput of rendered pixels that can be drawn per second by the GPU.</span></span>
    - <span data-ttu-id="38e9d-169">Pour identifier les limites de taux de remplissage, diminuez la résolution d’affichage et vérifiez si le taux de trames améliorées.</span><span class="sxs-lookup"><span data-stu-id="38e9d-169">To identify fill rate limitations, decrease the display resolution and check if framerate improved.</span></span> 
    - <span data-ttu-id="38e9d-170">Dans Unity, cela est possible le *[XRSettings.renderViewportScale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)* propriété</span><span class="sxs-lookup"><span data-stu-id="38e9d-170">In Unity, this can be done via the  *[XRSettings.renderViewportScale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)* property</span></span>

<span data-ttu-id="38e9d-171">Bande passante de mémoire implique généralement des optimisations soit</span><span class="sxs-lookup"><span data-stu-id="38e9d-171">Memory bandwidth generally involves optimizations to either</span></span>
1) <span data-ttu-id="38e9d-172">diminuer les résolutions de texture</span><span class="sxs-lookup"><span data-stu-id="38e9d-172">decrease texture resolutions</span></span>
2) <span data-ttu-id="38e9d-173">utiliser moins de textures (ex.)</span><span class="sxs-lookup"><span data-stu-id="38e9d-173">utilize less textures (i.e</span></span> <span data-ttu-id="38e9d-174">etc. spéculaire, Normals)</span><span class="sxs-lookup"><span data-stu-id="38e9d-174">normals, specular, etc)</span></span>

<span data-ttu-id="38e9d-175">Taux de remplissage est principalement axé sur ce qui réduit le nombre d’opérations qui doivent être calculés pour un pixel de rendu final.</span><span class="sxs-lookup"><span data-stu-id="38e9d-175">Fill rate is primarily focused on reducing the number of operations that need to be computed for a final rendered pixel.</span></span> <span data-ttu-id="38e9d-176">Exemples de ce appartiennent généralement à ce qui réduit</span><span class="sxs-lookup"><span data-stu-id="38e9d-176">Examples of this commonly fall into reducing</span></span>
1) <span data-ttu-id="38e9d-177">nombre d’objets au rendu/processus</span><span class="sxs-lookup"><span data-stu-id="38e9d-177">number of objects to render/process</span></span>
2) <span data-ttu-id="38e9d-178">nombre d’opérations par le nuanceur</span><span class="sxs-lookup"><span data-stu-id="38e9d-178">number of operations per shader</span></span>
3) <span data-ttu-id="38e9d-179">nombre d’étapes GPU pour résultat final (Nuanciers Géométrie post-traitement effets, etc.)</span><span class="sxs-lookup"><span data-stu-id="38e9d-179">number of GPU stages to final result (geometry shaders, post-processing effects, etc)</span></span>
4) <span data-ttu-id="38e9d-180">nombre de pixels à restituer (ex.)</span><span class="sxs-lookup"><span data-stu-id="38e9d-180">number of pixels to render (i.e</span></span> <span data-ttu-id="38e9d-181">résolution d’affichage)</span><span class="sxs-lookup"><span data-stu-id="38e9d-181">display resolution)</span></span>

#### <a name="reduce-poly-count"></a><span data-ttu-id="38e9d-182">Réduire le nombre de poly</span><span class="sxs-lookup"><span data-stu-id="38e9d-182">Reduce poly count</span></span>
<span data-ttu-id="38e9d-183">Polygone supérieur compte résultat dans des opérations plus pour le GPU et réduisant le nombre de polygones dans votre scène réduit la quantité de temps à rendre cette géométrie.</span><span class="sxs-lookup"><span data-stu-id="38e9d-183">Higher polygon counts result in more operations for the GPU and reducing the number of polygons in your scene will reduce the amount of time to render that geometry.</span></span> <span data-ttu-id="38e9d-184">D’autres facteurs impliqués ainsi lors de l’ombrage de la géométrie qui peut toujours être coûteuse, mais le compte de polygones est la mesure de base pour déterminer comment onéreux une scène sera à restituer.</span><span class="sxs-lookup"><span data-stu-id="38e9d-184">There are other factors involved as well in shading the geometry that can still be expensive but polygon count is the base metric to determine how expensive a scene will be to render.</span></span>

#### <a name="limit-overdraw"></a><span data-ttu-id="38e9d-185">Limite de superposition</span><span class="sxs-lookup"><span data-stu-id="38e9d-185">Limit overdraw</span></span>

<span data-ttu-id="38e9d-186">Superposition haut se produit lorsque plusieurs objets sont rendus, mais pas générés à l’écran comme ils sont masqués par un autre objet OCCLUSION généralement plus près.</span><span class="sxs-lookup"><span data-stu-id="38e9d-186">High overdraw occurs when multiple objects are rendered but not outputted to the screen as they are hidden by another, generally closer, occluding object.</span></span> <span data-ttu-id="38e9d-187">Imaginez examinant un mur ayant plusieurs salles et geometry derrière lui.</span><span class="sxs-lookup"><span data-stu-id="38e9d-187">Imagine looking at a wall that had multiple rooms and geometry behind it.</span></span> <span data-ttu-id="38e9d-188">Tous de la géométrie seraient traitée pour le rendu, mais uniquement le mur opaque doit vraiment être affiché comme il occludes l’affichage de tout autre contenu.</span><span class="sxs-lookup"><span data-stu-id="38e9d-188">All of the geometry would be processed for rendering but only the opaque wall really needs to be rendered as it occludes the view of all other content.</span></span> <span data-ttu-id="38e9d-189">Cela entraîne des opérations peu rentable qui ne sont pas nécessaires pour l’affichage actuel.</span><span class="sxs-lookup"><span data-stu-id="38e9d-189">This results in wasteful operations that are not needed for the current view.</span></span>

#### <a name="shaders"></a><span data-ttu-id="38e9d-190">Nuanceurs</span><span class="sxs-lookup"><span data-stu-id="38e9d-190">Shaders</span></span>

<span data-ttu-id="38e9d-191">Nuanceurs sont de petits programmes qui s’exécutent sur le GPU et déterminent généralement deux étapes importantes de rendu :</span><span class="sxs-lookup"><span data-stu-id="38e9d-191">Shaders are small programs that run on the GPU and generally determine two important steps in rendering:</span></span>
1) <span data-ttu-id="38e9d-192">les sommets de l’objet doivent être dessinées sur l’écran et où elles se trouvent dans l’espace à l’écran (ex.)</span><span class="sxs-lookup"><span data-stu-id="38e9d-192">which object's vertices should be drawn on the screen and where they are in screen space (i.e</span></span> <span data-ttu-id="38e9d-193">le nuanceur de sommets)</span><span class="sxs-lookup"><span data-stu-id="38e9d-193">the Vertex shader)</span></span>
    - <span data-ttu-id="38e9d-194">Le nuanceur de sommets est généralement exécuté par vertex pour chaque GameObject</span><span class="sxs-lookup"><span data-stu-id="38e9d-194">The Vertex shader is generally executed per vertex for every GameObject</span></span>
2) <span data-ttu-id="38e9d-195">les éléments à la couleur des pixels (ex.)</span><span class="sxs-lookup"><span data-stu-id="38e9d-195">what to color those pixels (i.e</span></span> <span data-ttu-id="38e9d-196">le nuanceur de pixels)</span><span class="sxs-lookup"><span data-stu-id="38e9d-196">the Pixel shader)</span></span>
    - <span data-ttu-id="38e9d-197">Le nuanceur de pixels est exécuté par pixel pour la texture restituée pour périphérique présent</span><span class="sxs-lookup"><span data-stu-id="38e9d-197">The Pixel shader is executed per pixel for the texture being rendered for device present</span></span>

<span data-ttu-id="38e9d-198">Nuanceurs effectuent généralement de nombreuses transformations et les calculs d’éclairage.</span><span class="sxs-lookup"><span data-stu-id="38e9d-198">Typically shaders perform many transformations and lighting calculations.</span></span> <span data-ttu-id="38e9d-199">Bien que les modèles d’éclairage complexes, des ombres et autres opérations peuvent générer des résultats fantastiques, ils s’accompagnent également un prix.</span><span class="sxs-lookup"><span data-stu-id="38e9d-199">Although complex lighting models, shadows, and other operations can generate fantastic results, they also come with a price.</span></span> <span data-ttu-id="38e9d-200">En réduisant le nombre d’opérations calculées dans les nuanceurs peut réduire considérablement le travail global à effectuer par un GPU par trame.</span><span class="sxs-lookup"><span data-stu-id="38e9d-200">Reducing the number of operations computed in shaders can greatly reduce the overall work needed to be done by a GPU per frame.</span></span>

##### <a name="shader-coding-recommendations"></a><span data-ttu-id="38e9d-201">Recommandations de codage de nuanceur</span><span class="sxs-lookup"><span data-stu-id="38e9d-201">Shader coding recommendations</span></span>

- <span data-ttu-id="38e9d-202">Utiliser le filtrage bilinéaire autant que possible</span><span class="sxs-lookup"><span data-stu-id="38e9d-202">Use bilinear filtering whenever possible</span></span>
- <span data-ttu-id="38e9d-203">Réorganiser des expressions pour utiliser des fonctions intrinsèques MAD pour effectuer une multiplication et un ajout en même temps</span><span class="sxs-lookup"><span data-stu-id="38e9d-203">Rearrange expressions to use MAD intrinsics in order to do a multiply and an add at the same time</span></span>
- <span data-ttu-id="38e9d-204">Précalculent autant que possible sur l’UC et de transmettre en tant que constantes à la documentation</span><span class="sxs-lookup"><span data-stu-id="38e9d-204">Precalculate as much as possible on the CPU and pass as constants to the material</span></span>
- <span data-ttu-id="38e9d-205">**Favoriser les opérations de déplacement à partir du nuanceur de pixels au nuanceur de sommets**</span><span class="sxs-lookup"><span data-stu-id="38e9d-205">**Favor moving operations from the pixel shader to the vertex shader**</span></span>
    - <span data-ttu-id="38e9d-206">En règle générale, le nombre de vertex << # de pixels (ex.)</span><span class="sxs-lookup"><span data-stu-id="38e9d-206">Generally the # of vertices << # of pixels (i.e</span></span> <span data-ttu-id="38e9d-207">720p == 921,600 pixels, 1080p == 2,073,600 pixels, etc)</span><span class="sxs-lookup"><span data-stu-id="38e9d-207">720p == 921,600 pixels, 1080p == 2,073,600 pixels, etc)</span></span>

#### <a name="remove-gpu-stages"></a><span data-ttu-id="38e9d-208">Supprimer des étapes GPU</span><span class="sxs-lookup"><span data-stu-id="38e9d-208">Remove GPU stages</span></span>
<span data-ttu-id="38e9d-209">Effets de post-traitement peut s’avérer très coûteuse et généralement inhiber le taux de remplissage de votre application.</span><span class="sxs-lookup"><span data-stu-id="38e9d-209">Post-processing effects can be very expensive and generally inhibit the fill rate of your application.</span></span> <span data-ttu-id="38e9d-210">Cela inclut également des techniques de l’anticrénelage, telles que MSAA.</span><span class="sxs-lookup"><span data-stu-id="38e9d-210">This also includes anti-aliasing techniques such as MSAA.</span></span> <span data-ttu-id="38e9d-211">Sur HoloLens, il est recommandé d’éviter ces techniques entièrement.</span><span class="sxs-lookup"><span data-stu-id="38e9d-211">On HoloLens, it is recommended to avoid these techniques entirely.</span></span> <span data-ttu-id="38e9d-212">En outre, les étapes du nuanceur supplémentaires telles que geometry, convexe et nuanceurs de calcul doivent être évitées lorsque cela est possible.</span><span class="sxs-lookup"><span data-stu-id="38e9d-212">Furthermore, additional shader stages such as geometry, hull, and compute shaders should be avoided when possible.</span></span>

## <a name="memory-recommendations"></a><span data-ttu-id="38e9d-213">Recommandations de mémoire</span><span class="sxs-lookup"><span data-stu-id="38e9d-213">Memory recommendations</span></span>
<span data-ttu-id="38e9d-214">Opérations d’allocation et désallocation de mémoire excessive peuvent avoir des effets négatifs sur votre application holographique avec performances incohérent, cadres figés et autres comportements nuisibles.</span><span class="sxs-lookup"><span data-stu-id="38e9d-214">Excessive memory allocation & deallocation operations can have adverse effects on your holographic application resulting in inconsistent performance, frozen frames, and other detrimental behavior.</span></span> <span data-ttu-id="38e9d-215">Il est particulièrement important de comprendre les considérations relatives à la mémoire lors du développement dans Unity, étant donné que la gestion de la mémoire est contrôlée par le garbage collector.</span><span class="sxs-lookup"><span data-stu-id="38e9d-215">It is especially important to understand memory considerations when developing in Unity since memory management is controlled by the garbage collector.</span></span>

#### <a name="object-pooling"></a><span data-ttu-id="38e9d-216">Pool d’objets</span><span class="sxs-lookup"><span data-stu-id="38e9d-216">Object pooling</span></span>

<span data-ttu-id="38e9d-217">Le pool d’objets est une technique répandue qui permet de réduire le coût des allocations continues & désallocations d’objets.</span><span class="sxs-lookup"><span data-stu-id="38e9d-217">Object pooling is a popular technique to reduce the cost of continuous allocations & deallocations of objects.</span></span> <span data-ttu-id="38e9d-218">Pour cela, en allouant un grand nombre d’objets identiques et en réutilisant les instances inactives, disponibles à partir de ce pool au lieu de constamment lors de la génération et la destruction d’objets au fil du temps.</span><span class="sxs-lookup"><span data-stu-id="38e9d-218">This is done by allocating a large pool of identical objects and re-using inactive, available instances from this pool instead of constantly spawning and destroying objects over time.</span></span> <span data-ttu-id="38e9d-219">Les pools d’objet sont idéales pour des composants réutilisables qui possèdent la durée de vie des variable au cours d’une application.</span><span class="sxs-lookup"><span data-stu-id="38e9d-219">Object pools are great for re-useable components that have variable lifetime during an app.</span></span>

## <a name="see-also"></a><span data-ttu-id="38e9d-220">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="38e9d-220">See also</span></span>
- [<span data-ttu-id="38e9d-221">Recommandations relatives aux performances pour Unity</span><span class="sxs-lookup"><span data-stu-id="38e9d-221">Performance recommendations for Unity</span></span>](performance-recommendations-for-unity.md)
- [<span data-ttu-id="38e9d-222">Paramètres recommandés pour Unity</span><span class="sxs-lookup"><span data-stu-id="38e9d-222">Recommended settings for Unity</span></span>](recommended-settings-for-unity.md)
