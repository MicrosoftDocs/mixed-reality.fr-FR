---
title: Conception de mappage spatial
description: L’utilisation effective du mappage spatial dans HoloLens requiert un examen attentif de nombreux facteurs.
author: cre8ivepark
ms.author: dongpark
ms.date: 03/21/2018
ms.topic: article
keywords: Windows Mixed Reality, conception, mappage spatial, HoloLens, reconstruction de surface, maille
ms.openlocfilehash: 02e64727f9a23bea28e018d7c4e5a8b89c152447
ms.sourcegitcommit: 60f73ca23023c17c1da833c83d2a02f4dcc4d17b
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/17/2019
ms.locfileid: "69566009"
---
# <a name="spatial-mapping-design"></a><span data-ttu-id="703be-104">Conception de mappage spatial</span><span class="sxs-lookup"><span data-stu-id="703be-104">Spatial mapping design</span></span>

<span data-ttu-id="703be-105">L’utilisation effective du mappage spatial dans HoloLens requiert un examen attentif de nombreux facteurs.</span><span class="sxs-lookup"><span data-stu-id="703be-105">Effective use of spatial mapping within HoloLens requires careful consideration of many factors.</span></span>

## <a name="device-support"></a><span data-ttu-id="703be-106">Prise en charge des appareils</span><span class="sxs-lookup"><span data-stu-id="703be-106">Device support</span></span>

<table>
    <colgroup>
    <col width="33%" />
    <col width="33%" />
    <col width="33%" />
    </colgroup>
    <tr>
        <td><span data-ttu-id="703be-107"><strong>Fonctionnalité</strong></span><span class="sxs-lookup"><span data-stu-id="703be-107"><strong>Feature</strong></span></span></td>
        <td><span data-ttu-id="703be-108"><a href="hololens-hardware-details.md"><strong>HoloLens</strong></a></span><span class="sxs-lookup"><span data-stu-id="703be-108"><a href="hololens-hardware-details.md"><strong>HoloLens</strong></a></span></span></td>
        <td><span data-ttu-id="703be-109"><a href="immersive-headset-hardware-details.md"><strong>Casques immersifs</strong></a></span><span class="sxs-lookup"><span data-stu-id="703be-109"><a href="immersive-headset-hardware-details.md"><strong>Immersive headsets</strong></a></span></span></td>
    </tr>
     <tr>
        <td><span data-ttu-id="703be-110">Conception de mappage spatial</span><span class="sxs-lookup"><span data-stu-id="703be-110">Spatial mapping design</span></span></td>
        <td><span data-ttu-id="703be-111">✔️</span><span class="sxs-lookup"><span data-stu-id="703be-111">✔️</span></span></td>
        <td><span data-ttu-id="703be-112">❌</span><span class="sxs-lookup"><span data-stu-id="703be-112">❌</span></span></td>
    </tr>
</table>

## <a name="why-is-spatial-mapping-important"></a><span data-ttu-id="703be-113">Pourquoi le mappage spatial est-il important?</span><span class="sxs-lookup"><span data-stu-id="703be-113">Why is spatial mapping important?</span></span>

<span data-ttu-id="703be-114">Le mappage spatial permet de placer des objets sur des surfaces réelles.</span><span class="sxs-lookup"><span data-stu-id="703be-114">Spatial mapping makes it possible to place objects on real surfaces.</span></span> <span data-ttu-id="703be-115">Cela permet d’ancrer les objets dans le monde de l’utilisateur et de tirer parti des indications de profondeur dans le monde réel. Boucher vos hologrammes en fonction d’autres hologrammes et des objets réels vous aide à convaincre l’utilisateur que ces hologrammes sont en fait dans leur espace.</span><span class="sxs-lookup"><span data-stu-id="703be-115">This helps anchor objects in the user's world and takes advantage of real world depth cues. Occluding your holograms based on other holograms and real world objects helps convince the user that these holograms are actually in their space.</span></span> <span data-ttu-id="703be-116">Les hologrammes flottants en espace ou en mouvement avec l’utilisateur ne seront pas aussi réels.</span><span class="sxs-lookup"><span data-stu-id="703be-116">Holograms floating in space or moving with the user will not feel as real.</span></span> <span data-ttu-id="703be-117">Lorsque cela est possible, placez les éléments pour plus de confort.</span><span class="sxs-lookup"><span data-stu-id="703be-117">When possible, place items for comfort.</span></span>

<span data-ttu-id="703be-118">Visualisez les surfaces lors du placement ou du déplacement d’hologrammes (utilisez une grille projetée simple).</span><span class="sxs-lookup"><span data-stu-id="703be-118">Visualize surfaces when placing or moving holograms (use a simple projected grid).</span></span> <span data-ttu-id="703be-119">Cela permet à l’utilisateur de savoir où il peut placer ses hologrammes et montre l’utilisateur si l’endroit où il tente de placer l’hologramme n’a pas encore été mappé.</span><span class="sxs-lookup"><span data-stu-id="703be-119">This will help the user know where they can best place their holograms, and shows the user if the spot they are trying to place the hologram hasn't been mapped yet.</span></span> <span data-ttu-id="703be-120">Vous pouvez «encadrer des éléments» pour l’utilisateur s’ils finissent à un trop grand angle.</span><span class="sxs-lookup"><span data-stu-id="703be-120">You can "billboard items" toward the user if they end up at too much of an angle.</span></span>

## <a name="what-influences-spatial-mapping-quality"></a><span data-ttu-id="703be-121">Qu’est-ce qui influence la qualité du mappage spatial?</span><span class="sxs-lookup"><span data-stu-id="703be-121">What influences spatial mapping quality?</span></span>

<span data-ttu-id="703be-122">Plusieurs facteurs, détaillés [ici](environment-considerations-for-hololens.md), peuvent affecter la fréquence et la gravité de ces erreurs.</span><span class="sxs-lookup"><span data-stu-id="703be-122">Several factors, detailed [here](environment-considerations-for-hololens.md), can affect the frequency and severity of these errors.</span></span>  <span data-ttu-id="703be-123">Toutefois, vous devez concevoir votre application afin que l’utilisateur puisse atteindre ses objectifs même en présence d’erreurs dans les données de mappage spatiale.</span><span class="sxs-lookup"><span data-stu-id="703be-123">However, you should design your application so that the user is able to achieve their goals even in the presence of errors in the spatial mapping data.</span></span>

## <a name="the-environment-scanning-experience"></a><span data-ttu-id="703be-124">Expérience d’analyse de l’environnement</span><span class="sxs-lookup"><span data-stu-id="703be-124">The environment scanning experience</span></span>

<span data-ttu-id="703be-125">Chaque application qui utilise le mappage spatial doit envisager de fournir une «expérience d’analyse»; processus par lequel l’application guide l’utilisateur pour analyser les surfaces nécessaires au bon fonctionnement de l’application.</span><span class="sxs-lookup"><span data-stu-id="703be-125">Each application that uses spatial mapping should consider providing a 'scanning experience'; the process through which the application guides the user to scan surfaces that are necessary for the application to function correctly.</span></span>

<span data-ttu-id="703be-126">![Exemple d’analyse](images/sr-mixedworld-140429-8pm-00068-1000px.png)</span><span class="sxs-lookup"><span data-stu-id="703be-126">![Example of scanning](images/sr-mixedworld-140429-8pm-00068-1000px.png)</span></span><br>
<span data-ttu-id="703be-127">*Exemple d’analyse*</span><span class="sxs-lookup"><span data-stu-id="703be-127">*Example of scanning*</span></span>

<span data-ttu-id="703be-128">La nature de cette expérience d’analyse peut varier considérablement en fonction des besoins de chaque application, mais deux principes principaux doivent guider sa conception.</span><span class="sxs-lookup"><span data-stu-id="703be-128">The nature of this scanning experience can vary greatly depending upon each application's needs, but two main principles should guide its design.</span></span>

<span data-ttu-id="703be-129">Tout d’abord, une **communication claire avec l’utilisateur est la préoccupation principale**.</span><span class="sxs-lookup"><span data-stu-id="703be-129">Firstly, **clear communication with the user is the primary concern**.</span></span> <span data-ttu-id="703be-130">L’utilisateur doit toujours savoir si les exigences de l’application sont respectées.</span><span class="sxs-lookup"><span data-stu-id="703be-130">The user should always be aware of whether the application's requirements are being met.</span></span> <span data-ttu-id="703be-131">Lorsqu’ils ne sont pas satisfaits, l’utilisateur doit immédiatement savoir pourquoi c’est le cas et il doit être rapidement dirigé pour prendre les mesures appropriées.</span><span class="sxs-lookup"><span data-stu-id="703be-131">When they are not being met, it should be immediately clear to the user why this is so and they should be quickly led to take the appropriate action.</span></span>

<span data-ttu-id="703be-132">Deuxièmement, **les applications doivent tenter d’équilibrer l’efficacité et la fiabilité**.</span><span class="sxs-lookup"><span data-stu-id="703be-132">Secondly, **applications should attempt to strike a balance between efficiency and reliability**.</span></span> <span data-ttu-id="703be-133">Lorsqu’il est possible de le faire de façon **fiable**, les applications doivent analyser automatiquement les données de mappage spatiale pour économiser le temps utilisateur.</span><span class="sxs-lookup"><span data-stu-id="703be-133">When it is possible to do so **reliably**, applications should automatically analyze spatial mapping data to save the user time.</span></span> <span data-ttu-id="703be-134">Lorsqu’il n’est pas possible de le faire de manière fiable, les applications doivent à la place permettre à l’utilisateur de fournir rapidement à l’application les informations supplémentaires dont il a besoin.</span><span class="sxs-lookup"><span data-stu-id="703be-134">When it is not possible to do so reliably, applications should instead enable the user to quickly provide the application with the additional information it requires.</span></span>

<span data-ttu-id="703be-135">Pour faciliter la conception de l’expérience d’analyse, prenez en compte les possibilités suivantes applicables à votre application:</span><span class="sxs-lookup"><span data-stu-id="703be-135">To help design the right scanning experience, consider which of the following possibilities are applicable to your application:</span></span>

* <span data-ttu-id="703be-136">**Aucune expérience d’analyse**</span><span class="sxs-lookup"><span data-stu-id="703be-136">**No scanning experience**</span></span>
   * <span data-ttu-id="703be-137">Une application peut fonctionner parfaitement sans aucune expérience d’analyse guidée. elle présente des informations sur les surfaces observées au cours du déplacement des utilisateurs naturels.</span><span class="sxs-lookup"><span data-stu-id="703be-137">An application may function perfectly without any guided scanning experience; it will learn about surfaces that are observed in the course of natural user movement.</span></span>
   * <span data-ttu-id="703be-138">Par exemple, une application qui permet à l’utilisateur de dessiner sur des surfaces avec la peinture de pulvérisation holographique ne nécessite que les connaissances des surfaces actuellement visibles pour l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="703be-138">For example an application that lets the user draw on surfaces with holographic spray paint requires knowledge only of the surfaces currently visible to the user.</span></span>
   * <span data-ttu-id="703be-139">L’environnement peut être complètement analysé s’il s’agit d’un environnement dans lequel l’utilisateur a déjà passé beaucoup de temps à l’aide de HoloLens.</span><span class="sxs-lookup"><span data-stu-id="703be-139">The environment may be completely scanned already if it is one in which the user has already spent a lot of time using the HoloLens.</span></span>
   * <span data-ttu-id="703be-140">Gardez à l’esprit que l’appareil photo utilisé par le mappage spatial ne peut voir que 3,1 m devant l’utilisateur; par conséquent, le mappage spatial ne connaîtra pas d’autres surfaces distantes, sauf si l’utilisateur les a observées à partir d’une distance plus proche dans le passé.</span><span class="sxs-lookup"><span data-stu-id="703be-140">Bear in mind however that the camera used by spatial mapping can only see 3.1m in front of the user, so spatial mapping will not know about any more distant surfaces unless the user has observed them from a closer distance in the past.</span></span>
   * <span data-ttu-id="703be-141">L’utilisateur comprend donc les surfaces qui ont été analysées, l’application doit fournir un retour visuel à cet effet. par exemple, le cast d’ombres virtuelles sur des surfaces numérisées peut aider l’utilisateur à placer des hologrammes sur ces surfaces.</span><span class="sxs-lookup"><span data-stu-id="703be-141">So the user understands which surfaces have been scanned, the application should provide visual feedback to this effect, for example casting virtual shadows onto scanned surfaces may help the user place holograms on those surfaces.</span></span>
   * <span data-ttu-id="703be-142">Dans ce cas, les volumes limites de l’observateur de surface spatiale doivent être mis à jour sur chaque cadre pour obtenir un [système de coordonnées spatiales](coordinate-systems.md)verrouillé, afin qu’ils suivent l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="703be-142">For this case, the spatial surface observer's bounding volumes should be updated each frame to a body-locked [spatial coordinate system](coordinate-systems.md), so that they follow the user.</span></span>

* <span data-ttu-id="703be-143">**Trouver un emplacement approprié**</span><span class="sxs-lookup"><span data-stu-id="703be-143">**Find a suitable location**</span></span>
   * <span data-ttu-id="703be-144">Une application peut être conçue pour être utilisée dans un emplacement avec des exigences spécifiques.</span><span class="sxs-lookup"><span data-stu-id="703be-144">An application may be designed for use in a location with specific requirements.</span></span>
   * <span data-ttu-id="703be-145">Par exemple, l’application peut nécessiter une zone vide autour de l’utilisateur afin qu’elle puisse s’assurer en toute sécurité le kung-fou holographique.</span><span class="sxs-lookup"><span data-stu-id="703be-145">For example, the application may require an empty area around the user so they can safely practice holographic kung-fu.</span></span>
   * <span data-ttu-id="703be-146">Les applications doivent communiquer toutes les exigences spécifiques à l’utilisateur au préalable et les renforcer avec des commentaires visuels clairs.</span><span class="sxs-lookup"><span data-stu-id="703be-146">Applications should communicate any specific requirements to the user up-front, and reinforce them with clear visual feedback.</span></span>
   * <span data-ttu-id="703be-147">Dans cet exemple, l’application doit visualiser l’étendue de la zone vide requise et mettre visuellement en évidence la présence d’objets non désirés dans cette zone.</span><span class="sxs-lookup"><span data-stu-id="703be-147">In this example, the application should visualize the extent of the required empty area and visually highlight the presence of any undesired objects within this zone.</span></span>
   * <span data-ttu-id="703be-148">Dans ce cas, les volumes limites de l’observateur de surface spatiale doivent utiliser un système de [coordonnées spatiales](coordinate-systems.md) verrouillé à l’emplacement choisi.</span><span class="sxs-lookup"><span data-stu-id="703be-148">For this case, the spatial surface observer's bounding volumes should use a world-locked [spatial coordinate system](coordinate-systems.md) in the chosen location.</span></span>

* <span data-ttu-id="703be-149">**Rechercher une configuration appropriée des surfaces**</span><span class="sxs-lookup"><span data-stu-id="703be-149">**Find a suitable configuration of surfaces**</span></span>
   * <span data-ttu-id="703be-150">Une application peut nécessiter une configuration spécifique de surfaces, par exemple deux parois larges, plates et opposées pour créer un couloir holographique de miroirs.</span><span class="sxs-lookup"><span data-stu-id="703be-150">An application may require a specific configuration of surfaces, for example two large, flat, opposing walls to create a holographic hall of mirrors.</span></span>
   * <span data-ttu-id="703be-151">Dans ce cas, l’application doit analyser les surfaces fournies par le mappage spatial pour détecter les surfaces appropriées et diriger l’utilisateur vers ces surfaces.</span><span class="sxs-lookup"><span data-stu-id="703be-151">In such cases the application will need to analyze the surfaces provided by spatial mapping to detect suitable surfaces, and direct the user toward them.</span></span>
   * <span data-ttu-id="703be-152">L’utilisateur doit avoir une option de secours si l’analyse des surfaces de l’application n’est pas complètement fiable.</span><span class="sxs-lookup"><span data-stu-id="703be-152">The user should have a fallback option if the application's surface analysis is not completely reliable.</span></span> <span data-ttu-id="703be-153">Par exemple, si l’application identifie de manière incorrecte une porte comme un mur plat, l’utilisateur a besoin d’un moyen simple de corriger cette erreur.</span><span class="sxs-lookup"><span data-stu-id="703be-153">For example, if the application incorrectly identifies a doorway as a flat wall, the user needs a simple way to correct this error.</span></span>

* <span data-ttu-id="703be-154">**Analyser une partie de l’environnement**</span><span class="sxs-lookup"><span data-stu-id="703be-154">**Scan part of the environment**</span></span>
   * <span data-ttu-id="703be-155">Une application peut souhaiter uniquement capturer une partie de l’environnement, comme indiqué par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="703be-155">An application may wish to only capture part of the environment, as directed by the user.</span></span>
   * <span data-ttu-id="703be-156">Par exemple, l’application analyse une partie d’une salle afin que l’utilisateur puisse poster une publicité classée holographique pour le mobilier qu’elle souhaite vendre.</span><span class="sxs-lookup"><span data-stu-id="703be-156">For example, the application scans part of a room so the user may post a holographic classified ad for furniture they wish to sell.</span></span>
   * <span data-ttu-id="703be-157">Dans ce cas, l’application doit capturer les données de mappage spatiale dans les régions observées par l’utilisateur lors de son analyse.</span><span class="sxs-lookup"><span data-stu-id="703be-157">In this case, the application should capture spatial mapping data within the regions observed by the user during their scan.</span></span>

* <span data-ttu-id="703be-158">**Analyser la totalité de la salle**</span><span class="sxs-lookup"><span data-stu-id="703be-158">**Scan the whole room**</span></span>
   * <span data-ttu-id="703be-159">Une application peut nécessiter une analyse de toutes les surfaces dans la salle actuelle, y compris celles qui se trouvent derrière l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="703be-159">An application may require a scan of all of the surfaces in the current room, including those behind the user.</span></span>
   * <span data-ttu-id="703be-160">Par exemple, un jeu peut mettre l’utilisateur dans le rôle de Gulliver, sous siege à partir de centaines de petites Lilliputians approchant de toutes les directions.</span><span class="sxs-lookup"><span data-stu-id="703be-160">For example, a game may put the user in the role of Gulliver, under siege from hundreds of tiny Lilliputians approaching from all directions.</span></span>
   * <span data-ttu-id="703be-161">Dans ce cas, l’application doit déterminer le nombre de surfaces de la salle active qui ont déjà été analysées et diriger le point de regard de l’utilisateur pour combler les lacunes significatives.</span><span class="sxs-lookup"><span data-stu-id="703be-161">In such cases, the application will need to determine how many of the surfaces in the current room have already been scanned, and direct the user's gaze to fill in significant gaps.</span></span>
   * <span data-ttu-id="703be-162">La clé de ce processus consiste à fournir des commentaires visuels qui démontrent à l’utilisateur que les surfaces n’ont pas encore été analysées.</span><span class="sxs-lookup"><span data-stu-id="703be-162">The key to this process is providing visual feedback that makes it clear to the user which surfaces have not yet been scanned.</span></span> <span data-ttu-id="703be-163">L’application peut, par exemple, utiliser [un brouillard basé](https://msdn.microsoft.com/library/windows/desktop/bb173401%28v=vs.85%29.aspx) sur la distance pour mettre visuellement en surbrillance des zones qui ne sont pas couvertes par des surfaces de mappage spatiale.</span><span class="sxs-lookup"><span data-stu-id="703be-163">The application could for example use [distance-based fog](https://msdn.microsoft.com/library/windows/desktop/bb173401%28v=vs.85%29.aspx) to visually highlight regions that are not covered by spatial mapping surfaces.</span></span>

* <span data-ttu-id="703be-164">**Prendre un instantané initial de l’environnement**</span><span class="sxs-lookup"><span data-stu-id="703be-164">**Take an initial snapshot of the environment**</span></span>
   * <span data-ttu-id="703be-165">Une application peut souhaiter ignorer toutes les modifications apportées à l’environnement après avoir effectué un «instantané» initial.</span><span class="sxs-lookup"><span data-stu-id="703be-165">An application may wish to ignore all changes in the environment after taking an initial 'snapshot'.</span></span>
   * <span data-ttu-id="703be-166">Cela peut être utile pour éviter toute interruption des données créées par l’utilisateur qui est étroitement couplée à l’état initial de l’environnement.</span><span class="sxs-lookup"><span data-stu-id="703be-166">This may be appropriate to avoid disruption of user-created data that is tightly coupled to the initial state of the environment.</span></span>
   * <span data-ttu-id="703be-167">Dans ce cas, l’application doit faire une copie des données de mappage spatiale dans son état initial une fois l’analyse terminée.</span><span class="sxs-lookup"><span data-stu-id="703be-167">In this case, the application should make a copy of the spatial mapping data in its initial state once the scan is complete.</span></span>
   * <span data-ttu-id="703be-168">Les applications doivent continuer à recevoir des mises à jour des données de mappage spatiale si les hologrammes continuent d’être correctement bloquéss par l’environnement.</span><span class="sxs-lookup"><span data-stu-id="703be-168">Applications should continue receiving updates to spatial mapping data if holograms are still to be correctly occluded by the environment.</span></span>
   * <span data-ttu-id="703be-169">Les mises à jour continues des données de mappage spatiale permettent également de visualiser les modifications qui se sont produites, en clarifiant l’utilisateur les différences entre les États antérieur et présent de l’environnement.</span><span class="sxs-lookup"><span data-stu-id="703be-169">Continued updates to spatial mapping data also allow visualizing any changes that have occurred, clarifying to the user the differences between prior and present states of the environment.</span></span>

* <span data-ttu-id="703be-170">**Prendre des instantanés initiés par l’utilisateur de l’environnement**</span><span class="sxs-lookup"><span data-stu-id="703be-170">**Take user-initiated snapshots of the environment**</span></span>
   * <span data-ttu-id="703be-171">Une application ne souhaite peut-être répondre aux modifications environnementales que lorsqu’il est demandé par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="703be-171">An application may only wish to respond to environmental changes when instructed by the user.</span></span>
   * <span data-ttu-id="703be-172">Par exemple, l’utilisateur peut créer plusieurs «statues» en 3D d’un ami en capturant ses poses à des moments différents.</span><span class="sxs-lookup"><span data-stu-id="703be-172">For example, the user could create multiple 3D 'statues' of a friend by capturing their poses at different moments.</span></span>

* <span data-ttu-id="703be-173">**Autoriser l’utilisateur à modifier l’environnement**</span><span class="sxs-lookup"><span data-stu-id="703be-173">**Allow the user to change the environment**</span></span>
   * <span data-ttu-id="703be-174">Une application peut être conçue pour répondre en temps réel à toute modification apportée à l’environnement de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="703be-174">An application may be designed to respond in real-time to any changes made in the user's environment.</span></span>
   * <span data-ttu-id="703be-175">Par exemple, l’utilisateur qui dessine un rideau peut déclencher une «modification de la scène» pour qu’une lecture holographique se déroule de l’autre côté.</span><span class="sxs-lookup"><span data-stu-id="703be-175">For example, the user drawing a curtain could trigger 'scene change' for a holographic play taking place on the other side.</span></span>

* <span data-ttu-id="703be-176">**Guide de l’utilisateur pour éviter les erreurs dans les données de mappage spatiale**</span><span class="sxs-lookup"><span data-stu-id="703be-176">**Guide the user to avoid errors in the spatial mapping data**</span></span>
   * <span data-ttu-id="703be-177">Une application peut souhaiter fournir des conseils à l’utilisateur pendant qu’il analyse son environnement.</span><span class="sxs-lookup"><span data-stu-id="703be-177">An application may wish to provide guidance to the user while they are scanning their environment.</span></span>
   * <span data-ttu-id="703be-178">Cela peut aider l’utilisateur à éviter certains types d' [Erreurs dans les données de mappage spatiale](spatial-mapping-design.md#what-influences-spatial-mapping-quality), par exemple en restant à l’écart des fenêtres ou miroirs Sunlit.</span><span class="sxs-lookup"><span data-stu-id="703be-178">This can help the user to avoid certain kinds of [errors in the spatial mapping data](spatial-mapping-design.md#what-influences-spatial-mapping-quality), for example by staying away from sunlit windows or mirrors.</span></span>

<span data-ttu-id="703be-179">L’un des détails supplémentaires à prendre en compte est que la «plage» de données de mappage spatiale n’est pas illimitée.</span><span class="sxs-lookup"><span data-stu-id="703be-179">One additional detail to be aware of is that the 'range' of spatial mapping data is not unlimited.</span></span> <span data-ttu-id="703be-180">Tandis que le mappage spatial crée une base de données permanente d’espaces de grande taille, il ne rend ces données disponibles qu’aux applications dont la taille est limitée à l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="703be-180">Whilst spatial mapping does build a permanent database of large spaces, it only makes that data available to applications in a 'bubble' of limited size around the user.</span></span> <span data-ttu-id="703be-181">Par conséquent, si vous commencez au début d’un couloir long et que vous vous éloignez suffisamment du début, les surfaces spatiales finissent par disparaître.</span><span class="sxs-lookup"><span data-stu-id="703be-181">Thus if you start at the beginning of a long corridor and walk far enough away from the start, then eventually the spatial surfaces back at the beginning will disappear.</span></span> <span data-ttu-id="703be-182">Vous pouvez bien sûr atténuer cela en mettant en cache ces surfaces dans votre application une fois qu’elles ont disparu des données de mappage spatiale disponibles.</span><span class="sxs-lookup"><span data-stu-id="703be-182">You can of course mitigate this by caching those surfaces in your application after they have disappeared from the available spatial mapping data.</span></span>

## <a name="mesh-processing"></a><span data-ttu-id="703be-183">Traitement de maillage</span><span class="sxs-lookup"><span data-stu-id="703be-183">Mesh processing</span></span>

<span data-ttu-id="703be-184">Il peut être utile de détecter les types courants d’erreurs dans les surfaces et de filtrer, supprimer ou modifier les données de mappage spatiale comme il convient.</span><span class="sxs-lookup"><span data-stu-id="703be-184">It may help to detect common types of errors in surfaces and to filter, remove or modify the spatial mapping data as appropriate.</span></span>

<span data-ttu-id="703be-185">Gardez à l’esprit que les données de mappage spatiale sont destinées à être aussi fidèles que possible pour les surfaces réelles, de sorte que tout traitement que vous appliquez risque de faire passer vos surfaces plus loin de la «vérité».</span><span class="sxs-lookup"><span data-stu-id="703be-185">Bear in mind that spatial mapping data is intended to be as faithful as possible to real-world surfaces, so any processing you apply risks shifting your surfaces further from the 'truth'.</span></span>

<span data-ttu-id="703be-186">Voici quelques exemples de différents types de traitement de maillage qui peuvent s’avérer utiles:</span><span class="sxs-lookup"><span data-stu-id="703be-186">Here are some examples of different types of mesh processing that you may find useful:</span></span>

* <span data-ttu-id="703be-187">**Remplissage de trous**</span><span class="sxs-lookup"><span data-stu-id="703be-187">**Hole filling**</span></span>
   * <span data-ttu-id="703be-188">Si un petit objet constitué d’un matériau sombre ne parvient pas à être analysé, il laisse un trou dans la surface environnante.</span><span class="sxs-lookup"><span data-stu-id="703be-188">If a small object made of a dark material fails to scan, it will leave a hole in the surrounding surface.</span></span>
   * <span data-ttu-id="703be-189">Les trous affectent l’occlusion: les hologrammes peuvent être vus «jusqu’à» un trou dans une surface réaliste opaque.</span><span class="sxs-lookup"><span data-stu-id="703be-189">Holes affect occlusion: holograms can be seen 'through' a hole in a supposedly opaque real-world surface.</span></span>
   * <span data-ttu-id="703be-190">Les trous affectent raycasts: Si vous utilisez raycasts pour aider les utilisateurs à interagir avec les surfaces, il peut être indésirable que ces rayons passent par des trous.</span><span class="sxs-lookup"><span data-stu-id="703be-190">Holes affect raycasts: if you are using raycasts to help users interact with surfaces, it may be undesirable for these rays to pass through holes.</span></span> <span data-ttu-id="703be-191">Une solution de contournement consiste à utiliser un groupe de plusieurs raycasts couvrant une région de taille appropriée.</span><span class="sxs-lookup"><span data-stu-id="703be-191">One mitigation is to use a bundle of multiple raycasts covering an appropriately sized region.</span></span> <span data-ttu-id="703be-192">Cela vous permettra de filtrer les résultats «aberrants», de sorte que même si un raycast traverse un petit trou, le résultat de l’agrégat restera valide.</span><span class="sxs-lookup"><span data-stu-id="703be-192">This will allow you to filter 'outlier' results, so that even if one raycast passes through a small hole, the aggregate result will still be valid.</span></span> <span data-ttu-id="703be-193">Toutefois, gardez à l’esprit que cette approche est un coût de calcul.</span><span class="sxs-lookup"><span data-stu-id="703be-193">However, be aware that this approach comes at a computational cost.</span></span>
   * <span data-ttu-id="703be-194">Les trous affectent les collisions physiques: un objet contrôlé par la simulation physique peut déplacer un trou à l’étage et être perdu.</span><span class="sxs-lookup"><span data-stu-id="703be-194">Holes affect physics collisions: an object controlled by physics simulation may drop through a hole in the floor and become lost.</span></span>
   * <span data-ttu-id="703be-195">Il est possible d’effectuer un remplissage algorithmique de ces trous dans le maillage des surfaces.</span><span class="sxs-lookup"><span data-stu-id="703be-195">It is possible to algorithmically fill such holes in the surface mesh.</span></span> <span data-ttu-id="703be-196">Toutefois, vous devrez régler votre algorithme pour que les «véritables trous», tels que les fenêtres et les portes, ne soient pas remplis.</span><span class="sxs-lookup"><span data-stu-id="703be-196">However, you will need to tune your algorithm so that 'real holes' such as windows and doorways do not get filled in.</span></span> <span data-ttu-id="703be-197">Il peut être difficile de distinguer de manière fiable les «véritables trous» de «trous imaginaires». vous devrez donc faire des essais avec différents heuristiques, tels que «taille» et «forme limite».</span><span class="sxs-lookup"><span data-stu-id="703be-197">It can be difficult to reliably differentiate 'real holes' from 'imaginary holes', so you will need to experiment with different heuristics such as 'size' and 'boundary shape'.</span></span>

* <span data-ttu-id="703be-198">**Suppression de hallucination**</span><span class="sxs-lookup"><span data-stu-id="703be-198">**Hallucination removal**</span></span>
   * <span data-ttu-id="703be-199">Les réflexions, les lumières brillantes et les objets mobiles peuvent rendre le petit «hallucinations» en attente flottant dans le milieu de l’air.</span><span class="sxs-lookup"><span data-stu-id="703be-199">Reflections, bright lights and moving objects can leave small lingering 'hallucinations' floating in mid-air.</span></span>
   * <span data-ttu-id="703be-200">Hallucinations affecte l’occlusion: les hallucinations peuvent devenir visibles en tant que formes sombres se déplaçant devant et obturant d’autres hologrammes.</span><span class="sxs-lookup"><span data-stu-id="703be-200">Hallucinations affect occlusion: hallucinations may become visible as dark shapes moving in front of and occluding other holograms.</span></span>
   * <span data-ttu-id="703be-201">Hallucinations affecte raycasts: Si vous utilisez raycasts pour aider les utilisateurs à interagir avec les surfaces, ces rayons peuvent toucher un hallucination au lieu de la surface derrière.</span><span class="sxs-lookup"><span data-stu-id="703be-201">Hallucinations affect raycasts: if you are using raycasts to help users interact with surfaces, these rays could hit a hallucination instead of the surface behind it.</span></span> <span data-ttu-id="703be-202">Comme avec les trous, une atténuation consiste à utiliser un grand nombre de raycasts au lieu d’un raycast unique, mais à nouveau cela aura un coût de calcul.</span><span class="sxs-lookup"><span data-stu-id="703be-202">As with holes, one mitigation is to use many raycasts instead of a single raycast, but again this will come at a computational cost.</span></span>
   * <span data-ttu-id="703be-203">Les hallucinations affectent les collisions physiques: un objet contrôlé par la simulation physique peut être bloqué contre un hallucination et ne peut pas se déplacer dans une zone d’espace apparemment claire.</span><span class="sxs-lookup"><span data-stu-id="703be-203">Hallucinations affect physics collisions: an object controlled by physics simulation may become stuck against a hallucination and be unable to move through a seemingly clear area of space.</span></span>
   * <span data-ttu-id="703be-204">Il est possible de filtrer ce hallucinations à partir de la maille de surface.</span><span class="sxs-lookup"><span data-stu-id="703be-204">It is possible to filter such hallucinations from the surface mesh.</span></span> <span data-ttu-id="703be-205">Toutefois, comme pour les trous, vous devez régler votre algorithme pour que les petits objets tels que les poignées de la porte et les béquilles ne soient pas supprimés.</span><span class="sxs-lookup"><span data-stu-id="703be-205">However, as with holes, you will need to tune your algorithm so that real small objects such as lamp-stands and door handles do not get removed.</span></span>

* <span data-ttu-id="703be-206">**Lissage**</span><span class="sxs-lookup"><span data-stu-id="703be-206">**Smoothing**</span></span>
   * <span data-ttu-id="703be-207">Le mappage spatial peut retourner des surfaces qui semblent être rugueuses ou bruyantes par rapport à leurs équivalents réels.</span><span class="sxs-lookup"><span data-stu-id="703be-207">Spatial mapping may return surfaces that appear to be rough or 'noisy' in comparison to their real-world counterparts.</span></span>
   * <span data-ttu-id="703be-208">Le lissage affecte les collisions physiques: si le plancher est grossier, une boule de golf simulée physiquement peut ne pas s’effectuer correctement sur une ligne droite.</span><span class="sxs-lookup"><span data-stu-id="703be-208">Smoothness affects physics collisions: if the floor is rough, a physically simulated golf ball may not roll smoothly across it in a straight line.</span></span>
   * <span data-ttu-id="703be-209">Le lissage affecte le rendu: si une surface est visualisée directement, les normales des surfaces approximatives peuvent avoir une incidence sur l’apparence et perturber l’apparence d’un «nettoyage».</span><span class="sxs-lookup"><span data-stu-id="703be-209">Smoothness affects rendering: if a surface is visualized directly, rough surface normals can affect its appearance and disrupt a 'clean' look.</span></span> <span data-ttu-id="703be-210">Il est possible de réduire cela en utilisant l’éclairage et les textures appropriés dans le nuanceur qui est utilisé pour afficher l’aire.</span><span class="sxs-lookup"><span data-stu-id="703be-210">It is possible to mitigate this by using appropriate lighting and textures in the shader that is used to render the surface.</span></span>
   * <span data-ttu-id="703be-211">Il est possible de lisser l’irrégularité dans un maillage de surface.</span><span class="sxs-lookup"><span data-stu-id="703be-211">It is possible to smooth out roughness in a surface mesh.</span></span> <span data-ttu-id="703be-212">Toutefois, cela peut éloigner la surface de la surface réelle correspondante.</span><span class="sxs-lookup"><span data-stu-id="703be-212">However, this may push the surface further away from the corresponding real-world surface.</span></span> <span data-ttu-id="703be-213">Il est important de maintenir une correspondance étroite pour produire une occlusion d’hologramme précise et permettre aux utilisateurs d’effectuer des interactions précises et prévisibles avec des surfaces holographiques.</span><span class="sxs-lookup"><span data-stu-id="703be-213">Maintaining a close correspondence is important to produce accurate hologram occlusion, and to enable users to achieve precise and predictable interactions with holographic surfaces.</span></span>
   * <span data-ttu-id="703be-214">Si seule une modification cosmétique est nécessaire, elle peut suffire à lisser les normales des sommets sans modifier les positions des sommets.</span><span class="sxs-lookup"><span data-stu-id="703be-214">If only a cosmetic change is required, it may be sufficient to smooth vertex normals without changing vertex positions.</span></span>

* <span data-ttu-id="703be-215">**Recherche de plan**</span><span class="sxs-lookup"><span data-stu-id="703be-215">**Plane finding**</span></span>
   * <span data-ttu-id="703be-216">Il existe de nombreuses formes d’analyse qu’une application peut souhaiter effectuer sur les surfaces fournies par le mappage spatial.</span><span class="sxs-lookup"><span data-stu-id="703be-216">There are many forms of analysis that an application may wish to perform on the surfaces provided by spatial mapping.</span></span>
   * <span data-ttu-id="703be-217">Un exemple simple consiste à «rechercher dans le plan». identification des régions délimitées, principalement planaires des surfaces.</span><span class="sxs-lookup"><span data-stu-id="703be-217">One simple example is 'plane finding'; identifying bounded, mostly-planar regions of surfaces.</span></span>
   * <span data-ttu-id="703be-218">Les régions planaires peuvent être utilisées comme des surfaces de travail holographiques, des régions où le contenu holographique peut être automatiquement placé par l’application.</span><span class="sxs-lookup"><span data-stu-id="703be-218">Planar regions can be used as holographic work-surfaces, regions where holographic content can be automatically placed by the application.</span></span>
   * <span data-ttu-id="703be-219">Les régions planaires peuvent contraindre l’interface utilisateur, afin de guider les utilisateurs afin qu’ils puissent interagir avec les surfaces qui répondent le mieux à leurs besoins.</span><span class="sxs-lookup"><span data-stu-id="703be-219">Planar regions can constrain the user interface, to guide users to interact with the surfaces that best suit their needs.</span></span>
   * <span data-ttu-id="703be-220">Les régions planaires peuvent être utilisées comme dans le monde réel, pour les équivalents holographiques aux objets fonctionnels, tels que les écrans LCD, les tables ou les tableaux blancs.</span><span class="sxs-lookup"><span data-stu-id="703be-220">Planar regions can be used as in the real world, for holographic counterparts to functional objects such as LCD screens, tables or whiteboards.</span></span>
   * <span data-ttu-id="703be-221">Les régions planaires peuvent définir des zones de lecture, formant ainsi la base des niveaux Videogame.</span><span class="sxs-lookup"><span data-stu-id="703be-221">Planar regions can define play areas, forming the basis of videogame levels.</span></span>
   * <span data-ttu-id="703be-222">Les régions planaires peuvent aider les agents virtuels à naviguer dans le monde réel, en identifiant les zones d’étage que les gens sont susceptibles de parcourir.</span><span class="sxs-lookup"><span data-stu-id="703be-222">Planar regions can aid virtual agents to navigate the real world, by identifying the areas of floor that real people are likely to walk on.</span></span>

## <a name="prototyping-and-debugging"></a><span data-ttu-id="703be-223">Prototypage et débogage</span><span class="sxs-lookup"><span data-stu-id="703be-223">Prototyping and debugging</span></span>

### <a name="useful-tools"></a><span data-ttu-id="703be-224">Outils utiles</span><span class="sxs-lookup"><span data-stu-id="703be-224">Useful tools</span></span>
* <span data-ttu-id="703be-225">L' [émulateur hololens](using-the-hololens-emulator.md) peut être utilisé pour développer des applications à l’aide du mappage spatial sans accès à un HoloLens physique.</span><span class="sxs-lookup"><span data-stu-id="703be-225">The [HoloLens emulator](using-the-hololens-emulator.md) can be used to develop applications using spatial mapping without access to a physical HoloLens.</span></span> <span data-ttu-id="703be-226">Elle vous permet de simuler une session active sur un HoloLens dans un environnement réaliste, avec toutes les données que votre application consomme normalement, y compris le mouvement HoloLens, les systèmes de coordonnées spatiales et les maillages de mappage spatial.</span><span class="sxs-lookup"><span data-stu-id="703be-226">It allows you to simulate a live session on a HoloLens in a realistic environment, with all of the data your application would normally consume, including HoloLens motion, spatial coordinate systems and spatial mapping meshes.</span></span> <span data-ttu-id="703be-227">Cela peut être utilisé pour fournir des entrées fiables et reproductibles, ce qui peut être utile pour déboguer des problèmes et évaluer des modifications apportées à votre code.</span><span class="sxs-lookup"><span data-stu-id="703be-227">This can be used to provide reliable, repeatable input, which can be useful for debugging problems and evaluating changes to your code.</span></span>
* <span data-ttu-id="703be-228">Pour reproduire un scénario, capturez les données de mappage spatiale sur le réseau à partir d’un HoloLens actif, puis enregistrez-les sur le disque et réutilisez-les dans les sessions de débogage suivantes.</span><span class="sxs-lookup"><span data-stu-id="703be-228">To reproduce a scenarios, capture spatial mapping data over the network from a live HoloLens, then save it to disk and reuse it in subsequent debugging sessions.</span></span>
* <span data-ttu-id="703be-229">La [vue 3D du portail d’appareils Windows](using-the-windows-device-portal.md#3d-view) fournit un moyen de voir toutes les surfaces spatiales actuellement disponibles via le système de mappage spatial.</span><span class="sxs-lookup"><span data-stu-id="703be-229">The [Windows device portal 3D view](using-the-windows-device-portal.md#3d-view) provides a way to see all of the spatial surfaces currently available via the spatial mapping system.</span></span> <span data-ttu-id="703be-230">Cela fournit une base de comparaison pour les surfaces spatiales à l’intérieur de votre application. par exemple, vous pouvez facilement savoir si des surfaces spatiales sont manquantes ou affichées au mauvais endroit.</span><span class="sxs-lookup"><span data-stu-id="703be-230">This provides a basis of comparison for the spatial surfaces inside your application; for example you can easily tell if any spatial surfaces are missing or are being displayed in the wrong place.</span></span>

### <a name="general-prototyping-guidance"></a><span data-ttu-id="703be-231">Conseils généraux sur le prototypage</span><span class="sxs-lookup"><span data-stu-id="703be-231">General prototyping guidance</span></span>
* <span data-ttu-id="703be-232">Étant donné que les [Erreurs](spatial-mapping-design.md#what-influences-spatial-mapping-quality) dans les données de mappage spatiale peuvent affecter fortement l’expérience de votre utilisateur, nous vous recommandons de tester votre application dans un large éventail d’environnements.</span><span class="sxs-lookup"><span data-stu-id="703be-232">Because [errors](spatial-mapping-design.md#what-influences-spatial-mapping-quality) in the spatial mapping data may strongly affect your user's experience, we recommend that you test your application in a wide variety of environments.</span></span>
* <span data-ttu-id="703be-233">Ne vous retrouvez pas à l’habitude de toujours tester dans le même emplacement, par exemple au niveau de votre bureau.</span><span class="sxs-lookup"><span data-stu-id="703be-233">Don't get trapped in the habit of always testing in the same location, for example at your desk.</span></span> <span data-ttu-id="703be-234">Veillez à effectuer des tests sur différentes surfaces de différentes positions, formes, tailles et matériaux.</span><span class="sxs-lookup"><span data-stu-id="703be-234">Make sure to test on various surfaces of different positions, shapes, sizes and materials.</span></span>
* <span data-ttu-id="703be-235">De même, si les données synthétiques ou enregistrées peuvent être utiles pour le débogage, ne vous inquiétez pas trop sur les mêmes cas de test.</span><span class="sxs-lookup"><span data-stu-id="703be-235">Similarly, while synthetic or recorded data can be useful for debugging, don't become too reliant upon the same few test cases.</span></span> <span data-ttu-id="703be-236">Cela peut retarder la recherche de problèmes importants que des tests plus variés auraient été détectés précédemment.</span><span class="sxs-lookup"><span data-stu-id="703be-236">This may delay finding important issues that more varied testing would have caught earlier.</span></span>
* <span data-ttu-id="703be-237">Il est judicieux d’effectuer des tests avec des utilisateurs réels (et idéalement non-surveillés), car ils ne peuvent pas utiliser le HoloLens ou votre application exactement de la même façon que vous le faites.</span><span class="sxs-lookup"><span data-stu-id="703be-237">It is a good idea to perform testing with real (and ideally un-coached) users, because they may not use the HoloLens or your application in exactly the same way that you do.</span></span> <span data-ttu-id="703be-238">En fait, il peut être surpris de savoir comment le comportement, les connaissances et les hypothèses de personnes divergentes peuvent être!</span><span class="sxs-lookup"><span data-stu-id="703be-238">In fact, it may surprise you how divergent people's behavior, knowledge and assumptions can be!</span></span>

## <a name="see-also"></a><span data-ttu-id="703be-239">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="703be-239">See also</span></span>
* [<span data-ttu-id="703be-240">Visualisation du balayage d’une pièce</span><span class="sxs-lookup"><span data-stu-id="703be-240">Room scan visualization</span></span>](room-scan-visualization.md)
* [<span data-ttu-id="703be-241">Conception du son spatial</span><span class="sxs-lookup"><span data-stu-id="703be-241">Spatial sound design</span></span>](spatial-sound-design.md)
* [<span data-ttu-id="703be-242">Persistance dans Unity</span><span class="sxs-lookup"><span data-stu-id="703be-242">Persistence in Unity</span></span>](persistence-in-unity.md)
