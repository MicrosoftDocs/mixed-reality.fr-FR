---
title: Guides en matière de portage
description: Un Walthrough étape par étape explique comment porter une application immersive existante vers Windows Mixed Reality.
author: chimerascorn
ms.author: alexturn
ms.date: 10/02/2018
ms.topic: article
keywords: port, Portage, Unity, intergiciel, moteur, UWP
ms.openlocfilehash: 06501742d4b5c30036982deef2ec2a88171912bf
ms.sourcegitcommit: d6ac8f1f545fe20cf1e36b83c0e7998b82fd02f8
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/14/2020
ms.locfileid: "81278037"
---
# <a name="porting-guides"></a><span data-ttu-id="cf41f-104">Guides en matière de portage</span><span class="sxs-lookup"><span data-stu-id="cf41f-104">Porting guides</span></span>

<span data-ttu-id="cf41f-105">Windows 10 prend en charge directement les casques immersifs et holographiques.</span><span class="sxs-lookup"><span data-stu-id="cf41f-105">Windows 10 includes support for immersive and holographic headsets directly.</span></span> <span data-ttu-id="cf41f-106">Si vous avez créé du contenu pour un autre appareil tel que le rift Oculus ou le HTC, ceux-ci ont des dépendances vis-à-vis des bibliothèques qui se trouvent au-dessus de l’API de plateforme du système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="cf41f-106">If you have built content for another device such as the Oculus Rift or HTC Vive, these have dependencies on libraries that exist above the operating system's platform API.</span></span> <span data-ttu-id="cf41f-107">L’intégration du contenu existant à Windows Mixed Reality implique le reciblage de l’utilisation de ces autres kits SDK sur les API Windows.</span><span class="sxs-lookup"><span data-stu-id="cf41f-107">Bringing existing content over to Windows Mixed Reality involves retargeting usage of these other SDKs to the Windows APIs.</span></span> <span data-ttu-id="cf41f-108">Les [API de la plate-forme Windows pour la réalité mixte](https://docs.microsoft.com/uwp/api/Windows.Perception) fonctionnent uniquement dans le modèle d’application plateforme Windows universelle (UWP).</span><span class="sxs-lookup"><span data-stu-id="cf41f-108">The [Windows platform APIs for mixed reality](https://docs.microsoft.com/uwp/api/Windows.Perception) only work in the Universal Windows Platform (UWP) app model.</span></span> <span data-ttu-id="cf41f-109">Par conséquent, si votre application n’est pas déjà conçue pour UWP, le portage vers UWP fera partie de l’expérience de Portage.</span><span class="sxs-lookup"><span data-stu-id="cf41f-109">So if your app is not already built for UWP, porting to UWP will be part of the porting experience.</span></span>

## <a name="porting-overview"></a><span data-ttu-id="cf41f-110">Vue d’ensemble du Portage</span><span class="sxs-lookup"><span data-stu-id="cf41f-110">Porting overview</span></span>

<span data-ttu-id="cf41f-111">À un niveau élevé, il s’agit des étapes impliquées dans le portage du contenu existant :</span><span class="sxs-lookup"><span data-stu-id="cf41f-111">At a high-level, these are the steps involved in porting existing content:</span></span>
1. <span data-ttu-id="cf41f-112">**Assurez-vous que votre ordinateur exécute la mise à jour des créateurs de automne Windows 10 (16299).**</span><span class="sxs-lookup"><span data-stu-id="cf41f-112">**Make sure your PC is running the Windows 10 Fall Creators Update (16299).**</span></span> <span data-ttu-id="cf41f-113">Nous vous déconseillons de recevoir des builds préliminaires à partir de la sonnerie d’inversion anticipée, car ces builds ne sont pas les plus stables pour le développement de la réalité mixte.</span><span class="sxs-lookup"><span data-stu-id="cf41f-113">We no longer recommend receiving preview builds from the Insider Skip Ahead ring, as those builds won't be the most stable for mixed reality development.</span></span>
2. <span data-ttu-id="cf41f-114">**Effectuez une mise à niveau vers la dernière version de votre graphique ou de votre moteur de jeux.**</span><span class="sxs-lookup"><span data-stu-id="cf41f-114">**Upgrade to the latest version of your graphics or game engine.**</span></span> <span data-ttu-id="cf41f-115">Les moteurs de jeu doivent prendre en charge la version 10.0.15063.0 du kit de développement logiciel (SDK) Windows 10 (publiée en avril 2017) ou une version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="cf41f-115">Game engines will need to support the Windows 10 SDK version 10.0.15063.0 (released in April 2017) or higher.</span></span>
3. <span data-ttu-id="cf41f-116">**Mettez à niveau les intergiciel, les plug-ins ou les composants.**</span><span class="sxs-lookup"><span data-stu-id="cf41f-116">**Upgrade any middleware, plug-ins or components.**</span></span> <span data-ttu-id="cf41f-117">Si votre application contient des composants, il est judicieux de procéder à une mise à niveau vers la dernière version.</span><span class="sxs-lookup"><span data-stu-id="cf41f-117">If your app contains any components, it's a good idea to upgrade to the latest version.</span></span> <span data-ttu-id="cf41f-118">Les versions plus récentes des plug-ins les plus courants prennent en charge UWP.</span><span class="sxs-lookup"><span data-stu-id="cf41f-118">Newer versions of most common plug-ins have support for UWP.</span></span>
4. <span data-ttu-id="cf41f-119">**Supprimer les dépendances sur les kits de développement logiciel en double**.</span><span class="sxs-lookup"><span data-stu-id="cf41f-119">**Remove dependencies on duplicate SDKs**.</span></span> <span data-ttu-id="cf41f-120">En fonction de l’appareil ciblé par votre contenu, vous devez supprimer ou compiler de façon conditionnelle ce kit de développement logiciel (par exemple, SteamVR) afin de pouvoir cibler les API Windows à la place.</span><span class="sxs-lookup"><span data-stu-id="cf41f-120">Depending on which device your content was targeting, you'll need to remove or conditionally compile out that SDK (e.g. SteamVR) so you can target the Windows APIs instead.</span></span>
5. <span data-ttu-id="cf41f-121">**Résoudre les problèmes de génération.**</span><span class="sxs-lookup"><span data-stu-id="cf41f-121">**Work through build issues.**</span></span> <span data-ttu-id="cf41f-122">À ce stade, l’exercice de Portage est spécifique à votre application, à votre moteur et aux dépendances de composants dont vous disposez.</span><span class="sxs-lookup"><span data-stu-id="cf41f-122">At this point, the porting exercise is specific to your app, your engine, and the component dependencies you have.</span></span>

## <a name="common-porting-steps"></a><span data-ttu-id="cf41f-123">Étapes de Portage courantes</span><span class="sxs-lookup"><span data-stu-id="cf41f-123">Common porting steps</span></span>

### <a name="common-step-1-make-sure-you-have-the-right-development-hardware"></a><span data-ttu-id="cf41f-124">Étape courante 1 : Assurez-vous d’avoir le bon matériel de développement</span><span class="sxs-lookup"><span data-stu-id="cf41f-124">Common step 1: Make sure you have the right development hardware</span></span>

<span data-ttu-id="cf41f-125">La page [installer les outils](install-the-tools.md#for-immersive-vr-headset-development) répertorie le matériel de développement recommandé.</span><span class="sxs-lookup"><span data-stu-id="cf41f-125">The [install the tools](install-the-tools.md#for-immersive-vr-headset-development) page lists the recommended development hardware.</span></span>

### <a name="common-step-2-upgrade-to-the-latest-flight-of-windows-10"></a><span data-ttu-id="cf41f-126">Étape 2 courante : mettre à niveau vers le dernier vol de Windows 10</span><span class="sxs-lookup"><span data-stu-id="cf41f-126">Common step 2: Upgrade to the latest flight of Windows 10</span></span>

<span data-ttu-id="cf41f-127">La plateforme Windows Mixed Reality est toujours en cours de développement actif et pour être la plus efficace, nous vous recommandons d’utiliser le vol « Windows Insider Fast ».</span><span class="sxs-lookup"><span data-stu-id="cf41f-127">The Windows Mixed Reality platform is still under active development, and to be most effective, we recommend being on the "Windows Insider Fast" flight.</span></span> <span data-ttu-id="cf41f-128">Pour pouvoir accéder aux vols Windows, vous devez [rejoindre le programme Windows Insider](https://insider.windows.com/).</span><span class="sxs-lookup"><span data-stu-id="cf41f-128">In order to have access to windows flights, you will need to [join the Windows Insider Program](https://insider.windows.com/).</span></span>
1. <span data-ttu-id="cf41f-129">Installer [Windows 10 Creators Update](https://www.microsoft.com/software-download/windows10)</span><span class="sxs-lookup"><span data-stu-id="cf41f-129">Install the [Windows 10 Creators Update](https://www.microsoft.com/software-download/windows10)</span></span>
2. <span data-ttu-id="cf41f-130">[Participez](https://insider.windows.com/) au programme Windows Insider.</span><span class="sxs-lookup"><span data-stu-id="cf41f-130">[Join](https://insider.windows.com/) the Windows Insider Program.</span></span>
3. <span data-ttu-id="cf41f-131">Activer le [mode développeur](https://docs.microsoft.com/windows/uwp/get-started/enable-your-device-for-development)</span><span class="sxs-lookup"><span data-stu-id="cf41f-131">Enable [Developer Mode](https://docs.microsoft.com/windows/uwp/get-started/enable-your-device-for-development)</span></span>
4. <span data-ttu-id="cf41f-132">Passer aux [vols rapides Windows Insider](https://blogs.technet.microsoft.com/uktechnet/2016/07/01/joining-insider-preview) via les paramètres--> mise à jour & section sécurité</span><span class="sxs-lookup"><span data-stu-id="cf41f-132">Switch to the [Windows Insider Fast flights](https://blogs.technet.microsoft.com/uktechnet/2016/07/01/joining-insider-preview) through Settings --> Update & Security Section</span></span>

### <a name="common-step-3-upgrade-to-the-most-recent-build-of-visual-studio"></a><span data-ttu-id="cf41f-133">Étape 3 courante : mettre à niveau vers la version la plus récente de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="cf41f-133">Common step 3: Upgrade to the most recent build of Visual Studio</span></span>
* <span data-ttu-id="cf41f-134">Veuillez consulter [la page installer les outils](install-the-tools.md#installation-checklist) sous Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="cf41f-134">Please see [Install the tools](install-the-tools.md#installation-checklist) page under Visual Studio 2019</span></span>

### <a name="common-step-4-be-ready-for-the-store"></a><span data-ttu-id="cf41f-135">Étape courante 4 : Soyez prêt pour le Store</span><span class="sxs-lookup"><span data-stu-id="cf41f-135">Common step 4: Be Ready for The Store</span></span>
* <span data-ttu-id="cf41f-136">Utilisez le [Kit de certification des applications Windows](https://developer.microsoft.com/windows/develop/app-certification-kit) (également appelé wack) tôt et souvent !</span><span class="sxs-lookup"><span data-stu-id="cf41f-136">Use [Windows App Certification Kit](https://developer.microsoft.com/windows/develop/app-certification-kit) (aka WACK) early and often!</span></span>
* <span data-ttu-id="cf41f-137">Utiliser l' [Analyseur de portabilité](https://docs.microsoft.com/dotnet/standard/portability-analyzer) ([Téléchargement](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer))</span><span class="sxs-lookup"><span data-stu-id="cf41f-137">Use [Portability Analyzer](https://docs.microsoft.com/dotnet/standard/portability-analyzer) ([Download](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer))</span></span>

### <a name="common-step-5-choose-the-correct-adapter"></a><span data-ttu-id="cf41f-138">Étape 5 courante : choisir l’adaptateur approprié</span><span class="sxs-lookup"><span data-stu-id="cf41f-138">Common step 5: Choose the correct Adapter</span></span>
* <span data-ttu-id="cf41f-139">Dans les systèmes tels que les blocs-notes avec deux GPU, [Ciblez l’adaptateur approprié](rendering-in-directx.md#hybrid-graphics-pcs-and-mixed-reality-applications).</span><span class="sxs-lookup"><span data-stu-id="cf41f-139">In systems like notebooks with two GPUs, [target the correct adapter](rendering-in-directx.md#hybrid-graphics-pcs-and-mixed-reality-applications).</span></span> <span data-ttu-id="cf41f-140">Cela s’applique aux applications Unity, en plus des applications DirectX natives, où un ID3D11Device est créé, de manière explicite ou implicite (Media Foundation), pour ses fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="cf41f-140">This applies to Unity apps, in addition to native DirectX apps, where a ID3D11Device is created, either explicitly or implicitly (Media Foundation), for its functionality.</span></span>

## <a name="unity-porting-guidance"></a><span data-ttu-id="cf41f-141">Guide de Portage Unity</span><span class="sxs-lookup"><span data-stu-id="cf41f-141">Unity porting guidance</span></span>

### <a name="unity-step-1-follow-the-common-porting-steps"></a><span data-ttu-id="cf41f-142">Étape 1 Unity : suivre les étapes de Portage courantes</span><span class="sxs-lookup"><span data-stu-id="cf41f-142">Unity step 1: Follow the common porting steps</span></span>

<span data-ttu-id="cf41f-143">Suivez toutes les étapes courantes.</span><span class="sxs-lookup"><span data-stu-id="cf41f-143">Follow all of the common steps.</span></span> <span data-ttu-id="cf41f-144">À l’étape #3, sélectionnez le **développement de jeux avec** la charge de travail Unity.</span><span class="sxs-lookup"><span data-stu-id="cf41f-144">When in step #3, select the **Game Development with Unity** workload.</span></span> <span data-ttu-id="cf41f-145">Vous pouvez désélectionner le composant facultatif éditeur Unity, car vous installerez une version plus récente d’Unity à partir des instructions ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="cf41f-145">You may deselect the Unity Editor optional component since you'll be installing a newer version of Unity from the instructions below.</span></span>

### <a name="unity-step-2-upgrade-to-the-latest-public-build-of-unity-with-windows-mr-support"></a><span data-ttu-id="cf41f-146">Étape 2 Unity : effectuez une mise à niveau vers la dernière version publique d’Unity avec prise en charge de Windows MR</span><span class="sxs-lookup"><span data-stu-id="cf41f-146">Unity step 2: Upgrade to the latest public build of Unity with Windows MR Support</span></span>
1. <span data-ttu-id="cf41f-147">Téléchargez la dernière [version publique recommandée d’Unity](install-the-tools.md) avec prise en charge de la réalité mixte.</span><span class="sxs-lookup"><span data-stu-id="cf41f-147">Download the latest [recommended public build of Unity](install-the-tools.md) with mixed reality support.</span></span>
2. <span data-ttu-id="cf41f-148">Enregistrez une copie de votre projet avant de commencer</span><span class="sxs-lookup"><span data-stu-id="cf41f-148">Save a copy of your project before you get started</span></span>
3. <span data-ttu-id="cf41f-149">Consultez la [documentation](https://docs.unity3d.com/Manual/UpgradeGuides.html) disponible à partir de Unity sur le portage.</span><span class="sxs-lookup"><span data-stu-id="cf41f-149">Review the [documentation](https://docs.unity3d.com/Manual/UpgradeGuides.html) available from Unity on porting.</span></span>
4. <span data-ttu-id="cf41f-150">Suivez les [instructions](https://docs.unity3d.com/Manual/APIUpdater.html) sur le site de Unity pour utiliser son programme de mise à jour d’API automatique</span><span class="sxs-lookup"><span data-stu-id="cf41f-150">Follow the [instructions](https://docs.unity3d.com/Manual/APIUpdater.html) on Unity's site for using their automatic API updater</span></span>
5. <span data-ttu-id="cf41f-151">Vérifiez s’il existe des modifications supplémentaires que vous devez apporter pour que votre projet s’exécute et pour traiter les erreurs et avertissements restants.</span><span class="sxs-lookup"><span data-stu-id="cf41f-151">Check and see if there are additional changes that you need to make to get your project running, and work through any remaining errors and warnings.</span></span> <span data-ttu-id="cf41f-152">Remarque : Si vous avez des intergiciels (middleware) dont vous dépendez, vous devrez peut-être mettre à jour cet intergiciel (middleware) pour commencer (plus de détails à l’étape 3 ci-dessous).</span><span class="sxs-lookup"><span data-stu-id="cf41f-152">Note: If you have middleware that you depend on, you may need to update that middleware to get going (more details in step 3 below).</span></span>

### <a name="unity-step-3-upgrade-your-middleware-to-the-latest-versions"></a><span data-ttu-id="cf41f-153">Étape 3 Unity : mettre à niveau votre intergiciel vers les versions les plus récentes</span><span class="sxs-lookup"><span data-stu-id="cf41f-153">Unity step 3: Upgrade your middleware to the latest versions</span></span>

<span data-ttu-id="cf41f-154">Avec toute mise à jour Unity, il est probable que vous deviez mettre à jour un ou plusieurs packages middleware dont dépend votre jeu ou votre application.</span><span class="sxs-lookup"><span data-stu-id="cf41f-154">With any Unity update, there is a good chance that you need to update one or more middleware packages that your game or application depends on.</span></span> <span data-ttu-id="cf41f-155">En outre, si vous êtes sur la dernière version de tous vos intergiciels, vous risquez de réussir tout au long du processus de Portage.</span><span class="sxs-lookup"><span data-stu-id="cf41f-155">Additionally, being on the latest version of all of your middleware will increase your likelihood of success throughout the rest of the porting process.</span></span> <span data-ttu-id="cf41f-156">De nombreux packages d’intergiciels (middleware) ont récemment ajouté la prise en charge de plateforme Windows universelle (UWP), et la mise à niveau vers les versions les plus récentes vous permettra de tirer parti de ce travail.</span><span class="sxs-lookup"><span data-stu-id="cf41f-156">Many middleware packages have recently added support for Universal Windows Platform (UWP), and upgrading to the most recent versions will let you leverage that work.</span></span>

### <a name="unity-step-4-target-your-application-to-run-on-universal-windows-platform-uwp"></a><span data-ttu-id="cf41f-157">Étape 4 : cibler votre application pour qu’elle s’exécute sur plateforme Windows universelle (UWP)</span><span class="sxs-lookup"><span data-stu-id="cf41f-157">Unity step 4: Target your application to run on Universal Windows Platform (UWP)</span></span>

<span data-ttu-id="cf41f-158">Après avoir installé les outils, vous devez faire en sorte que votre application s’exécute en tant qu’application Windows universelle.</span><span class="sxs-lookup"><span data-stu-id="cf41f-158">After installing the tools, you need to get your app running as a Universal Windows app.</span></span>
* <span data-ttu-id="cf41f-159">Suivez les [instructions pas à pas détaillées](https://unity3d.com/partners/microsoft/porting-guides) fournies par Unity.</span><span class="sxs-lookup"><span data-stu-id="cf41f-159">Follow the [detailed step by step walk through](https://unity3d.com/partners/microsoft/porting-guides) provided by Unity.</span></span> <span data-ttu-id="cf41f-160">Veuillez noter que vous devez rester sur la toute dernière version de LTS (n’importe quelle version de 20xx. 4) pour Windows MR.</span><span class="sxs-lookup"><span data-stu-id="cf41f-160">Please note that you should stay on the latest LTS release (any 20xx.4 release) for Windows MR.</span></span>
* <span data-ttu-id="cf41f-161">Pour plus d’informations sur les ressources de développement UWP, consultez le [Guide de développement de jeux Windows 10](https://docs.microsoft.com/windows/uwp/gaming/e2e).</span><span class="sxs-lookup"><span data-stu-id="cf41f-161">For more UWP development resources, take a look at the [Windows 10 game development guide](https://docs.microsoft.com/windows/uwp/gaming/e2e).</span></span>
* <span data-ttu-id="cf41f-162">Notez que Unity continue d’améliorer la prise en charge de IL2CPP ; IL2CPP rend certains ports UWP beaucoup plus faciles.</span><span class="sxs-lookup"><span data-stu-id="cf41f-162">Please note that Unity continues to improve IL2CPP support; IL2CPP makes some UWP ports significantly easier.</span></span> <span data-ttu-id="cf41f-163">Si vous ciblez actuellement le serveur principal de script .net, vous devez envisager de convertir pour tirer parti du backend IL2CPP à la place.</span><span class="sxs-lookup"><span data-stu-id="cf41f-163">If you are currently targeting the .Net scripting backend, you should consider converting to leverage the IL2CPP backend instead.</span></span>

<span data-ttu-id="cf41f-164">Remarque : Si votre application a des dépendances sur des services spécifiques aux appareils, comme la mise en correspondance à partir de la vapeur, vous devez les désactiver à cette étape.</span><span class="sxs-lookup"><span data-stu-id="cf41f-164">Note: If your application has any dependencies on device specific services, such as match making from Steam, you will need to disable them at this step.</span></span> <span data-ttu-id="cf41f-165">À un moment ultérieur, vous pouvez raccorder les services équivalents fournis par Windows.</span><span class="sxs-lookup"><span data-stu-id="cf41f-165">At a later time, you can hook up to the equivalent services that Windows provides.</span></span>

### <a name="unity-step-5-deprecated"></a><span data-ttu-id="cf41f-166">Étape 5 Unity (déconseillée)</span><span class="sxs-lookup"><span data-stu-id="cf41f-166">Unity step 5: (Deprecated)</span></span>

<span data-ttu-id="cf41f-167">L’étape 5 n’est plus nécessaire.</span><span class="sxs-lookup"><span data-stu-id="cf41f-167">Step 5 is no longer required.</span></span> <span data-ttu-id="cf41f-168">Nous le laissons ici afin que l’indexation des étapes reste la même.</span><span class="sxs-lookup"><span data-stu-id="cf41f-168">We are leaving it here so that the indexing of steps remains the same.</span></span>

### <a name="unity-step-6-get-your-windows-mixed-reality-hardware-set-up"></a><span data-ttu-id="cf41f-169">Étape 6 : mettre en place votre matériel Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="cf41f-169">Unity step 6: Get your Windows Mixed Reality hardware set up</span></span>
1. <span data-ttu-id="cf41f-170">Passer en revue les étapes de [configuration du casque immersif](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/before-you-start
)</span><span class="sxs-lookup"><span data-stu-id="cf41f-170">Review steps in [Immersive headset setup](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/before-you-start
)</span></span>
2. <span data-ttu-id="cf41f-171">En savoir plus sur l' [utilisation du simulateur Windows Mixed Reality](using-the-windows-mixed-reality-simulator.md) et [la navigation dans la page d’informations Windows Mixed Reality](navigating-the-windows-mixed-reality-home.md)</span><span class="sxs-lookup"><span data-stu-id="cf41f-171">Learn about [Using the Windows Mixed Reality simulator](using-the-windows-mixed-reality-simulator.md) and [Navigating the Windows Mixed Reality home](navigating-the-windows-mixed-reality-home.md)</span></span>

### <a name="unity-step-7-target-your-application-to-run-on-windows-mixed-reality"></a><span data-ttu-id="cf41f-172">STEP 7 : cibler votre application pour qu’elle s’exécute sur Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="cf41f-172">Unity step 7: Target your application to run on Windows Mixed Reality</span></span>
1. <span data-ttu-id="cf41f-173">Tout d’abord, vous devez supprimer ou compiler de façon conditionnelle toute autre prise en charge de bibliothèque spécifique à un kit de développement logiciel (SDK) VR particulier.</span><span class="sxs-lookup"><span data-stu-id="cf41f-173">First, you must remove or conditionally compile out any other library support specific to a particular VR SDK.</span></span> <span data-ttu-id="cf41f-174">Ces ressources changent fréquemment les paramètres et les propriétés de votre projet de manière incompatible avec d’autres kits de développement logiciel (SDK) VR, tels que Windows Mixed Reality.</span><span class="sxs-lookup"><span data-stu-id="cf41f-174">Those assets frequently change settings and properties on your project in ways that are incompatible with other VR SDKs, such as Windows Mixed Reality.</span></span>
    * <span data-ttu-id="cf41f-175">Par exemple, si votre projet fait référence au kit de développement logiciel (SDK) SteamVR, vous devez mettre à jour votre projet pour exclure ces appels d’API de prefabs et de script lors de l’exportation pour la cible de génération du Windows Store.</span><span class="sxs-lookup"><span data-stu-id="cf41f-175">For example, if your project references the SteamVR SDK, you will need to update your project to exclude those prefabs and script API calls when exporting for the Windows Store build target.</span></span>
    * <span data-ttu-id="cf41f-176">Les étapes spécifiques pour l’exclusion conditionnelle d’autres kits de développement logiciel VR sont bientôt disponibles.</span><span class="sxs-lookup"><span data-stu-id="cf41f-176">Specific steps for conditionally excluding other VR SDKs is coming soon.</span></span>
2. <span data-ttu-id="cf41f-177">Dans votre projet Unity, [Ciblez le kit de développement logiciel (SDK) Windows 10](holograms-100.md#target-windows-10-sdk)</span><span class="sxs-lookup"><span data-stu-id="cf41f-177">In your Unity project, [target the Windows 10 SDK](holograms-100.md#target-windows-10-sdk)</span></span>
3. <span data-ttu-id="cf41f-178">Pour chaque scène, [configurer l’appareil photo](holograms-100.md#chapter-2---setup-the-camera)</span><span class="sxs-lookup"><span data-stu-id="cf41f-178">For each scene, [setup the camera](holograms-100.md#chapter-2---setup-the-camera)</span></span>

### <a name="unity-step-8-use-the-stage-to-place-content-on-the-floor"></a><span data-ttu-id="cf41f-179">Step 8 : utiliser la phase pour placer le contenu à l’étage</span><span class="sxs-lookup"><span data-stu-id="cf41f-179">Unity step 8: Use the stage to place content on the floor</span></span>

<span data-ttu-id="cf41f-180">Vous pouvez créer des expériences de réalité mixte sur une large gamme [d’expériences.](coordinate-systems.md)</span><span class="sxs-lookup"><span data-stu-id="cf41f-180">You can build Mixed Reality experiences across a wide range of [experience scales](coordinate-systems.md).</span></span>

<span data-ttu-id="cf41f-181">Si vous déployez une expérience à l' **échelle assise**, vous devez vérifier que Unity est défini sur le type d’espace de suivi **fixe** :</span><span class="sxs-lookup"><span data-stu-id="cf41f-181">If you're porting a **seated-scale experience**, you must ensure Unity is set to the **Stationary** tracking space type:</span></span>

```cs
XRDevice.SetTrackingSpaceType(TrackingSpaceType.Stationary);
```

<span data-ttu-id="cf41f-182">Définit le système de coordonnées universelles de Unity pour suivre le [cadre stationnaire de référence](coordinate-systems.md#spatial-coordinate-systems).</span><span class="sxs-lookup"><span data-stu-id="cf41f-182">This sets Unity's world coordinate system to track the [stationary frame of reference](coordinate-systems.md#spatial-coordinate-systems).</span></span> <span data-ttu-id="cf41f-183">Dans le mode de suivi fixe, le contenu placé dans l’éditeur juste devant l’emplacement par défaut de l’appareil photo (Forward is-Z) s’affiche devant l’utilisateur au lancement de l’application.</span><span class="sxs-lookup"><span data-stu-id="cf41f-183">In the Stationary tracking mode, content placed in the editor just in front of the camera's default location (forward is -Z) will appear in front of the user when the app launches.</span></span> <span data-ttu-id="cf41f-184">Pour recentrer l’origine assise de l’utilisateur, vous pouvez appeler XR de l’unité [. Méthode InputTracking. recenter](https://docs.unity3d.com/ScriptReference/XR.InputTracking.Recenter.html) .</span><span class="sxs-lookup"><span data-stu-id="cf41f-184">To recenter the user's seated origin, you can call Unity's [XR.InputTracking.Recenter](https://docs.unity3d.com/ScriptReference/XR.InputTracking.Recenter.html) method.</span></span>

<span data-ttu-id="cf41f-185">Si vous effectuez une mise à l' **échelle permanente** ou une **expérience**de mise à l’échelle de l’espace, vous allez placer du contenu par rapport à l’étage.</span><span class="sxs-lookup"><span data-stu-id="cf41f-185">If you're porting a **standing-scale experience** or **room-scale experience**, you'll be placing content relative to the floor.</span></span> <span data-ttu-id="cf41f-186">Vous avez raison de l’étage de l’utilisateur à l’aide de la **[Phase spatiale](coordinate-systems.md#spatial-coordinate-systems)** , qui représente l’origine de l’utilisateur et la limite facultative de l’espace, configurées lors de la première exécution.</span><span class="sxs-lookup"><span data-stu-id="cf41f-186">You reason about the user's floor using the **[spatial stage](coordinate-systems.md#spatial-coordinate-systems)**, which represents the user's defined floor-level origin and optional room boundary, set up during first run.</span></span> <span data-ttu-id="cf41f-187">Pour ces expériences, vous devez vous assurer que Unity est défini sur le type d’espace de suivi **RoomScale** .</span><span class="sxs-lookup"><span data-stu-id="cf41f-187">For these experiences, you must ensure Unity is set to the **RoomScale** tracking space type.</span></span> <span data-ttu-id="cf41f-188">Alors que RoomScale est la valeur par défaut, vous pouvez le définir explicitement et vous assurer que vous obtenez la valeur true, afin d’intercepter les situations où l’utilisateur a déplacé son ordinateur hors de la salle qu’il a étalonnée :</span><span class="sxs-lookup"><span data-stu-id="cf41f-188">While RoomScale is the default, you'll want to set it explicitly and ensure you get back true, to catch situations where the user has moved their computer away from the room they calibrated:</span></span>

```cs
if (XRDevice.SetTrackingSpaceType(TrackingSpaceType.RoomScale))
{
    // RoomScale mode was set successfully.  App can now assume that y=0 in Unity world coordinate represents the floor.
}
else
{
    // RoomScale mode was not set successfully.  App cannot make assumptions about where the floor plane is.
}
```

<span data-ttu-id="cf41f-189">Une fois que votre application a correctement défini le type d’espace de suivi RoomScale, le contenu placé sur le plan y = 0 s’affiche sur le plancher.</span><span class="sxs-lookup"><span data-stu-id="cf41f-189">Once your app successfully sets the RoomScale tracking space type, content placed on the y=0 plane will appear on the floor.</span></span> <span data-ttu-id="cf41f-190">L’origine à (0, 0, 0) sera l’emplacement spécifique sur le plancher où l’utilisateur a pris la main pendant la configuration de la salle, avec-Z représentant la direction vers l’avant au cours de l’installation.</span><span class="sxs-lookup"><span data-stu-id="cf41f-190">The origin at (0, 0, 0) will be the specific place on the floor where the user stood during room setup, with -Z representing the forward direction they were facing during setup.</span></span>

<span data-ttu-id="cf41f-191">Dans le code de script, vous pouvez ensuite appeler la méthode TryGetGeometry sur vous êtes le type UnityEngine. expérimental. XR. Boundary pour obtenir un polygone de limite, en spécifiant un type de limite de TrackedArea.</span><span class="sxs-lookup"><span data-stu-id="cf41f-191">In script code, you can then call the TryGetGeometry method on your the UnityEngine.Experimental.XR.Boundary type to get a boundary polygon, specifying a boundary type of TrackedArea.</span></span> <span data-ttu-id="cf41f-192">Si l’utilisateur a défini une limite (vous récupérez une liste de vertex), vous savez qu’il est possible de fournir une expérience de mise à l’échelle de l' **espace** à l’utilisateur, où il peut se déplacer dans la scène que vous créez.</span><span class="sxs-lookup"><span data-stu-id="cf41f-192">If the user defined a boundary (you get back a list of vertices), you know it is safe to deliver a **room-scale experience** to the user, where they can walk around the scene you create.</span></span>

<span data-ttu-id="cf41f-193">Notez que le système affiche automatiquement la limite lorsque l’utilisateur l’approche.</span><span class="sxs-lookup"><span data-stu-id="cf41f-193">Note that the system will automatically render the boundary when the user approaches it.</span></span> <span data-ttu-id="cf41f-194">Votre application n’a pas besoin d’utiliser ce polygone pour restituer la limite elle-même.</span><span class="sxs-lookup"><span data-stu-id="cf41f-194">Your app does not need to use this polygon to render the boundary itself.</span></span>

<span data-ttu-id="cf41f-195">Pour plus d’informations, consultez la page [systèmes de coordonnées dans Unity](coordinate-systems-in-unity.md) .</span><span class="sxs-lookup"><span data-stu-id="cf41f-195">For more details, see the [Coordinate systems in Unity](coordinate-systems-in-unity.md) page.</span></span>

<span data-ttu-id="cf41f-196">Certaines applications utilisent un rectangle pour limiter leur interaction.</span><span class="sxs-lookup"><span data-stu-id="cf41f-196">Some applications use a rectangle to constrain their interaction.</span></span> <span data-ttu-id="cf41f-197">La récupération du plus grand rectangle inscrit n’est pas directement prise en charge dans l’API UWP ou Unity.</span><span class="sxs-lookup"><span data-stu-id="cf41f-197">Retrieving the largest inscribed rectangle is not directly supported in the UWP API or Unity.</span></span> <span data-ttu-id="cf41f-198">L’exemple de code lié ci-dessous montre comment rechercher un rectangle dans les limites suivies.</span><span class="sxs-lookup"><span data-stu-id="cf41f-198">The example code linked to below shows how to find a rectangle within the traced bounds.</span></span> <span data-ttu-id="cf41f-199">Il est basé sur une méthode heuristique. il est donc possible qu’il ne trouve pas la solution optimale. Toutefois, les résultats sont généralement cohérents avec les attentes.</span><span class="sxs-lookup"><span data-stu-id="cf41f-199">It is heuristic based so may not find the optimal solution, however, results are generally consistent with expectations.</span></span> <span data-ttu-id="cf41f-200">Les paramètres de l’algorithme peuvent être réglés pour obtenir des résultats plus précis au détriment du temps de traitement.</span><span class="sxs-lookup"><span data-stu-id="cf41f-200">Parameters in the algorithm can be tuned to find more precise results at the cost of processing time.</span></span> <span data-ttu-id="cf41f-201">L’algorithme se trouve dans une fourche de la boîte à outils de réalité mixte qui utilise la version 5,6 Preview MRTP Unity.</span><span class="sxs-lookup"><span data-stu-id="cf41f-201">The algorithm is in a fork of the Mixed Reality Toolkit that uses the 5.6 preview MRTP version of Unity.</span></span> <span data-ttu-id="cf41f-202">Cela n’est pas disponible publiquement.</span><span class="sxs-lookup"><span data-stu-id="cf41f-202">This is not publically available.</span></span> <span data-ttu-id="cf41f-203">Le code doit être directement utilisable dans 2017,2 et versions ultérieures d’Unity.</span><span class="sxs-lookup"><span data-stu-id="cf41f-203">The code should be directly usable in 2017.2 and higher versions of Unity.</span></span> <span data-ttu-id="cf41f-204">Le code sera porté sur le MRTK actuel dans un futur proche.</span><span class="sxs-lookup"><span data-stu-id="cf41f-204">The code will be ported to the current MRTK in the near future.</span></span>

<span data-ttu-id="cf41f-205">[fichier zip de code sur GitHub](https://github.com/KevinKennedy/MixedRealityToolkit-Unity/releases/tag/5.6.MRTP20) Fichiers importants :</span><span class="sxs-lookup"><span data-stu-id="cf41f-205">[zip file of code on GitHub](https://github.com/KevinKennedy/MixedRealityToolkit-Unity/releases/tag/5.6.MRTP20) Important files:</span></span>
* <span data-ttu-id="cf41f-206">Ressources/HoloToolkit/stage/scripts/StageManager. cs-exemple d’utilisation</span><span class="sxs-lookup"><span data-stu-id="cf41f-206">Assets/HoloToolkit/Stage/Scripts/StageManager.cs - example of usage</span></span>
* <span data-ttu-id="cf41f-207">Ressources/HoloToolkit/stage/scripts/LargestRectangle. cs-implémentation de l’algorithme</span><span class="sxs-lookup"><span data-stu-id="cf41f-207">Assets/HoloToolkit/Stage/Scripts/LargestRectangle.cs - implementation of the algorithm</span></span>
* <span data-ttu-id="cf41f-208">Ressources/HoloToolkit-UnitTests/éditeur/stage/LargestRectangleTest. cs-test trivial de l’algorithme</span><span class="sxs-lookup"><span data-stu-id="cf41f-208">Assets/HoloToolkit-UnitTests/Editor/Stage/LargestRectangleTest.cs - trivial test of the algorithm</span></span>

<span data-ttu-id="cf41f-209">Exemple de résultats :</span><span class="sxs-lookup"><span data-stu-id="cf41f-209">Example of results:</span></span>

![Exemple de résultats](images/largestrectangle-400px.jpg)

<span data-ttu-id="cf41f-211">L’algorithme est basé sur un blog de Daniel Smilkov : le [plus grand rectangle dans un polygone](https://d3plus.org/blog/behind-the-scenes/2014/07/08/largest-rect/)</span><span class="sxs-lookup"><span data-stu-id="cf41f-211">Algorithm is based on a blog by Daniel Smilkov: [Largest rectangle in a polygon](https://d3plus.org/blog/behind-the-scenes/2014/07/08/largest-rect/)</span></span>

### <a name="unity-step-9-work-through-your-input-model"></a><span data-ttu-id="cf41f-212">Étape 9 Unity : utiliser votre modèle d’entrée</span><span class="sxs-lookup"><span data-stu-id="cf41f-212">Unity step 9: Work through your input model</span></span>

<span data-ttu-id="cf41f-213">Chaque jeu ou application ciblant un HMD existant aura un ensemble d’entrées qu’il gère, les types d’entrées dont il a besoin pour l’expérience et les API spécifiques qu’il appelle pour obtenir ces entrées.</span><span class="sxs-lookup"><span data-stu-id="cf41f-213">Each game or application targeting an existing HMD will have a set of inputs that it handles, types of inputs that it needs for the experience, and specific APIs that it calls to get those inputs.</span></span> <span data-ttu-id="cf41f-214">Nous avons investi dans la tentative de le rendre aussi simple et simple que possible de tirer parti des entrées disponibles dans Windows Mixed Reality.</span><span class="sxs-lookup"><span data-stu-id="cf41f-214">We have invested in trying to make it as simple and straightforward as possible to take advantage of the inputs available in Windows Mixed Reality.</span></span>
1. <span data-ttu-id="cf41f-215">Lisez le **[Guide d’entrée pour Unity](input-porting-guide-for-unity.md)** pour plus d’informations sur la façon dont Windows Mixed Reality expose les entrées et sur la façon dont elles sont mappées à ce que votre application peut faire aujourd’hui.</span><span class="sxs-lookup"><span data-stu-id="cf41f-215">Read through the **[Input porting guide for Unity](input-porting-guide-for-unity.md)** for details of how Windows Mixed Reality exposes input, and how that maps to what your application may do today.</span></span>
2. <span data-ttu-id="cf41f-216">Indiquez si vous souhaitez tirer parti de l’API d’entrée Cross-VR-SDK d’Unity ou de l’API d’entrée spécifique à MR.</span><span class="sxs-lookup"><span data-stu-id="cf41f-216">Choose whether you are going to leverage Unity's cross-VR-SDK input API, or the MR-specific input API.</span></span> <span data-ttu-id="cf41f-217">Les API d’entrée. GetButton/Input. GetAxis sont utilisées par les applications Unity VR aujourd’hui pour les entrées [Oculus](https://docs.unity3d.com/Manual/OculusControllers.html) et [OpenVR](https://docs.unity3d.com/Manual/OpenVRControllers.html).</span><span class="sxs-lookup"><span data-stu-id="cf41f-217">The general Input.GetButton/Input.GetAxis APIs are used by Unity VR apps today for [Oculus input](https://docs.unity3d.com/Manual/OculusControllers.html) and [OpenVR input](https://docs.unity3d.com/Manual/OpenVRControllers.html).</span></span> <span data-ttu-id="cf41f-218">Si vos applications utilisent déjà ces API pour les contrôleurs de mouvement, il s’agit du chemin le plus simple. vous devez simplement remapper les boutons et les axes dans le gestionnaire d’entrée.</span><span class="sxs-lookup"><span data-stu-id="cf41f-218">If your apps are already using these APIs for motion controllers, this is the easiest path - you should just need to remap buttons and axes in the Input Manager.</span></span>
    * <span data-ttu-id="cf41f-219">Vous pouvez accéder aux données du contrôleur de mouvement dans Unity à l’aide des API d’entrée. GetButton/Input. GetAxis, ou des API UnityEngine. XR. WSA. Input spécifiques à MR.</span><span class="sxs-lookup"><span data-stu-id="cf41f-219">You can access motion controller data in Unity using either the general cross-VR-SDK Input.GetButton/Input.GetAxis APIs or the MR-specific UnityEngine.XR.WSA.Input APIs.</span></span> <span data-ttu-id="cf41f-220">(précédemment dans l’espace de noms UnityEngine. XR. WSA. Input dans Unity 5,6)</span><span class="sxs-lookup"><span data-stu-id="cf41f-220">(previously in the UnityEngine.XR.WSA.Input namespace in Unity 5.6)</span></span>
    * <span data-ttu-id="cf41f-221">Consultez l' [exemple de la boîte à outils](https://github.com/Microsoft/HoloToolkit-Unity/pull/572) qui combine les contrôleurs de manette et de mouvement.</span><span class="sxs-lookup"><span data-stu-id="cf41f-221">See the [example in Toolkit](https://github.com/Microsoft/HoloToolkit-Unity/pull/572) that combines gamepad and motion controllers.</span></span>

### <a name="unity-step-10-performance-testing-and-tuning"></a><span data-ttu-id="cf41f-222">Étape 10 : test et réglage des performances</span><span class="sxs-lookup"><span data-stu-id="cf41f-222">Unity step 10: Performance testing and tuning</span></span>

<span data-ttu-id="cf41f-223">Windows Mixed Reality sera disponible sur une vaste gamme d’appareils, allant des PC de jeux haut de gamme aux PC grand public.</span><span class="sxs-lookup"><span data-stu-id="cf41f-223">Windows Mixed Reality will be available on a broad class of devices, ranging from high end gaming PCs, down to broad market mainstream PCs.</span></span> <span data-ttu-id="cf41f-224">Selon le marché que vous ciblez, il existe une différence significative dans les budgets de calcul et graphiques disponibles pour votre application.</span><span class="sxs-lookup"><span data-stu-id="cf41f-224">Depending on what market you are targeting, there is a significant difference in the available compute and graphics budgets for your application.</span></span> <span data-ttu-id="cf41f-225">Dans le cadre de cet exercice de Portage, vous utilisez probablement un PC Premium et des budgets graphiques et de calcul importants sont disponibles pour votre application.</span><span class="sxs-lookup"><span data-stu-id="cf41f-225">During this porting exercise, you are likely leveraging a premium PC, and have had significant compute and graphics budgets available to your app.</span></span> <span data-ttu-id="cf41f-226">Si vous souhaitez que votre application soit disponible pour un public plus large, vous devez tester et profiler votre application sur [le matériel représentatif que vous souhaitez cibler](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/windows-mixed-reality-minimum-pc-hardware-compatibility-guidelines).</span><span class="sxs-lookup"><span data-stu-id="cf41f-226">If you wish to make your app available to a broader audience, you should test and profile your app on [the representative hardware that you wish to target](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/windows-mixed-reality-minimum-pc-hardware-compatibility-guidelines).</span></span>

<span data-ttu-id="cf41f-227">[Unity](https://docs.unity3d.com/Manual/Profiler.html) et [Visual Studio](https://docs.microsoft.com/visualstudio/profiling/index) incluent des profileurs de performances, et [Microsoft](understanding-performance-for-mixed-reality.md) et [Intel](https://software.intel.com/articles/vr-content-developer-guide) publient des instructions sur le profilage et l’optimisation des performances.</span><span class="sxs-lookup"><span data-stu-id="cf41f-227">Both [Unity](https://docs.unity3d.com/Manual/Profiler.html) and [Visual Studio](https://docs.microsoft.com/visualstudio/profiling/index) include performance profilers, and both [Microsoft](understanding-performance-for-mixed-reality.md) and [Intel](https://software.intel.com/articles/vr-content-developer-guide) publish guidelines on performance profiling and optimization.</span></span> <span data-ttu-id="cf41f-228">Une discussion complète sur les performances est disponible [pour comprendre les performances de la réalité mixte](understanding-performance-for-mixed-reality.md).</span><span class="sxs-lookup"><span data-stu-id="cf41f-228">There is an extensive discussion of performance available at [Understanding Performance for Mixed Reality](understanding-performance-for-mixed-reality.md).</span></span> <span data-ttu-id="cf41f-229">En outre, il existe des détails spécifiques pour Unity sous [recommandations de performances pour Unity](performance-recommendations-for-unity.md).</span><span class="sxs-lookup"><span data-stu-id="cf41f-229">Further, there are specific details for Unity under [Performance Recommendations for Unity](performance-recommendations-for-unity.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="cf41f-230">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="cf41f-230">See also</span></span>
* [<span data-ttu-id="cf41f-231">Guide de portage des entrées pour Unity</span><span class="sxs-lookup"><span data-stu-id="cf41f-231">Input porting guide for Unity</span></span>](input-porting-guide-for-unity.md)
* [<span data-ttu-id="cf41f-232">Instructions de compatibilité matérielle PC minimale pour Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="cf41f-232">Windows Mixed Reality minimum PC hardware compatibility guidelines</span></span>](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/windows-mixed-reality-minimum-pc-hardware-compatibility-guidelines)
* [<span data-ttu-id="cf41f-233">Comprendre les performances de la réalité mixte</span><span class="sxs-lookup"><span data-stu-id="cf41f-233">Understanding Performance for Mixed Reality</span></span>](understanding-performance-for-mixed-reality.md)
* [<span data-ttu-id="cf41f-234">Recommandations en matière de performances pour Unity</span><span class="sxs-lookup"><span data-stu-id="cf41f-234">Performance Recommendations for Unity</span></span>](performance-recommendations-for-unity.md)
* [<span data-ttu-id="cf41f-235">Ajout de la prise en charge de Xbox Live à Unity pour UWP</span><span class="sxs-lookup"><span data-stu-id="cf41f-235">Add Xbox Live support to Unity for UWP</span></span>](https://docs.microsoft.com/windows/uwp/xbox-live/get-started-with-partner/partner-add-xbox-live-to-unity-uwp)
