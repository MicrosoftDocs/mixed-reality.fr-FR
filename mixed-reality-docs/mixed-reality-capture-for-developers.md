---
title: Mixte de capture de la réalité pour les développeurs
description: Meilleures pratiques pour la réalité mixte de capture pour les développeurs.
author: mattzmsft
ms.author: mazeller
ms.date: 02/24/2019
ms.topic: article
keywords: mrc, photo, video, capture, camera
ms.openlocfilehash: c2d98baf16b2ea724247224aabadc1e2ca533ec1
ms.sourcegitcommit: 384b0087899cd835a3a965f75c6f6c607c9edd1b
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/12/2019
ms.locfileid: "59594007"
---
# <a name="mixed-reality-capture-for-developers"></a><span data-ttu-id="f5c99-104">Mixte de capture de la réalité pour les développeurs</span><span class="sxs-lookup"><span data-stu-id="f5c99-104">Mixed reality capture for developers</span></span>

> [!NOTE]
> <span data-ttu-id="f5c99-105">Obtenir des instructions spécifiques pour HoloLens 2 [bientôt](index.md#news-and-notes).</span><span class="sxs-lookup"><span data-stu-id="f5c99-105">More guidance specific to HoloLens 2 [coming soon](index.md#news-and-notes).</span></span> 

<span data-ttu-id="f5c99-106">Consultez [l’activation de cette option dans votre application](#enabling-mrc-in-your-app) ci-dessous pour obtenir des conseils sur une nouvelle fonctionnalité MRC pour HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="f5c99-106">See [Enabling MRC in your app](#enabling-mrc-in-your-app) below for guidance on a new MRC capability for HoloLens 2.</span></span>

<span data-ttu-id="f5c99-107">Dans la mesure où un utilisateur peut prendre un [mixte de capture de la réalité](mixed-reality-capture.md) photo (MRC) ou de vidéo à tout moment, il existe quelques points que vous devez garder à l’esprit lorsque vous développez votre application.</span><span class="sxs-lookup"><span data-stu-id="f5c99-107">Since a user could take a [mixed reality capture](mixed-reality-capture.md) (MRC) photo or video at any time, there are a few things that you should keep in mind when developing your application.</span></span> <span data-ttu-id="f5c99-108">Cela inclut les meilleures pratiques pour la qualité visuelle MRC et être réactive aux modifications du système tout en les CMR sont capturées.</span><span class="sxs-lookup"><span data-stu-id="f5c99-108">This includes best practices for MRC visual quality and being responsive to system changes while MRCs are being captured.</span></span>

<span data-ttu-id="f5c99-109">Les développeurs peuvent intégrer également de façon transparente de capture de réalité mixte et de l’insertion dans leurs applications.</span><span class="sxs-lookup"><span data-stu-id="f5c99-109">Developers can also seamlessly integrate mixed reality capture and insertion into their apps.</span></span>

<span data-ttu-id="f5c99-110">Cette option sur HoloLens (première génération) prend en charge les vidéos et vos photos jusqu'à 720p, tandis que MRC sur HoloLens 2 prend en charge une vidéos jusqu'à 1080p et photos jusqu'à résolution 4 K.</span><span class="sxs-lookup"><span data-stu-id="f5c99-110">MRC on HoloLens (first-generation) supports videos and photos up to 720p, while MRC on HoloLens 2 supports videos up to 1080p and photos up to 4K resolution.</span></span>

## <a name="the-importance-of-quality-mrc"></a><span data-ttu-id="f5c99-111">L’importance de la qualité MRC</span><span class="sxs-lookup"><span data-stu-id="f5c99-111">The importance of quality MRC</span></span>

<span data-ttu-id="f5c99-112">Réalité mixte capturées photos et vidéos sont probablement la première exposition à qu'un utilisateur aura de votre application.</span><span class="sxs-lookup"><span data-stu-id="f5c99-112">Mixed reality captured photos and videos are likely the first exposure a user will have of your app.</span></span> <span data-ttu-id="f5c99-113">Si vous en tant que des captures d’écran de réalité mixte sur votre page de Microsoft Store ou à partir d’autres utilisateurs qui partagent les CMR sur les réseaux sociaux.</span><span class="sxs-lookup"><span data-stu-id="f5c99-113">Whether as mixed reality screenshots on your Microsoft Store page or from other users sharing MRCs on social networks.</span></span> <span data-ttu-id="f5c99-114">Vous pouvez utiliser cette option pour votre application de démonstration, de former les utilisateurs, d’encourager les utilisateurs à partager leurs interactions world mixte et à la recherche de l’utilisateur et de la résolution des problèmes.</span><span class="sxs-lookup"><span data-stu-id="f5c99-114">You can use MRC to demo your app, educate users, encourage users to share their mixed world interactions, and for user research and problem solving.</span></span>

## <a name="how-mrc-impacts-your-app"></a><span data-ttu-id="f5c99-115">Comment MRC a un impact sur votre application</span><span class="sxs-lookup"><span data-stu-id="f5c99-115">How MRC impacts your app</span></span>

### <a name="enabling-mrc-in-your-app"></a><span data-ttu-id="f5c99-116">L’activation de cette option dans votre application</span><span class="sxs-lookup"><span data-stu-id="f5c99-116">Enabling MRC in your app</span></span>

<span data-ttu-id="f5c99-117">Par défaut, une application n’a pas rien à faire pour permettre aux utilisateurs de prendre des captures de réalité mixte.</span><span class="sxs-lookup"><span data-stu-id="f5c99-117">By default, an app does not have to do anything to enable users to take mixed reality captures.</span></span> <span data-ttu-id="f5c99-118">Toutefois, étant donné que la conception de HoloLens 2 augmente la distance entre l’appareil photo photo/vidéo (PV) et l’affichage, nous proposerons une nouvelle option pour produire un rendu de caméra 3e aligné sur l’appareil photo PV de **HoloLens 2**.</span><span class="sxs-lookup"><span data-stu-id="f5c99-118">However, because the design of HoloLens 2 increases the distance between the photo/video (PV) camera and the display, we'll be introducing a new option to produce a 3rd camera render aligned to the PV camera of **HoloLens 2**.</span></span> 

<span data-ttu-id="f5c99-119">Désactivation de caméra 3e restituer sur HoloLens 2 offre les améliorations suivantes sur l’expérience de cette option par défaut :</span><span class="sxs-lookup"><span data-stu-id="f5c99-119">Opting-in to 3rd camera render on HoloLens 2 offers the following improvements over the default MRC experience:</span></span>
* <span data-ttu-id="f5c99-120">Alignement hologramme à votre environnement physique et les mains (pour les interactions quasiment) doit être précise à tous les distances, au lieu d’avoir un décalage de distance autre que le [concentrer point](focus-point-in-unity.md) comme vous pouvez voir dans la valeur par défaut de cette option.</span><span class="sxs-lookup"><span data-stu-id="f5c99-120">Hologram alignment to both your physical environment and hands (for near interactions) should be accurate at all distances, instead of having an offset at distances other than the [focus point](focus-point-in-unity.md) as you might see in the default MRC.</span></span>
* <span data-ttu-id="f5c99-121">Le œil droit dans le casque ne seront pas compromise, car il n’est utilisé pour restituer les hologrammes pour la sortie de cette option.</span><span class="sxs-lookup"><span data-stu-id="f5c99-121">The right eye in the headset won't be compromised, as it won't be used to render the holograms for the MRC output.</span></span>

### <a name="disabling-mrc-in-your-app"></a><span data-ttu-id="f5c99-122">La désactivation de cette option dans votre application</span><span class="sxs-lookup"><span data-stu-id="f5c99-122">Disabling MRC in your app</span></span>

<span data-ttu-id="f5c99-123">Lorsqu’une application 2D utilise [DXGI_PRESENT_RESTRICT_TO_OUTPUT](https://msdn.microsoft.com/library/windows/desktop/bb509554(v=vs.85).aspx) ou [DXGI_SWAP_CHAIN_FLAG_HW_PROTECTED](https://msdn.microsoft.com/library/windows/desktop/bb173076(v=vs.85).aspx) pour afficher le contenu protégé avec une chaîne de permutation correctement configurée, sera contenu visuel de l’application masquées automatiquement pendant l’exécution de capture de réalité mixte.</span><span class="sxs-lookup"><span data-stu-id="f5c99-123">When a 2D app uses [DXGI_PRESENT_RESTRICT_TO_OUTPUT](https://msdn.microsoft.com/library/windows/desktop/bb509554(v=vs.85).aspx) or [DXGI_SWAP_CHAIN_FLAG_HW_PROTECTED](https://msdn.microsoft.com/library/windows/desktop/bb173076(v=vs.85).aspx) to show protected content with a properly-configured swap chain, the app's visual content will be automatically obscured while mixed reality capture is running.</span></span>

### <a name="knowing-when-mrc-is-active"></a><span data-ttu-id="f5c99-124">Savoir quand cette option est active</span><span class="sxs-lookup"><span data-stu-id="f5c99-124">Knowing when MRC is active</span></span>

<span data-ttu-id="f5c99-125">Le [AppCapture](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.appcapture.aspx) classe peut être utilisée par une application de savoir quand système mixte de capture de la réalité est en cours d’exécution (pour le contenu audio ou vidéo).</span><span class="sxs-lookup"><span data-stu-id="f5c99-125">The [AppCapture](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.appcapture.aspx) class can be used by an app to know when system mixed reality capture is running (for either audio or video).</span></span>

>[!NOTE]
><span data-ttu-id="f5c99-126">De AppCapture [GetForCurrentView](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.appcapture.getforcurrentview.aspx) API peut retourner null si la capture de la réalité de mixte n’est pas disponible sur l’appareil.</span><span class="sxs-lookup"><span data-stu-id="f5c99-126">AppCapture's [GetForCurrentView](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.appcapture.getforcurrentview.aspx) API can return null if mixed reality capture isn't available on the device.</span></span> <span data-ttu-id="f5c99-127">Il est également important de l’événement CapturingChanged quand votre application est suspendue annuler l’inscription, sinon MRC peut passer à un état bloqué.</span><span class="sxs-lookup"><span data-stu-id="f5c99-127">It's also important to de-register the CapturingChanged event when your app is suspended, otherwise MRC can get into a blocked state.</span></span>

### <a name="best-practices-hololens-specific"></a><span data-ttu-id="f5c99-128">Meilleures pratiques (HoloLens spécifique)</span><span class="sxs-lookup"><span data-stu-id="f5c99-128">Best practices (HoloLens-specific)</span></span>

<span data-ttu-id="f5c99-129">Cette option est censée fonctionner sans travail supplémentaire des développeurs, mais il existe quelques éléments à connaître pour fournir une expérience mieux la réalité mixte capture de votre application.</span><span class="sxs-lookup"><span data-stu-id="f5c99-129">MRC is expected to work without additional work from developers, but there are a few things to be aware of to provide the best mixed reality capture experience of your app.</span></span>

<span data-ttu-id="f5c99-130">**MRC utilise le canal alpha de l’hologramme pour fusionner avec le [caméra](locatable-camera.md) IMAGERIE**</span><span class="sxs-lookup"><span data-stu-id="f5c99-130">**MRC uses the hologram’s alpha channel to blend with the [camera](locatable-camera.md) imagery**</span></span>

<span data-ttu-id="f5c99-131">L’étape la plus importante est de s’assurer que les traces en vidant le noir transparent au lieu d’effacement sur noir opaque à votre application.</span><span class="sxs-lookup"><span data-stu-id="f5c99-131">The most important step is to make sure your app is clearing to transparent black instead of clearing to opaque black.</span></span> <span data-ttu-id="f5c99-132">Dans Unity, cela s’effectue par défaut avec le MixedRealityToolkit, mais si vous développez dans non Unity, vous devrez peut-être modifier un ligne par ligne.</span><span class="sxs-lookup"><span data-stu-id="f5c99-132">In Unity, this is done by default with the MixedRealityToolkit but if you are developing in non-Unity, you may need to make a one line change.</span></span>

<span data-ttu-id="f5c99-133">Voici les artefacts que vous pouvez voir dans cette option si votre application n’est pas effacer le noir transparent à :</span><span class="sxs-lookup"><span data-stu-id="f5c99-133">Here are some of the artifacts you might see in MRC if your app is not clearing to transparent black:</span></span>

<span data-ttu-id="f5c99-134">**Échecs de l’exemple**: Noir bords autour du contenu (le basculement effacer le noir transparent à)</span><span class="sxs-lookup"><span data-stu-id="f5c99-134">**Example Failures**: Black edges around the content (failing to clear to transparent black)</span></span>

<table>
<tr>
<td>
<img src="images/chessboardblackedges-300px.jpg" alt="Failing to clear to transparent black: black edge artifacts around holograms"/>
</td>
<td>
<img src="images/fieldblackedges-300px.jpg" alt="Failing to clear to transparent black: black edge artifacts around holograms"/>
</td>
</tr>
</table>

<span data-ttu-id="f5c99-135">**Échecs de l’exemple**: La scène de l’ensemble de l’arrière-plan de l’hologramme s’affiche en noire.</span><span class="sxs-lookup"><span data-stu-id="f5c99-135">**Example Failures**: The entire background scene of the hologram appears black.</span></span> <span data-ttu-id="f5c99-136">La valeur alpha d’arrière-plan 1 résultats dans un arrière-plan noir</span><span class="sxs-lookup"><span data-stu-id="f5c99-136">Setting a background alpha value of 1 results in a black background</span></span>

![La valeur alpha d’arrière-plan 1 résultats dans un arrière-plan noir](images/clearopaqueblack-300px.png)

<span data-ttu-id="f5c99-138">**Résultat attendu**: Hologrammes apparaissent correctement combinées avec le monde réel (résultat attendu si l’effacement à noir transparent)</span><span class="sxs-lookup"><span data-stu-id="f5c99-138">**Expected Result**: Holograms appear properly blended with the real-world (expected result if clearing to transparent black)</span></span>

![Résultat attendu si l’effacement à noir transparent](images/cleartransparentblack-300px.png)

<span data-ttu-id="f5c99-140">**Solution** :</span><span class="sxs-lookup"><span data-stu-id="f5c99-140">**Solution**:</span></span>
* <span data-ttu-id="f5c99-141">Modifiez le contenu qui ne s’affiche en noir opaque pour avoir une valeur alpha de 0.</span><span class="sxs-lookup"><span data-stu-id="f5c99-141">Change any content that is showing up as opaque black to have an alpha value of 0.</span></span>
* <span data-ttu-id="f5c99-142">Assurez-vous que l’application en vidant le noir transparent à.</span><span class="sxs-lookup"><span data-stu-id="f5c99-142">Ensure that the app is clearing to transparent black.</span></span>
* <span data-ttu-id="f5c99-143">Valeurs par défaut de Unity pour effacer pour effacer automatiquement avec le MixedRealityToolkit, mais si elle est une application non Unity que vous devez modifier la couleur utilisée avec ID3D11DeiceContext::ClearRenderTargetView().</span><span class="sxs-lookup"><span data-stu-id="f5c99-143">Unity defaults to clear to clear automatically with the MixedRealityToolkit, but if it’s a non-Unity app you should modify the color used with ID3D11DeiceContext::ClearRenderTargetView().</span></span> <span data-ttu-id="f5c99-144">Vous souhaitez garantir que vous désactivez à noir transparent (0,0,0,0) au lieu de noir opaque (0,0,0,1).</span><span class="sxs-lookup"><span data-stu-id="f5c99-144">You want to ensure you clear to transparent black (0,0,0,0) instead of opaque black (0,0,0,1).</span></span>

<span data-ttu-id="f5c99-145">Vous pouvez désormais paramétrer les valeurs alphabétiques de vos ressources si vous souhaitez, mais en général, n’avez pas besoin.</span><span class="sxs-lookup"><span data-stu-id="f5c99-145">You can now tune the alpha values of your assets if you’d like, but typically don’t need to.</span></span> <span data-ttu-id="f5c99-146">La plupart du temps, les CMR apparaîtront correctement prêts à l’emploi.</span><span class="sxs-lookup"><span data-stu-id="f5c99-146">Most of the time, MRCs will look good out of the box.</span></span> <span data-ttu-id="f5c99-147">Cette option suppose alpha prémultiplié.</span><span class="sxs-lookup"><span data-stu-id="f5c99-147">MRC assumes pre-multiplied alpha.</span></span> <span data-ttu-id="f5c99-148">Les valeurs alphabétiques n’affectent que la capture de cette option.</span><span class="sxs-lookup"><span data-stu-id="f5c99-148">The alpha values will only affect the MRC capture.</span></span>

### <a name="what-to-expect-when-mrc-is-enabled-on-hololens"></a><span data-ttu-id="f5c99-149">À quoi s’attendre lorsque cette option est activée sur HoloLens</span><span class="sxs-lookup"><span data-stu-id="f5c99-149">What to expect when MRC is enabled on HoloLens</span></span>

<span data-ttu-id="f5c99-150">Les éléments suivants s’appliquent aux HoloLens (première génération) et 2 HoloLens, sauf indication contraire :</span><span class="sxs-lookup"><span data-stu-id="f5c99-150">The following apply to both HoloLens (first-generation) and HoloLens 2, unless otherwise noted:</span></span>

* <span data-ttu-id="f5c99-151">Le système limite l’application au rendu de 30Hz.</span><span class="sxs-lookup"><span data-stu-id="f5c99-151">The system will throttle the application to 30Hz rendering.</span></span> <span data-ttu-id="f5c99-152">Cette opération crée pour cette option exécuter afin de l’application n’a pas besoin de conserver une réserve de budget constante certains accueillir et correspond également à la fréquence d’images vidéo enregistrement MRC de 30 i/s</span><span class="sxs-lookup"><span data-stu-id="f5c99-152">This creates some headroom for MRC to run so the app doesn’t need to keep a constant budget reserve and also matches the MRC video record framerate of 30fps</span></span>
* <span data-ttu-id="f5c99-153">HOLOGRAMME contenu dans les yeux de droite de l’appareil peut apparaître « sparkle » lors de l’enregistrement/la diffusion en continu MRC : texte peut devenir plus difficile à lire et les bords hologramme peuvent apparaître plus dentelés (désactivation de caméra 3e restituer sur **HoloLens 2** évite Ce compromis)</span><span class="sxs-lookup"><span data-stu-id="f5c99-153">Hologram content in the right eye of the device may appear to “sparkle” when recording/streaming MRC: text may become more difficult to read and hologram edges may appear more jaggy (opting-in to 3rd camera render on **HoloLens 2** avoids this compromise)</span></span>
* <span data-ttu-id="f5c99-154">MRC photos et vidéos respecte l’application [concentrer point](focus-point-in-unity.md) si l’application a activé, ce qui permet de s’assurer hologrammes sont positionnés avec précision.</span><span class="sxs-lookup"><span data-stu-id="f5c99-154">MRC photos and videos will respect the application’s [focus point](focus-point-in-unity.md) if the application has enabled it, which will help ensure holograms are accurately positioned.</span></span> <span data-ttu-id="f5c99-155">Pour les vidéos, le Point de Focus est lissé donc vntana peut sembler lente dérive en place si la profondeur de Point de Focus change de façon significative.</span><span class="sxs-lookup"><span data-stu-id="f5c99-155">For videos, the Focus Point is smoothed so holograms may appear to slowly drift into place if the Focus Point depth changes significantly.</span></span> <span data-ttu-id="f5c99-156">Hologrammes situés à des profondeurs différents à partir du point de focus peuvent s’afficher décalage dans le monde réel (voir l’exemple ci-dessous où le Point de Focus est défini à 2 mètres mais hologramme est positionné sur 1 mètre).</span><span class="sxs-lookup"><span data-stu-id="f5c99-156">Holograms that are at different depths from the focus point may appear offset from the real world (see example below where Focus Point is set at 2 meters but hologram is positioned at 1 meter).</span></span>

![Hologrammes à 2 mètres apparaîtra parfaitement inscrits au monde.](images/hologramaccuracydistancemrc-1000px.png)

## <a name="integrating-mrc-functionality-from-within-your-app"></a><span data-ttu-id="f5c99-159">L’intégration de fonctionnalités MRC à partir de votre application</span><span class="sxs-lookup"><span data-stu-id="f5c99-159">Integrating MRC functionality from within your app</span></span>

<span data-ttu-id="f5c99-160">Votre application de réalité mixte peut initier des photos MRC ou capture vidéo à partir de l’application, et le contenu capturé est accessible à votre application sans être stockées à le d’appareil « pellicule. »</span><span class="sxs-lookup"><span data-stu-id="f5c99-160">Your mixed reality app can initiate MRC photo or video capture from within the app, and the content captured is made available to your app without being stored to the device's "Camera roll."</span></span> <span data-ttu-id="f5c99-161">Vous pouvez créer un enregistreur MRC personnalisé ou tirer parti de l’interface utilisateur de capture photo intégré.</span><span class="sxs-lookup"><span data-stu-id="f5c99-161">You can create a custom MRC recorder or take advantage of built-in camera capture UI.</span></span> 

### <a name="mrc-with-built-in-camera-ui"></a><span data-ttu-id="f5c99-162">OPTION avec l’interface utilisateur de photo intégré</span><span class="sxs-lookup"><span data-stu-id="f5c99-162">MRC with built-in camera UI</span></span>

<span data-ttu-id="f5c99-163">Les développeurs peuvent utiliser le *[API de l’interface utilisateur de Capture photo](https://docs.microsoft.com/windows/uwp/audio-video-camera/capture-photos-and-video-with-cameracaptureui)* pour obtenir une photo de l’utilisateur capturées de réalité mixte ou une vidéo avec seulement quelques lignes de code.</span><span class="sxs-lookup"><span data-stu-id="f5c99-163">Developers can use the *[Camera Capture UI API](https://docs.microsoft.com/windows/uwp/audio-video-camera/capture-photos-and-video-with-cameracaptureui)* to get a user-captured mixed reality photo or video with just a few lines of code.</span></span>

<span data-ttu-id="f5c99-164">Cette API lance la caméra MRC intégrée l’interface utilisateur, à partir duquel l’utilisateur peut prendre une photo ou vidéo et renvoie la capture résultant à votre application.</span><span class="sxs-lookup"><span data-stu-id="f5c99-164">This API launches the built-in MRC camera UI, from which the user can take a photo or video, and returns the resulting capture to your app.</span></span>  <span data-ttu-id="f5c99-165">Si vous souhaitez créer votre propre interface utilisateur de la caméra, ou avez besoin de bas niveau accès au flux de capture, vous pouvez créer un enregistreur de capturer de réalité mixte personnalisé.</span><span class="sxs-lookup"><span data-stu-id="f5c99-165">If you want to create your own camera UI, or need lower-level access to the capture stream, you can create a custom Mixed Reality Capture recorder.</span></span>

### <a name="creating-a-custom-mrc-recorder"></a><span data-ttu-id="f5c99-166">Création d’un enregistreur MRC personnalisé</span><span class="sxs-lookup"><span data-stu-id="f5c99-166">Creating a custom MRC recorder</span></span>

<span data-ttu-id="f5c99-167">Bien que l’utilisateur a toujours peut déclencher une photo ou vidéo à l’aide du système MRC du service de capture, une application peut souhaiter créer une application de caméra personnalisé, mais inclure hologrammes dans le flux de caméra à l’instar des MRC.</span><span class="sxs-lookup"><span data-stu-id="f5c99-167">While the user can always trigger a photo or video using the system MRC capture service, an application may want to build a custom camera app but include holograms in the camera stream just like MRC.</span></span> <span data-ttu-id="f5c99-168">Cela permet à l’application à lancer des captures de part de l’utilisateur, créer un enregistrement personnalisé l’interface utilisateur ou personnaliser les paramètres de cette option pour citer que quelques-uns.</span><span class="sxs-lookup"><span data-stu-id="f5c99-168">This allows the application to kick off captures on behalf of the user, build custom recording UI, or customize MRC settings to name a few examples.</span></span>

<span data-ttu-id="f5c99-169">**HoloStudio ajoute une caméra MRC personnalisée à l’aide d’effets MRC**</span><span class="sxs-lookup"><span data-stu-id="f5c99-169">**HoloStudio adds a custom MRC camera using MRC effects**</span></span>

![HoloStudio ajoute une caméra MRC personnalisée à l’aide d’effets MRC](images/cameraiconholostudio-300px.jpg)

<span data-ttu-id="f5c99-171">Les Applications Unity devrait [Locatable_camera_in_Unity](locatable-camera-in-unity.md) pour la propriété pour activer hologrammes.</span><span class="sxs-lookup"><span data-stu-id="f5c99-171">Unity Applications should see [Locatable_camera_in_Unity](locatable-camera-in-unity.md) for the property to enable holograms.</span></span>

<span data-ttu-id="f5c99-172">Autres applications peuvent le faire à l’aide de la [API de Capture de média Windows](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediacapture.aspx) pour contrôler l’appareil photo et ajouter un effet Audio et vidéo de cette option pour inclure les hologrammes virtuels et les applications audio dans des vidéos et des images fixes.</span><span class="sxs-lookup"><span data-stu-id="f5c99-172">Other applications can do this by using the [Windows Media Capture APIs](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediacapture.aspx) to control the Camera and add an MRC Video and Audio effect to include virtual holograms and application audio in stills and videos.</span></span>

<span data-ttu-id="f5c99-173">Applications ont deux options pour ajouter l’effet :</span><span class="sxs-lookup"><span data-stu-id="f5c99-173">Applications have two options to add the effect:</span></span>
* <span data-ttu-id="f5c99-174">L’ancienne API : [Windows.Media.Capture.MediaCapture.AddEffectAsync()](https://msdn.microsoft.com/library/windows/apps/br211961.aspx)</span><span class="sxs-lookup"><span data-stu-id="f5c99-174">The older API: [Windows.Media.Capture.MediaCapture.AddEffectAsync()](https://msdn.microsoft.com/library/windows/apps/br211961.aspx)</span></span>
* <span data-ttu-id="f5c99-175">Le nouveau Microsoft recommandé API (retourne un objet, ce qui permet de manipuler les propriétés dynamiques) : [Windows.Media.Capture.MediaCapture.AddVideoEffectAsync()](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediacapture.addvideoeffectasync.aspx) / [Windows.Media.Capture.MediaCapture.AddAudioEffectAsync()](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediacapture.addaudioeffectasync.aspx) qui nécessitent l’application créer sa propre implémentation de [IVideoEffectDefinition](https://msdn.microsoft.com/library/windows/apps/windows.media.effects.ivideoeffectdefinition.aspx) et [IAudioEffectDefinition](https://msdn.microsoft.com/library/windows/apps/windows.media.effects.iaudioeffectdefinition.aspx).</span><span class="sxs-lookup"><span data-stu-id="f5c99-175">The new Microsoft recommended API (returns an object, making it possible to manipulate dynamic properties): [Windows.Media.Capture.MediaCapture.AddVideoEffectAsync()](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediacapture.addvideoeffectasync.aspx) / [Windows.Media.Capture.MediaCapture.AddAudioEffectAsync()](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediacapture.addaudioeffectasync.aspx) which require the app create its own implementation of [IVideoEffectDefinition](https://msdn.microsoft.com/library/windows/apps/windows.media.effects.ivideoeffectdefinition.aspx) and [IAudioEffectDefinition](https://msdn.microsoft.com/library/windows/apps/windows.media.effects.iaudioeffectdefinition.aspx).</span></span> <span data-ttu-id="f5c99-176">Consultez l’exemple d’effet MRC pour des exemples d’utilisation.</span><span class="sxs-lookup"><span data-stu-id="f5c99-176">Please see the MRC effect sample for sample usage.</span></span>

<span data-ttu-id="f5c99-177">(Notez que ces espaces de noms ne sont pas reconnus par Visual Studio, mais les chaînes sont toujours valides)</span><span class="sxs-lookup"><span data-stu-id="f5c99-177">(Note that these namespaces will not be recognized by Visual Studio, but the strings are still valid)</span></span>

<span data-ttu-id="f5c99-178">Effet vidéo MRC (**Windows.Media.MixedRealityCapture.MixedRealityCaptureVideoEffect**)</span><span class="sxs-lookup"><span data-stu-id="f5c99-178">MRC Video Effect (**Windows.Media.MixedRealityCapture.MixedRealityCaptureVideoEffect**)</span></span>

|  <span data-ttu-id="f5c99-179">Nom de la propriété</span><span class="sxs-lookup"><span data-stu-id="f5c99-179">Property Name</span></span>  |  <span data-ttu-id="f5c99-180">Type</span><span class="sxs-lookup"><span data-stu-id="f5c99-180">Type</span></span>  |  <span data-ttu-id="f5c99-181">Valeur par défaut</span><span class="sxs-lookup"><span data-stu-id="f5c99-181">Default Value</span></span>  |  <span data-ttu-id="f5c99-182">Description</span><span class="sxs-lookup"><span data-stu-id="f5c99-182">Description</span></span> | 
|----------|----------|----------|----------|
|  <span data-ttu-id="f5c99-183">StreamType</span><span class="sxs-lookup"><span data-stu-id="f5c99-183">StreamType</span></span>  |  <span data-ttu-id="f5c99-184">UInt32 ([MediaStreamType](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediastreamtype.aspx))</span><span class="sxs-lookup"><span data-stu-id="f5c99-184">UINT32 ([MediaStreamType](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediastreamtype.aspx))</span></span>  |  <span data-ttu-id="f5c99-185">1 (VideoRecord)</span><span class="sxs-lookup"><span data-stu-id="f5c99-185">1 (VideoRecord)</span></span>  |  <span data-ttu-id="f5c99-186">Décrire le flux de capture cet effet est utilisé pour.</span><span class="sxs-lookup"><span data-stu-id="f5c99-186">Describe which capture stream this effect is used for.</span></span> <span data-ttu-id="f5c99-187">Audio n’est pas disponible.</span><span class="sxs-lookup"><span data-stu-id="f5c99-187">Audio is not available.</span></span> | 
|  <span data-ttu-id="f5c99-188">HologramCompositionEnabled</span><span class="sxs-lookup"><span data-stu-id="f5c99-188">HologramCompositionEnabled</span></span>  |  <span data-ttu-id="f5c99-189">booléen</span><span class="sxs-lookup"><span data-stu-id="f5c99-189">boolean</span></span>  |  <span data-ttu-id="f5c99-190">TRUE</span><span class="sxs-lookup"><span data-stu-id="f5c99-190">TRUE</span></span>  |  <span data-ttu-id="f5c99-191">Indicateur pour activer ou désactiver hologrammes dans la capture vidéo.</span><span class="sxs-lookup"><span data-stu-id="f5c99-191">Flag to enable or disable holograms in video capture.</span></span> | 
|  <span data-ttu-id="f5c99-192">RecordingIndicatorEnabled</span><span class="sxs-lookup"><span data-stu-id="f5c99-192">RecordingIndicatorEnabled</span></span>  |  <span data-ttu-id="f5c99-193">booléen</span><span class="sxs-lookup"><span data-stu-id="f5c99-193">boolean</span></span>  |  <span data-ttu-id="f5c99-194">TRUE</span><span class="sxs-lookup"><span data-stu-id="f5c99-194">TRUE</span></span>  |  <span data-ttu-id="f5c99-195">Indicateur pour activer ou désactiver l’indicateur d’enregistrement sur l’écran pendant hologramme capture.</span><span class="sxs-lookup"><span data-stu-id="f5c99-195">Flag to enable or disable recording indicator on screen during hologram capturing.</span></span> | 
|  <span data-ttu-id="f5c99-196">VideoStabilizationEnabled</span><span class="sxs-lookup"><span data-stu-id="f5c99-196">VideoStabilizationEnabled</span></span>  |  <span data-ttu-id="f5c99-197">booléen</span><span class="sxs-lookup"><span data-stu-id="f5c99-197">boolean</span></span>  |  <span data-ttu-id="f5c99-198">FALSE</span><span class="sxs-lookup"><span data-stu-id="f5c99-198">FALSE</span></span>  |  <span data-ttu-id="f5c99-199">Indicateur pour activer ou désactiver la stabilisation vidéo alimentée par le dispositif de suivi HoloLens.</span><span class="sxs-lookup"><span data-stu-id="f5c99-199">Flag to enable or disable video stabilization powered by the HoloLens tracker.</span></span> | 
|  <span data-ttu-id="f5c99-200">VideoStabilizationBufferLength</span><span class="sxs-lookup"><span data-stu-id="f5c99-200">VideoStabilizationBufferLength</span></span>  |  <span data-ttu-id="f5c99-201">UINT32</span><span class="sxs-lookup"><span data-stu-id="f5c99-201">UINT32</span></span>  |  <span data-ttu-id="f5c99-202">0</span><span class="sxs-lookup"><span data-stu-id="f5c99-202">0</span></span>  |  <span data-ttu-id="f5c99-203">Définir le nombre d’images historique est utilisé pour la stabilisation vidéo.</span><span class="sxs-lookup"><span data-stu-id="f5c99-203">Set how many historical frames are used for video stabilization.</span></span> <span data-ttu-id="f5c99-204">0 est presque « gratuite » à partir d’une perspective de puissance et de performances et de latence de 0.</span><span class="sxs-lookup"><span data-stu-id="f5c99-204">0 is 0-latency and nearly "free" from a power and performance perspective.</span></span> <span data-ttu-id="f5c99-205">15 est recommandée pour une qualité optimale (au prix de 15 images de latence et de la mémoire).</span><span class="sxs-lookup"><span data-stu-id="f5c99-205">15 is recommended for highest quality (at the cost of 15 frames of latency and memory).</span></span> | 
|  <span data-ttu-id="f5c99-206">GlobalOpacityCoefficient</span><span class="sxs-lookup"><span data-stu-id="f5c99-206">GlobalOpacityCoefficient</span></span>  |  <span data-ttu-id="f5c99-207">flottant</span><span class="sxs-lookup"><span data-stu-id="f5c99-207">float</span></span>  |  <span data-ttu-id="f5c99-208">0.9 (HoloLens) 1.0 (casque immersif)</span><span class="sxs-lookup"><span data-stu-id="f5c99-208">0.9 (HoloLens) 1.0 (Immersive headset)</span></span>  |  <span data-ttu-id="f5c99-209">La valeur coefficient opacité global de hologramme dans la plage comprise entre 0.0 (complètement transparent) 1.0 (entièrement opaque).</span><span class="sxs-lookup"><span data-stu-id="f5c99-209">Set global opacity coefficient of hologram in range from 0.0 (fully transparent) to 1.0 (fully opaque).</span></span> | 
|  <span data-ttu-id="f5c99-210">BlankOnProtectedContent</span><span class="sxs-lookup"><span data-stu-id="f5c99-210">BlankOnProtectedContent</span></span>  |  <span data-ttu-id="f5c99-211">booléen</span><span class="sxs-lookup"><span data-stu-id="f5c99-211">boolean</span></span>  |  <span data-ttu-id="f5c99-212">FALSE</span><span class="sxs-lookup"><span data-stu-id="f5c99-212">FALSE</span></span>  |  <span data-ttu-id="f5c99-213">Indicateur pour activer ou désactiver le retour un cadre vide s’il existe un contenu d’affichage d’application UWP protégé 2d.</span><span class="sxs-lookup"><span data-stu-id="f5c99-213">Flag to enable or disable returning an empty frame if there is a 2d UWP app showing protected content.</span></span> <span data-ttu-id="f5c99-214">Si cet indicateur a la valeur false et un 2d application UWP est montrant protégé le contenu, que l’application UWP 2d sera remplacée par une texture de contenu protégée dans les deux le casque et dans la capture de réalité mixte.</span><span class="sxs-lookup"><span data-stu-id="f5c99-214">If this flag is false and a 2d UWP app is showing protected content, the 2d UWP app will be replaced by a protected content texture in both the headset and in the mixed reality capture.</span></span> |
|  <span data-ttu-id="f5c99-215">ShowHiddenMesh</span><span class="sxs-lookup"><span data-stu-id="f5c99-215">ShowHiddenMesh</span></span>  |  <span data-ttu-id="f5c99-216">booléen</span><span class="sxs-lookup"><span data-stu-id="f5c99-216">boolean</span></span>  |  <span data-ttu-id="f5c99-217">FALSE</span><span class="sxs-lookup"><span data-stu-id="f5c99-217">FALSE</span></span>  |  <span data-ttu-id="f5c99-218">Indicateur pour activer ou désactiver montrant la maille de zone masquée de la caméra holographique et voisines de contenu.</span><span class="sxs-lookup"><span data-stu-id="f5c99-218">Flag to enable or disable showing the holographic camera's hidden area mesh and neighboring content.</span></span> |

<span data-ttu-id="f5c99-219">Effet Audio MRC (**Windows.Media.MixedRealityCapture.MixedRealityCaptureAudioEffect**)</span><span class="sxs-lookup"><span data-stu-id="f5c99-219">MRC Audio Effect (**Windows.Media.MixedRealityCapture.MixedRealityCaptureAudioEffect**)</span></span>

<table>
<tr>
<th><span data-ttu-id="f5c99-220">Nom de la propriété</span><span class="sxs-lookup"><span data-stu-id="f5c99-220">Property Name</span></span></th>
<th><span data-ttu-id="f5c99-221">Type</span><span class="sxs-lookup"><span data-stu-id="f5c99-221">Type</span></span></th>
<th><span data-ttu-id="f5c99-222">Valeur par défaut</span><span class="sxs-lookup"><span data-stu-id="f5c99-222">Default Value</span></span></th>
<th><span data-ttu-id="f5c99-223">Description</span><span class="sxs-lookup"><span data-stu-id="f5c99-223">Description</span></span></th>
</tr>
<tr>
<td><span data-ttu-id="f5c99-224">MixerMode</span><span class="sxs-lookup"><span data-stu-id="f5c99-224">MixerMode</span></span></td>
<td><span data-ttu-id="f5c99-225">UINT32</span><span class="sxs-lookup"><span data-stu-id="f5c99-225">UINT32</span></span></td>
<td><span data-ttu-id="f5c99-226">2</span><span class="sxs-lookup"><span data-stu-id="f5c99-226">2</span></span></td>
<td>
<ul>
<li><span data-ttu-id="f5c99-227">0 : Uniquement des données audio mic</span><span class="sxs-lookup"><span data-stu-id="f5c99-227">0 : Mic audio only</span></span></li>
<li><span data-ttu-id="f5c99-228">1 : Audio système uniquement</span><span class="sxs-lookup"><span data-stu-id="f5c99-228">1 : System audio only</span></span></li>
<li><span data-ttu-id="f5c99-229">2 : MIC et l’audio système</span><span class="sxs-lookup"><span data-stu-id="f5c99-229">2 : Mic and System audio</span></span></li>
</ul>
</td>
</tr>
</table>

### <a name="simultaneous-mrc-limitations"></a><span data-ttu-id="f5c99-230">Limitations de MRC simultanées</span><span class="sxs-lookup"><span data-stu-id="f5c99-230">Simultaneous MRC limitations</span></span>

<span data-ttu-id="f5c99-231">Il existe certaines limitations autour de plusieurs applications l’accès à cette option en même temps.</span><span class="sxs-lookup"><span data-stu-id="f5c99-231">There are certain limitations around multiple apps accessing MRC at the same time.</span></span>

#### <a name="photovideo-camera-access"></a><span data-ttu-id="f5c99-232">Accès à la caméra vidéo/photo</span><span class="sxs-lookup"><span data-stu-id="f5c99-232">Photo/video camera access</span></span>

<span data-ttu-id="f5c99-233">La caméra vidéo/photo est limitée au nombre de processus qui peuvent y accéder en même temps.</span><span class="sxs-lookup"><span data-stu-id="f5c99-233">The photo/video camera is limited to the number of processes that can access it at the same time.</span></span> <span data-ttu-id="f5c99-234">Pendant un processus est d’enregistrement vidéo ou prendre une photo à un autre processus ne pourra pas acquérir de la caméra vidéo/photo.</span><span class="sxs-lookup"><span data-stu-id="f5c99-234">While a process is recording video or taking a photo any other process will fail to acquire the photo/video camera.</span></span> <span data-ttu-id="f5c99-235">(cela s’applique à la Capture de réalité mixte et de capture de photo/vidéo standard)</span><span class="sxs-lookup"><span data-stu-id="f5c99-235">(this applies to both Mixed Reality Capture and standard photo/video capture)</span></span>

<span data-ttu-id="f5c99-236">Avec Windows 10 avril 2018 mise à jour, cette restriction ne s’applique pas si l’appareil photo intégré de MRC l’interface utilisateur est utilisé pour prendre une photo ou une vidéo une fois une application a démarré à l’aide de la caméra vidéo/photo.</span><span class="sxs-lookup"><span data-stu-id="f5c99-236">With the Windows 10 April 2018 Update, this restriction does not apply if the built-in MRC camera UI is used to take a photo or a video after an app has started using the photo/video camera.</span></span> <span data-ttu-id="f5c99-237">Dans ce cas, la résolution et la fréquence d’images de l’appareil photo intégré de MRC l’interface utilisateur peuvent être réduites à partir de ses valeurs normales.</span><span class="sxs-lookup"><span data-stu-id="f5c99-237">When this happens, the resolution and framerate of the built-in MRC camera UI might be reduced from its normal values.</span></span>

<span data-ttu-id="f5c99-238">Avec Windows 10 octobre 2018 mise à jour, cette restriction ne s’applique pas à la diffusion MRC via Miracast.</span><span class="sxs-lookup"><span data-stu-id="f5c99-238">With the Windows 10 October 2018 Update, this restriction does not apply to streaming MRC over Miracast.</span></span>

#### <a name="mrc-access"></a><span data-ttu-id="f5c99-239">Accès MRC</span><span class="sxs-lookup"><span data-stu-id="f5c99-239">MRC access</span></span>

<span data-ttu-id="f5c99-240">Avec Windows 10 avril 2018 mise à jour, il n’est plus une limitation autour de plusieurs applications l’accès aux flux MRC (Toutefois, l’accès à la caméra vidéo/photo a toujours limitations).</span><span class="sxs-lookup"><span data-stu-id="f5c99-240">With the Windows 10 April 2018 Update, there is no longer a limitation around multiple apps accessing the MRC stream (however, the access to the photo/video camera still has limitations).</span></span>

<span data-ttu-id="f5c99-241">Précédent pour le 10 avril 2018 de Windows mise à jour, d’enregistreur MRC personnalisé d’une application a été mutuellement avec système MRC (capture de photos, vidéos de capture ou de diffusion en continu à partir de la Windows Device Portal).</span><span class="sxs-lookup"><span data-stu-id="f5c99-241">Previous to the Windows 10 April 2018 Update, an app's custom MRC recorder was mutually exclusive with system MRC (capturing photos, capturing videos, or streaming from the Windows Device Portal).</span></span>

## <a name="see-also"></a><span data-ttu-id="f5c99-242">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="f5c99-242">See also</span></span>
* [<span data-ttu-id="f5c99-243">Capture de réalité mixte</span><span class="sxs-lookup"><span data-stu-id="f5c99-243">Mixed reality capture</span></span>](mixed-reality-capture.md)
* [<span data-ttu-id="f5c99-244">Vue du spectateur</span><span class="sxs-lookup"><span data-stu-id="f5c99-244">Spectator view</span></span>](spectator-view.md)
