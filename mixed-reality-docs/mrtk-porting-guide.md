---
title: Préparation d’une application pour HoloLens 2
description: S’adresse aux développeurs qui disposent déjà d’une application HoloLens (1ère génération) et/ou d’une ancienne version de MRTK, et qui souhaitent effectuer le portage de MRTK version 2 vers HoloLens 2.
author: grbury
ms.author: grbury
ms.date: 04/12/19
ms.topic: article
ms.localizationpriority: high
keywords: Windows Mixed Reality, test, MRTK, MRTK version 2, HoloLens 2
ms.openlocfilehash: 02dabd21b7a6add2ce53fe291a447e49057184d0
ms.sourcegitcommit: f20beea6a539d04e1d1fc98116f7601137eebebe
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/05/2019
ms.locfileid: "66270392"
---
# <a name="getting-your-existing-app-ready-for-hololens-2"></a><span data-ttu-id="0a48f-104">Préparation d’une application existante pour HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="0a48f-104">Getting your existing app ready for HoloLens 2</span></span>

<span data-ttu-id="0a48f-105">Ce guide a été spécialement conçu pour aider les développeurs qui disposent d’une application Unity pour HoloLens (1ère génération) à effectuer le portage de leur application vers le nouvel appareil HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="0a48f-105">This guide is specifically tailored to help developers who have an existing Unity app for HoloLens (1st gen) to port their application for the new HoloLens 2 device.</span></span> <span data-ttu-id="0a48f-106">Le portage d’une application Unity pour HoloLens (1ère génération) vers HoloLens 2 comprend quatre étapes clés.</span><span class="sxs-lookup"><span data-stu-id="0a48f-106">There are four key steps to porting a HoloLens (1st gen) Unity app to HoloLens 2.</span></span> <span data-ttu-id="0a48f-107">Les sections ci-dessous expliquent en détail chacune de ces étapes.</span><span class="sxs-lookup"><span data-stu-id="0a48f-107">The sections below will detail information for each stage.</span></span> 

| <span data-ttu-id="0a48f-108">Étape 1</span><span class="sxs-lookup"><span data-stu-id="0a48f-108">Step 1</span></span> | <span data-ttu-id="0a48f-109">Étape 2</span><span class="sxs-lookup"><span data-stu-id="0a48f-109">Step 2</span></span> | <span data-ttu-id="0a48f-110">Étape 3</span><span class="sxs-lookup"><span data-stu-id="0a48f-110">Step 3</span></span> | <span data-ttu-id="0a48f-111">Étape 4</span><span class="sxs-lookup"><span data-stu-id="0a48f-111">Step 4</span></span> |
|----------|-------------------|-------------------|-------------------|
| ![Logo Visual Studio](images/visualstudio_logo.png) | ![Logo Unity](images/unity_logo.png)| ![Icône Unity](images/hololens2_icon.jpg) | ![Logo MRTK](images/MRTKIcon.jpg) |
| <span data-ttu-id="0a48f-116">Télécharger les derniers outils</span><span class="sxs-lookup"><span data-stu-id="0a48f-116">Download latest tools</span></span> | <span data-ttu-id="0a48f-117">Mettre à jour un projet Unity</span><span class="sxs-lookup"><span data-stu-id="0a48f-117">Update Unity Project</span></span> | <span data-ttu-id="0a48f-118">Compiler pour ARM</span><span class="sxs-lookup"><span data-stu-id="0a48f-118">Compile for ARM</span></span> | <span data-ttu-id="0a48f-119">Effectuer une migration vers MRTK v2</span><span class="sxs-lookup"><span data-stu-id="0a48f-119">Migrate to MRTK v2</span></span>

<span data-ttu-id="0a48f-120">Avant de démarrer le processus de portage, il est **vivement recommandé** aux développeurs d’utiliser le contrôle de code source afin d’enregistrer un instantané de l’état d’origine de leur application.</span><span class="sxs-lookup"><span data-stu-id="0a48f-120">It is **highly recommended** that, before beginning the porting process, developers utilize source control to save a snapshot of the original state of their app.</span></span> <span data-ttu-id="0a48f-121">En outre, il est recommandé d’*enregistrer* les états des points de contrôle à différents stades du processus.</span><span class="sxs-lookup"><span data-stu-id="0a48f-121">Additionally, it is recommended to *save* checkpoint states at various points during the process.</span></span> <span data-ttu-id="0a48f-122">Le fait de disposer d’une autre instance Unity de l’application d’origine peut vous être très utile, car cela vous permet d’effectuer une comparaison côte à côte au cours du processus de portage.</span><span class="sxs-lookup"><span data-stu-id="0a48f-122">It can also be very helpful to have another Unity instance of the original app to allow for side-by-side comparison during the port process.</span></span> 

> [!NOTE]
> <span data-ttu-id="0a48f-123">Avant d’effectuer le portage, vérifiez que vous avez installé les derniers outils de développement Windows Mixed Reality.</span><span class="sxs-lookup"><span data-stu-id="0a48f-123">Before porting, ensure you have the latest tools installed for Windows Mixed Reality development.</span></span> <span data-ttu-id="0a48f-124">Pour la plupart des développeurs HoloLens, il s’agira principalement d’effectuer une mise à jour vers la dernière version de Visual Studio 2017 et d’installer le SDK Windows correspondant.</span><span class="sxs-lookup"><span data-stu-id="0a48f-124">For most existing HoloLens developers, this will primarily involve updating to the latest Visual Studio 2017 and installing the appropriate Windows SDK.</span></span> <span data-ttu-id="0a48f-125">Le contenu ci-dessous offre une présentation détaillée des différentes versions de Unity et de MRTK version 2.</span><span class="sxs-lookup"><span data-stu-id="0a48f-125">The content below will dive further into different Unity versions and the Mixed Reality Toolkit version 2.</span></span>
>
> <span data-ttu-id="0a48f-126">Pour plus d’informations, consultez [Installer les outils](install-the-tools.md).</span><span class="sxs-lookup"><span data-stu-id="0a48f-126">For more information, please see [Install the tools](install-the-tools.md).</span></span>

## <a name="migrate-project-to-latest-version-of-unity"></a><span data-ttu-id="0a48f-127">Effectuer la migration d’un projet vers la dernière version de Unity</span><span class="sxs-lookup"><span data-stu-id="0a48f-127">Migrate project to latest version of Unity</span></span>

<span data-ttu-id="0a48f-128">Si vous utilisez MRTK v2, Unity 2018 LTS sera le chemin de prise en charge le mieux adapté dans le long terme, car il ne nécessite aucune modification importante dans Unity ou MRTK.</span><span class="sxs-lookup"><span data-stu-id="0a48f-128">If using the MRTK v2, then Unity 2018 LTS will be the best long-term support path with no breaking changes in Unity or in MRTK.</span></span>  <span data-ttu-id="0a48f-129">Selon la section « Installer les outils » mentionnée plus haut, la build Unity recommandée est la build 2018.3, qui deviendra la version LTS pour Unity 2018.</span><span class="sxs-lookup"><span data-stu-id="0a48f-129">The recommended Unity build, per the above "install the tools" is Unity 2018.3, which will become the LTS release for Unity 2018.</span></span>  <span data-ttu-id="0a48f-130">En outre, MRTK v2 garantit la prise en charge de Unity 2018 LTS, mais pas nécessairement celle de chaque itération de Unity 2019.x.</span><span class="sxs-lookup"><span data-stu-id="0a48f-130">Further, the MRTK v2 will always guarantee support for Unity 2018 LTS but not necessarily guarantee support for every iteration of Unity 2019.x.</span></span> 

<span data-ttu-id="0a48f-131">Vous trouverez ci-dessous la liste des différences entre Unity 2018.3.x et Unity 2019.1.x, la principale étant la capacité d’Unity 2019 à compiler pour ARM64.</span><span class="sxs-lookup"><span data-stu-id="0a48f-131">To help clarify additional differences between Unity 2018.3.x or Unity 2019.1.x, below outlines the trade-offs between these two versions, with the primary difference of significance being the ability to compile for ARM64 in Unity 2019.</span></span> 

<span data-ttu-id="0a48f-132">Les développeurs doivent évaluer les [dépendances de plug-ins](https://docs.unity3d.com/Manual/Plugins.html) de leur projet afin de déterminer si ces DLL peuvent être créées pour ARM64.</span><span class="sxs-lookup"><span data-stu-id="0a48f-132">Developers should assess any [plugin dependencies](https://docs.unity3d.com/Manual/Plugins.html) that currently exist in their project and whether or not these DLLs can be built for ARM64.</span></span> <span data-ttu-id="0a48f-133">Si un plug-in avec dépendance dure ne peut pas être créé pour ARM64, vous devrez utiliser Unity 2018 LTS.</span><span class="sxs-lookup"><span data-stu-id="0a48f-133">If a hard dependency plugin cannot be built for ARM64, then one will have to utilize Unity 2018 LTS.</span></span>


| <span data-ttu-id="0a48f-134">Unity 2018.3.x</span><span class="sxs-lookup"><span data-stu-id="0a48f-134">Unity 2018.3.x</span></span> | <span data-ttu-id="0a48f-135">Unity 2019.1+</span><span class="sxs-lookup"><span data-stu-id="0a48f-135">Unity 2019.1+</span></span> |
|----------|-------------------|
| <span data-ttu-id="0a48f-136">Prise en charge de la build ARM32</span><span class="sxs-lookup"><span data-stu-id="0a48f-136">ARM32 build support</span></span> | <span data-ttu-id="0a48f-137">Prise en charge des builds ARM32 et ARM64</span><span class="sxs-lookup"><span data-stu-id="0a48f-137">ARM32 and ARM64 build support</span></span> |
| <span data-ttu-id="0a48f-138">Build LTS stable</span><span class="sxs-lookup"><span data-stu-id="0a48f-138">Stable LTS build release</span></span> | <span data-ttu-id="0a48f-139">Stabilité de la version bêta</span><span class="sxs-lookup"><span data-stu-id="0a48f-139">Beta stability</span></span> |
| <span data-ttu-id="0a48f-140">[Back-end d’écriture de scripts .NET](https://docs.unity3d.com/Manual/windowsstore-dotnet.html) *déprécié*</span><span class="sxs-lookup"><span data-stu-id="0a48f-140">[.NET Scripting back-end](https://docs.unity3d.com/Manual/windowsstore-dotnet.html) *deprecated*</span></span> | <span data-ttu-id="0a48f-141">[Back-end d’écriture de scripts .NET](https://docs.unity3d.com/Manual/windowsstore-dotnet.html) *supprimé*</span><span class="sxs-lookup"><span data-stu-id="0a48f-141">[.NET Scripting back-end](https://docs.unity3d.com/Manual/windowsstore-dotnet.html) *removed*</span></span> |
| <span data-ttu-id="0a48f-142">Réseau UNet *déprécié*</span><span class="sxs-lookup"><span data-stu-id="0a48f-142">UNET Networking *deprecated*</span></span> | <span data-ttu-id="0a48f-143">Réseaux UNet *supprimé*</span><span class="sxs-lookup"><span data-stu-id="0a48f-143">UNET Networking *removed*</span></span> |

## <a name="update-sceneproject-settings-in-unity"></a><span data-ttu-id="0a48f-144">Mettre à jour les paramètres de scène et de projet dans Unity</span><span class="sxs-lookup"><span data-stu-id="0a48f-144">Update scene/project settings in Unity</span></span>

<span data-ttu-id="0a48f-145">Après la mise à jour vers Unity 2018.3.x ou Unity 2019+, il est recommandé de mettre à jour certains paramètres Unity pour des résultats optimaux sur l’appareil.</span><span class="sxs-lookup"><span data-stu-id="0a48f-145">After updating to Unity 2018.3.x or Unity 2019+, it is recommended to update particular settings in Unity for optimal results on device.</span></span> <span data-ttu-id="0a48f-146">Ces paramètres sont décrits en détail sous **[Paramètres recommandés pour Unity](Recommended-settings-for-Unity.md)** .</span><span class="sxs-lookup"><span data-stu-id="0a48f-146">These settings are outlined in detail under **[Recommended settings for Unity](Recommended-settings-for-Unity.md)**.</span></span>

<span data-ttu-id="0a48f-147">Pour rappel, le [back-end d’écriture de scripts .NET](https://docs.unity3d.com/Manual/windowsstore-dotnet.html) est déprécié dans Unity 2018, et il a été *supprimé* dans Unity 2019. Les développeurs sont donc encouragés à transférer leur projet vers [IL2CPP](https://docs.unity3d.com/Manual/IL2CPP.html).</span><span class="sxs-lookup"><span data-stu-id="0a48f-147">It should be re-iterated that the [.NET Scripting back-end](https://docs.unity3d.com/Manual/windowsstore-dotnet.html) is being deprecated in Unity 2018 and *removed* in Unity 2019 and thus, developers should strongly consider switching their project over to [IL2CPP](https://docs.unity3d.com/Manual/IL2CPP.html).</span></span> 

> [!NOTE]
> <span data-ttu-id="0a48f-148">Il est possible que le back-end d’écriture de code IL2CPP entraîne des temps de génération plus longs entre Unity et Visual Studio. Les développeurs doivent donc configurer leur ordinateur de développement de manière à [optimiser les temps de génération IL2CPP](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html).</span><span class="sxs-lookup"><span data-stu-id="0a48f-148">IL2CPP scripting back-end can cause longer build times from Unity to Visual Studio and thus developers should setup their developer machine for [optimizing IL2CPP build times](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html).</span></span>
> <span data-ttu-id="0a48f-149">En outre, il peut être avantageux de configurer un [serveur de cache](https://docs.unity3d.com/Manual/CacheServer.html), en particulier pour les projets Unity qui comprennent une grande quantité de ressources (à l’exclusion des fichiers de script), et pour les scènes ou ressources qui changent constamment.</span><span class="sxs-lookup"><span data-stu-id="0a48f-149">Furthermore, it may be beneficial to setup a [Cache Server](https://docs.unity3d.com/Manual/CacheServer.html), especially for Unity projects with a large amount of assets (excluding script files) or constantly changing scenes/assets.</span></span> <span data-ttu-id="0a48f-150">Lorsque vous ouvrez un projet, Unity stocke les ressources éligibles dans un format de cache interne sur l’ordinateur de développement.</span><span class="sxs-lookup"><span data-stu-id="0a48f-150">When opening a project, Unity stores qualifying assets into an internal cache format on the developer machine.</span></span> <span data-ttu-id="0a48f-151">Les éléments doivent être réimportés, et donc retraités, après modification.</span><span class="sxs-lookup"><span data-stu-id="0a48f-151">Items must be re-imported and thus re-processed when modified.</span></span> <span data-ttu-id="0a48f-152">Ce processus peut être effectué une fois puis enregistré dans un serveur de cache. Pour gagner du temps, vous pouvez le partager avec les autres développeurs, plutôt que de demander à chaque développeur de réimporter localement les éléments modifiés.</span><span class="sxs-lookup"><span data-stu-id="0a48f-152">This process can be done once and saved in a Cache Server and consequently shared with other developers to save time, instead of every developer processing the re-import of new changes locally.</span></span>

<span data-ttu-id="0a48f-153">Une fois qu’ils ont pris en compte les changements importants entraînés par la mise à jour de la version d’Unity, les développeurs doivent générer et tester leurs applications sur HoloLens (1ère génération).</span><span class="sxs-lookup"><span data-stu-id="0a48f-153">After addressing any breaking changes after moving to the updated Unity version, developers should build and test their current apps on HoloLens (1st gen).</span></span> <span data-ttu-id="0a48f-154">En outre, il est utile de créer et d’enregistrer une validation du contrôle de code source.</span><span class="sxs-lookup"><span data-stu-id="0a48f-154">Further, this is a good point to create and save a commit for source control.</span></span> 

## <a name="compile-dependenciesplugins-for-arm-processor"></a><span data-ttu-id="0a48f-155">Compiler des dépendances ou des plug-ins pour processeurs ARM</span><span class="sxs-lookup"><span data-stu-id="0a48f-155">Compile dependencies/plugins for ARM processor</span></span>

<span data-ttu-id="0a48f-156">HoloLens (1ère génération) exécutait les applications sur un processeur x86 alors que le nouvel appareil HoloLens 2 utilise un processeur ARM.</span><span class="sxs-lookup"><span data-stu-id="0a48f-156">HoloLens (1st gen) executed applications on an x86 processor while the new HoloLens 2 device utilizes an ARM processor.</span></span> <span data-ttu-id="0a48f-157">Par conséquent, les applications existantes doivent être portées en vue de prendre en charge ARM.</span><span class="sxs-lookup"><span data-stu-id="0a48f-157">Thus, existing applications need to be ported over to support ARM.</span></span> <span data-ttu-id="0a48f-158">Comme nous l’avons vu précédemment, Unity 2018 prend en charge la compilation des applications ARM32, alors qu’Unity 2019+ prend en charge la compilation des applications ARM64.</span><span class="sxs-lookup"><span data-stu-id="0a48f-158">As noted earlier, Unity 2018 supports compiling for ARM32 apps while Unity 2019+ supports compiling for ARM64 apps.</span></span> <span data-ttu-id="0a48f-159">En général, il est recommandé de développer des applications ARM64, car celles-ci fournissent de meilleures performances.</span><span class="sxs-lookup"><span data-stu-id="0a48f-159">Developing for ARM64 applications is generally preferred as there is a material difference in performance.</span></span> <span data-ttu-id="0a48f-160">Toutefois, cela nécessite que toutes les [dépendances de plug-ins](https://docs.unity3d.com/Manual/Plugins.html) soient également conçues pour ARM64.</span><span class="sxs-lookup"><span data-stu-id="0a48f-160">However, this requires all [plugin dependencies](https://docs.unity3d.com/Manual/Plugins.html) to also be built for ARM64.</span></span> 

<span data-ttu-id="0a48f-161">Passez en revue toutes les dépendances DLL qui se trouvent actuellement dans votre application.</span><span class="sxs-lookup"><span data-stu-id="0a48f-161">Review all DLL dependencies in your application currently.</span></span> <span data-ttu-id="0a48f-162">Si vous n’avez plus besoin de l’une de ces dépendances, il est recommandé de la supprimer du projet.</span><span class="sxs-lookup"><span data-stu-id="0a48f-162">If a dependency is no longer needed, it is advisable to remove it from your project.</span></span> <span data-ttu-id="0a48f-163">Pour les autres plug-ins nécessaires, ingérez les fichiers binaires ARM32 ou ARM64 dans votre projet Unity.</span><span class="sxs-lookup"><span data-stu-id="0a48f-163">For remaining plugins that are required, ingest the respective ARM32 or ARM64 binaries into your Unity project.</span></span> 

<span data-ttu-id="0a48f-164">Après l’ingestion des DLL nécessaires, créez une solution Visual Studio dans Unity, puis compilez un AppX pour ARM dans Visual Studio, afin de vérifier si votre application peut être conçue pour les processeurs ARM.</span><span class="sxs-lookup"><span data-stu-id="0a48f-164">After ingesting the relevant DLLs, build a Visual Studio solution from Unity and then compile an AppX for ARM in Visual Studio to test that your application can be built for ARM processors.</span></span> <span data-ttu-id="0a48f-165">Là encore, il est conseillé d’enregistrer une validation de votre solution de contrôle de code source.</span><span class="sxs-lookup"><span data-stu-id="0a48f-165">This another point where it is advised to save a commit in your source control solution.</span></span> 

## <a name="update-to-mrtk-version-2"></a><span data-ttu-id="0a48f-166">Effectuer une mise à jour vers MRTK version 2</span><span class="sxs-lookup"><span data-stu-id="0a48f-166">Update to MRTK version 2</span></span>

<span data-ttu-id="0a48f-167">MRTK version 2 est le nouveau kit de ressources pour Unity qui prend en charge à la fois HoloLens (1ère génération) et HoloLens 2. Il comprend toutes les nouvelles fonctionnalités de HoloLens 2, telles que l’interaction manuelle et la fonction de « eye tracking ».</span><span class="sxs-lookup"><span data-stu-id="0a48f-167">MRTK version 2 is the new toolkit on top of Unity supporting both HoloLens (1st gen) and HoloLens 2, and where all of the new HoloLens 2 capabilities have been added, such as hand interactions and eye tracking.</span></span>

### <a name="prepare-for-the-migration"></a><span data-ttu-id="0a48f-168">Se préparer à la migration</span><span class="sxs-lookup"><span data-stu-id="0a48f-168">Prepare for the migration</span></span>

<span data-ttu-id="0a48f-169">Avant d’ingérer les nouveaux [fichiers \*.unitypackage pour MRTK v2](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases), il est recommandé d’effectuer un inventaire de **1) tout code personnalisé intégré à MRTK v1** et **2) tout code personnalisé pour les interactions d’entrée ou les composants d’expérience utilisateur**.</span><span class="sxs-lookup"><span data-stu-id="0a48f-169">Before ingesting the new [\*.unitypackage files for MRTK v2](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases), it is recommended to take an inventory of **1) any custom-built code that integrates with MRTK v1** and **2) any custom-built code for input interactions or UX components**.</span></span> <span data-ttu-id="0a48f-170">Lors de l’ingestion de MRTK v2, le conflit le plus fréquemment rencontré par les développeurs de réalité mixte concerne les entrées et les interactions.</span><span class="sxs-lookup"><span data-stu-id="0a48f-170">The most common and prevalent conflict for a Mixed Reality developer ingesting the new MRTK v2 will involve input and interactions.</span></span> <span data-ttu-id="0a48f-171">Par conséquent, nous vous recommandons de lire l’article concernant le [modèle d’entrée MRTK v2](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Input/Overview.html).</span><span class="sxs-lookup"><span data-stu-id="0a48f-171">Thus, it is advised to begin reading and understanding the [MRTK v2 input model](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Input/Overview.html).</span></span>

<span data-ttu-id="0a48f-172">Enfin, MRTK v2 est passé d’un modèle de scripts et d’objets gestionnaires en scène à une architecture de configuration et de fournisseur de services.</span><span class="sxs-lookup"><span data-stu-id="0a48f-172">Finally, the new MRTK v2 has transitioned from a model of scripts and in-scene manager objects to a configuration and services provider architecture.</span></span> <span data-ttu-id="0a48f-173">La hiérarchie de scène et le modèle d’architecture sont désormais plus propres. Toutefois, ce changement nécessite que vous compreniez les nouveaux profils de configuration.</span><span class="sxs-lookup"><span data-stu-id="0a48f-173">This results in a cleaner scene hierarchy and architecture model but requires a learning curve for understanding the new configuration profiles.</span></span> <span data-ttu-id="0a48f-174">Pour cela, lisez le [Guide de configuration de Mixed Reality Toolkit](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/MixedRealityConfigurationGuide.html) afin de vous familiariser avec les profils et les paramètres importants que vous devez adapter aux besoins de votre application.</span><span class="sxs-lookup"><span data-stu-id="0a48f-174">Thus, please read the [Mixed Reality Toolkit Configuration Guide](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/MixedRealityConfigurationGuide.html) to start becoming familiar with the important settings and profiles to adjust to the needs of your application.</span></span> 

### <a name="perform-the-migration"></a><span data-ttu-id="0a48f-175">Effectuer la migration</span><span class="sxs-lookup"><span data-stu-id="0a48f-175">Perform the migration</span></span>

<span data-ttu-id="0a48f-176">Après l’importation de MRTK v2, votre projet Unity comprendra probablement plusieurs erreurs liées au compilateur.</span><span class="sxs-lookup"><span data-stu-id="0a48f-176">After importing MRTK v2, your Unity project will likely have many compiler related errors.</span></span> <span data-ttu-id="0a48f-177">La plupart du temps, ces erreurs sont dues à la nouvelle structure des espaces de noms et aux nouveaux noms de composants.</span><span class="sxs-lookup"><span data-stu-id="0a48f-177">These are most commonly due to the new namespace structure and new component names.</span></span> <span data-ttu-id="0a48f-178">Pour corriger ces erreurs, dans vos scripts, remplacez les anciens espaces de noms et composants par les nouveaux.</span><span class="sxs-lookup"><span data-stu-id="0a48f-178">Proceed to resolve these errors by modifying your scripts to the new namespaces and components.</span></span> 

<span data-ttu-id="0a48f-179">Pour en savoir plus sur les différences entre HTK/MRTK et MRTK version 2 au niveau des API, consultez le guide de portage sur le [wiki MRTK Version 2](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/HTKToMRTKPortingGuide.html).</span><span class="sxs-lookup"><span data-stu-id="0a48f-179">For more information on specific API differences between HTK/MRTK and MRTK version 2, see the porting guide on the [MRTK Version 2 wiki](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/HTKToMRTKPortingGuide.html).</span></span>

### <a name="best-practices"></a><span data-ttu-id="0a48f-180">Meilleures pratiques</span><span class="sxs-lookup"><span data-stu-id="0a48f-180">Best practices</span></span>

- <span data-ttu-id="0a48f-181">Privilégier l’utilisation du nuanceur MRTK Standard</span><span class="sxs-lookup"><span data-stu-id="0a48f-181">Prefer use of the MRTK Standard shader</span></span>
- <span data-ttu-id="0a48f-182">Travailler sur un seul changement important à la fois (par exemple, passer de IFocusable à IMixedRealityFocusHandler)</span><span class="sxs-lookup"><span data-stu-id="0a48f-182">Work on one breaking change type at a time (ex: IFocusable to IMixedRealityFocusHandler)</span></span>
- <span data-ttu-id="0a48f-183">Effectuer des tests après chaque modification et utiliser le contrôle de code source</span><span class="sxs-lookup"><span data-stu-id="0a48f-183">Test after every change and utilize source control</span></span>
- <span data-ttu-id="0a48f-184">Utiliser l’expérience utilisateur MRTK par défaut (boutons, fenêtres, etc.) lorsque cela est possible</span><span class="sxs-lookup"><span data-stu-id="0a48f-184">Use default MRTK UX (buttons, slates, etc) when possible</span></span>
- <span data-ttu-id="0a48f-185">Éviter de modifier directement les fichiers MRTK. Pour cela, ajouter des wrappers autour des composants MRTK.</span><span class="sxs-lookup"><span data-stu-id="0a48f-185">Try to refrain from modifying MRTK files directly, instead create wrappers around MRTK components</span></span>
    - <span data-ttu-id="0a48f-186">Ceci empêchera toute future mise à jour ou ingestion de MRTK.</span><span class="sxs-lookup"><span data-stu-id="0a48f-186">This will protect against future MRTK ingestions and updates</span></span>
- <span data-ttu-id="0a48f-187">Explorer les exemples de scènes fournis dans MRTK (surtout *HandInteractionExamples.scene*)</span><span class="sxs-lookup"><span data-stu-id="0a48f-187">Review & explore sample scenes provided in MRTK (especially *HandInteractionExamples.scene*)</span></span>
- <span data-ttu-id="0a48f-188">Recréer une interface utilisateur basée sur les canevas avec des quadrants, des colliders et du texte TextMeshPro</span><span class="sxs-lookup"><span data-stu-id="0a48f-188">Rebuild canvas-based UI with quads, colliders and TextMeshPro text instead</span></span>

### <a name="testing-your-application"></a><span data-ttu-id="0a48f-189">Tester votre application</span><span class="sxs-lookup"><span data-stu-id="0a48f-189">Testing your application</span></span>

<span data-ttu-id="0a48f-190">Maintenant que les composants et les fonctionnalités HoloLens 2 sont disponibles dans MRTK version 2, à compter de la version [RC1](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases/tag/v2.0.0-RC1), vous pouvez simuler les interactions manuelles directement dans Unity et développer à l’aide des nouvelles API d’interaction manuelle et d’eye tracking.</span><span class="sxs-lookup"><span data-stu-id="0a48f-190">Now that HoloLens 2 components and capabilities are available in MRTK version 2, as of [RC1](https://github.com/Microsoft/MixedRealityToolkit-Unity/releases/tag/v2.0.0-RC1), you can simulate the hand interactions directly in Unity, and develop against the new APIs for hand interactions and eye tracking.</span></span>  <span data-ttu-id="0a48f-191">L’appareil HoloLens 2 doit créer une expérience optimale, que vous pouvez découvrir en explorant les outils et la documentation.</span><span class="sxs-lookup"><span data-stu-id="0a48f-191">The HoloLens 2 device is required to create a great experience, but at least one could start learning in the tools and documentation.</span></span> <span data-ttu-id="0a48f-192">En outre, MRTK v2 prend en charge le développement sur HoloLens 1ère génération. Par conséquent, les modèles d’entrée traditionnels, comme la sélection via un clic aérien, peuvent encore être testés sur les appareils HoloLens 1ère génération.</span><span class="sxs-lookup"><span data-stu-id="0a48f-192">Further, MRTK v2 supports development on HoloLens (1st gen) and thus, traditional input models such as select via air-tap can still be tested on HoloLens (1st gen) devices.</span></span> 

## <a name="updating-interaction-model-for-hololens-2"></a><span data-ttu-id="0a48f-193">Mise à jour du modèle d’interaction pour HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="0a48f-193">Updating interaction model for HoloLens 2</span></span>

<span data-ttu-id="0a48f-194">Une fois que vous avez procédé au portage et à la préparation de votre application pour HoloLens 2, vous êtes prêt pour la mise à jour de votre modèle d’interaction et de vos conceptions et positionnements d’hologrammes.</span><span class="sxs-lookup"><span data-stu-id="0a48f-194">Once you have your app ported and prepped for HoloLens 2, you are ready to consider updating your interaction model and hologram designs/placement.</span></span>
<span data-ttu-id="0a48f-195">Étant donné qu’elle provient de HoloLens (1ère génération), votre application comprend probablement un modèle d’interaction de type « Suivi et validation », avec des hologrammes relativement lointains qui rentrent entièrement dans le champ de vision.</span><span class="sxs-lookup"><span data-stu-id="0a48f-195">Coming from HoloLens (1st gen), your app likely has a gaze and commit interaction model, with holograms relatively far away to fit into the field of view.</span></span>

<span data-ttu-id="0a48f-196">Voici les étapes permettant d’optimiser la conception de votre application pour HoloLens 2 :</span><span class="sxs-lookup"><span data-stu-id="0a48f-196">Steps to update your app design to be best for HoloLens 2:</span></span>
1.  <span data-ttu-id="0a48f-197">Composants MRTK : En fonction du travail préalable, si vous avez ajouté MRTK v2, vous pourrez tirer parti de plusieurs composants ou scripts conçus et optimisés pour HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="0a48f-197">MRTK components: Per the pre-work, if you added MRTK v2, there are various components/scripts to leverage that have been designed and optimized for HoloLens 2.</span></span>

2.  <span data-ttu-id="0a48f-198">Modèle d’interaction : Envisagez de mettre à jour votre modèle d’interaction.</span><span class="sxs-lookup"><span data-stu-id="0a48f-198">Interaction model: Consider updating your interaction model.</span></span>  <span data-ttu-id="0a48f-199">Pour la plupart des scénarios, nous vous recommandons de passer du modèle « Suivi et validation » au modèle d’interaction manuelle.</span><span class="sxs-lookup"><span data-stu-id="0a48f-199">For most scenarios, we recommend switching from gaze and commit to hands.</span></span>  <span data-ttu-id="0a48f-200">Étant donné que les hologrammes sont généralement hors de portée, le passage à l’interaction manuelle permettra des rayons de pointage plus lointains et des mouvements de saisie.</span><span class="sxs-lookup"><span data-stu-id="0a48f-200">With your holograms typically being out of arms reach, switching to hands will result in far interaction pointing rays and grab gestures.</span></span>
<span data-ttu-id="0a48f-201">Remarque : Dans certains cas, un modèle d’interaction de type « mains libres » est nécessaire. C’est le cas, par exemple, pour les ouvriers qui doivent tenir des outils. Pour ces cas de figure, des instructions spécifiques sont fournies pour la conception.</span><span class="sxs-lookup"><span data-stu-id="0a48f-201">Note: there are scenarios where a hands-free interaction model is required, such as a task worker holding tools, and there is specific design guidance for such cases.</span></span> 

3.  <span data-ttu-id="0a48f-202">Positionnement des hologrammes : Une fois que vous êtes passé au modèle d’interaction manuelle, vous pouvez rapprocher les hologrammes afin d’interagir directement avec eux à l’aide de vos mains, en utilisant des mouvements de saisie.</span><span class="sxs-lookup"><span data-stu-id="0a48f-202">Hologram placement: After switching to a hands interaction model, consider moving some holograms closer to directly interact with the holograms with your hands, using near interaction grab gestures.</span></span>  <span data-ttu-id="0a48f-203">Les types d’hologrammes qu’il est recommandé de rapprocher dans le but de les manipuler directement sont les menus, les contrôles et les boutons de petite taille, ainsi que les hologrammes qui rentrent entièrement dans le champ de vision HoloLens 2 lorsque vous les manipulez ou les inspectez.</span><span class="sxs-lookup"><span data-stu-id="0a48f-203">The types of holograms recommended to move closer to directly grab or interact are small target menus, controls, buttons, and smaller holograms that fit within the HoloLens 2 field of view when grabbing and inspecting the hologram.</span></span>
<br>
<span data-ttu-id="0a48f-204">Les applications et les scénarios ont tous leurs propres spécificités. Nous continuerons donc de fournir des instructions de conception adaptées à chaque situation, en nous basant sur vos commentaires et sur vos expériences.</span><span class="sxs-lookup"><span data-stu-id="0a48f-204">Every app and scenario is different, and we’ll continue to refine and post design guidance based on feedback and continued learnings.</span></span>


## <a name="additional-learnings-from-moving-apps-from-x86-to-arm"></a><span data-ttu-id="0a48f-205">Autres points importants concernant le passage de x86 à ARM</span><span class="sxs-lookup"><span data-stu-id="0a48f-205">Additional learnings from moving apps from x86 to ARM</span></span>

- <span data-ttu-id="0a48f-206">Les applications Unity standard sont simples, car vous pouvez créer un bundle appx ARM et le déployer directement sur l’appareil.</span><span class="sxs-lookup"><span data-stu-id="0a48f-206">Straight Unity apps are simple as you can build an ARM appx bundle or deploy directly to the device and it runs.</span></span>
<span data-ttu-id="0a48f-207">Les difficultés arrivent lorsque l’application Unity utilise des plug-ins natifs.</span><span class="sxs-lookup"><span data-stu-id="0a48f-207">The challenge comes when the Unity app uses native plugins.</span></span>  <span data-ttu-id="0a48f-208">Tous les plug-ins natifs doivent être mis à niveau vers Visual Studio 2017 puis recréés pour ARM ou mis à niveau vers Unity 2019 pour ARM64.</span><span class="sxs-lookup"><span data-stu-id="0a48f-208">All of the native plugins need to be upgraded to VS2017 and rebuilt for ARM, and with Unity 2019, ARM64.</span></span>

- <span data-ttu-id="0a48f-209">Une application utilisait le plug-in AudioKinetic Wwise pour Unity, et la version utilisée ne comprenait pas de plug-in UWP/ARM.</span><span class="sxs-lookup"><span data-stu-id="0a48f-209">One app, used the AudioKinetic Wwise plugin for Unity, and the version used didn’t have a UWP ARM plugin.</span></span> <span data-ttu-id="0a48f-210">Plusieurs jours de travail ont été nécessaires pour que le son de l’application fonctionne sur ARM.</span><span class="sxs-lookup"><span data-stu-id="0a48f-210">It took several days to re-work the sound in the application to work on ARM.</span></span>

- <span data-ttu-id="0a48f-211">Dans d’autres cas, il n’y avait aucun plug-in UWP/ARM pour les plug-ins exigés par l’application, ce qui empêchait le portage et l’exécution de l’application sur HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="0a48f-211">In other cases, a UWP/ARM plugin may not exist for app-required plugins, blocking the ability to port and run on HoloLens 2.</span></span>  <span data-ttu-id="0a48f-212">Un engagement auprès du fournisseur de plug-in peut être nécessaire pour débloquer et prendre en charge ARM.</span><span class="sxs-lookup"><span data-stu-id="0a48f-212">Engagement with the plugin provider may be needed to unblock and support ARM.</span></span>

- <span data-ttu-id="0a48f-213">Dans les nuanceurs, minfloat (et ses variantes telles que min16float, minint, etc.) peuvent ne pas avoir le même comportement dans HoloLen 2 que dans HoloLens (1ère génération).</span><span class="sxs-lookup"><span data-stu-id="0a48f-213">The minfloat (and variants such as min16float, minint, etc…) in shaders may behave differently on HoloLen 2 than on HoloLens (1st gen).</span></span> <span data-ttu-id="0a48f-214">Ceux-ci ont pour but de garantir que le nombre de bits spécifié sera utilisé (au minimum).</span><span class="sxs-lookup"><span data-stu-id="0a48f-214">Specifically, these guarantee that “at least the specified number of bits will be used”.</span></span> <span data-ttu-id="0a48f-215">Avec les processeurs graphiques Intel/Nvidia, ils sont le plus souvent traités comme des 32 bits.</span><span class="sxs-lookup"><span data-stu-id="0a48f-215">On Intel/Nvidia GPUs, these are largely just treated as 32 bits.</span></span> <span data-ttu-id="0a48f-216">Sur ARM, le nombre de bits spécifié est respecté.</span><span class="sxs-lookup"><span data-stu-id="0a48f-216">On ARM, the number of bits specified is actually respected.</span></span> <span data-ttu-id="0a48f-217">Dans la pratique, cela signifie que les nombres peuvent avoir une précision moindre dans HoloLens 2 que dans HoloLens (1ère génération).</span><span class="sxs-lookup"><span data-stu-id="0a48f-217">That means that in practice, these numbers may have less precision/range on HoloLens 2 than they did on HoloLens (1st gen).</span></span>

- <span data-ttu-id="0a48f-218">Les instructions _asm ne semblent pas fonctionner sur ARM, ce qui signifie que tout code utilisant les instructions _asm doit être réécrit.</span><span class="sxs-lookup"><span data-stu-id="0a48f-218">The _asm instructions don’t appear to work on ARM, meaning any code using _asm instructions will have to be rewritten.</span></span>

- <span data-ttu-id="0a48f-219">Le jeu d’instructions SIMD n’est pas pris en charge sur ARM.</span><span class="sxs-lookup"><span data-stu-id="0a48f-219">The SIMD instruction set is not supported on ARM.</span></span> <span data-ttu-id="0a48f-220">Cela signifie que plusieurs en-têtes, comme xmmintrin.h, emmintrin.h, tmmintrin.h et immintrin.h, ne sont pas disponibles sur ARM.</span><span class="sxs-lookup"><span data-stu-id="0a48f-220">This means various headers, such as xmmintrin.h, emmintrin.h, tmmintrin.h, and immintrin.h are not available on ARM.</span></span>

- <span data-ttu-id="0a48f-221">Sur ARM, le compilateur du nuanceur est exécuté lors du premier appel de dessin, après le chargement du nuanceur ou après la modification d’un élément dont dépend le nuanceur, mais pas au moment du chargement du nuanceur.</span><span class="sxs-lookup"><span data-stu-id="0a48f-221">The shader compiler on ARM runs during the first draw call after the shader has been loaded or something the shader relies on has changed, not at shader load time.</span></span> <span data-ttu-id="0a48f-222">L’impact sur le taux de trames peut être très visible, en fonction du nombre de nuanceurs qui doivent être compilés.</span><span class="sxs-lookup"><span data-stu-id="0a48f-222">The impact on framerate can be very noticeable, depending on how many shaders need to be compiled.</span></span> <span data-ttu-id="0a48f-223">Cela a plusieurs impacts sur la façon dont les nuanceurs doivent être gérés, empaquetés et mis à jour sur HoloLens 2, par rapport à HoloLens (1ère génération).</span><span class="sxs-lookup"><span data-stu-id="0a48f-223">This has various implications for how shaders should be handled/packaged/updated differently on HoloLens 2 vs HoloLens (1st gen).</span></span>

## <a name="see-also"></a><span data-ttu-id="0a48f-224">Voir également</span><span class="sxs-lookup"><span data-stu-id="0a48f-224">See also</span></span>
* [<span data-ttu-id="0a48f-225">Bien démarrer avec MRTK v2</span><span class="sxs-lookup"><span data-stu-id="0a48f-225">Getting started with MRTK version 2</span></span>](mrtk-getting-started.md)
* [<span data-ttu-id="0a48f-226">Guide pratique concernant MRTK version 2</span><span class="sxs-lookup"><span data-stu-id="0a48f-226">MRTK Version 2 HowTo</span></span>](https://microsoft.github.io/MixedRealityToolkit-Unity/External/HowTo/README.html)
* [<span data-ttu-id="0a48f-227">Installer les outils</span><span class="sxs-lookup"><span data-stu-id="0a48f-227">Install the tools</span></span>](install-the-tools.md)
* [<span data-ttu-id="0a48f-228">Paramètres recommandés pour Unity</span><span class="sxs-lookup"><span data-stu-id="0a48f-228">Recommended settings for Unity</span></span>](recommended-settings-for-unity.md)
* [<span data-ttu-id="0a48f-229">Comprendre les performances pour la réalité mixte</span><span class="sxs-lookup"><span data-stu-id="0a48f-229">Understanding performance for Mixed Reality</span></span>](understanding-performance-for-mixed-reality.md)

