---
title: Didacticiels de mise en route-4. Placement de contenu dynamique et utilisation de solveurs
description: Suivez ce cours pour découvrir comment implémenter la reconnaissance faciale Azure au sein d’une application de réalité mixte.
author: jessemcculloch
ms.author: jemccull
ms.date: 02/26/2019
ms.topic: article
keywords: réalité mixte, unity, tutoriel, hololens
ms.openlocfilehash: a73be40180e582058ae3e9bbaeffebe462042fbb
ms.sourcegitcommit: af1602710c1ccb7ed870a491923350d387706129
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/01/2019
ms.locfileid: "68701999"
---
# <a name="4-placing-dynamic-content-and-using-solvers"></a><span data-ttu-id="3547e-105">4. Placement de contenu dynamique et utilisation de solveurs</span><span class="sxs-lookup"><span data-stu-id="3547e-105">4. Placing dynamic content and using solvers</span></span>

<span data-ttu-id="3547e-106">Les hologrammes prennent vie dans HoloLens 2 quand ils suivent intuitivement l’utilisateur et sont placés dans l’environnement physique de manière à rendre l’interaction fluide et élégante.</span><span class="sxs-lookup"><span data-stu-id="3547e-106">Holograms come to life in the HoloLens 2 when they intuitively follow the user and are placed in the physical environment in a way that makes interaction seamless and elegant.</span></span> <span data-ttu-id="3547e-107">Dans ce didacticiel, nous explorons les façons de placer dynamiquement des hologrammes à l’aide des outils de positionnement disponibles de MRTK, appelés résolveurs pour la façon dont ils résolvent les scénarios de placement spatial complexes.</span><span class="sxs-lookup"><span data-stu-id="3547e-107">In this tutorial, we explore ways to dynamically place holograms using the MRTK’s available placement tools, known as solvers for the way they solve complex spatial placement scenarios.</span></span> <span data-ttu-id="3547e-108">Dans le MRTK, les solveurs sont un système de scripts et de comportements utilisés pour permettre aux éléments de l’interface utilisateur de suivre, de l’utilisateur ou d’autres objets de jeu dans la scène.</span><span class="sxs-lookup"><span data-stu-id="3547e-108">In the MRTK, solvers are a system of scripts and behaviors that are used to allow UI elements to follow you, the user, or other game objects in the scene.</span></span> <span data-ttu-id="3547e-109">Ils servent également à accélérer l’alignement sur certaines positions, rendant votre application plus intuitive.</span><span class="sxs-lookup"><span data-stu-id="3547e-109">They can also be used to snap to certain positions quickly, making your application more intuitive.</span></span> 

## <a name="objectives"></a><span data-ttu-id="3547e-110">Objectifs</span><span class="sxs-lookup"><span data-stu-id="3547e-110">Objectives</span></span>

* <span data-ttu-id="3547e-111">Introduire les solveurs du MRTK</span><span class="sxs-lookup"><span data-stu-id="3547e-111">Introduce the MRTK's solvers</span></span>
* <span data-ttu-id="3547e-112">Utiliser des solveurs pour qu’une collection de boutons suive l’utilisateur</span><span class="sxs-lookup"><span data-stu-id="3547e-112">Use solvers to have a collection of buttons follow the user</span></span>
* <span data-ttu-id="3547e-113">Utiliser des solveurs pour qu’un objet de jeu suive les mouvements captés des mains de l’utilisateur</span><span class="sxs-lookup"><span data-stu-id="3547e-113">Use solvers to have a game object follow the user's tracked hands</span></span>

## <a name="instructions"></a><span data-ttu-id="3547e-114">Instructions</span><span class="sxs-lookup"><span data-stu-id="3547e-114">Instructions</span></span>

### <a name="location-of-solvers-in-the-mrtk"></a><span data-ttu-id="3547e-115">Emplacement des solveurs dans le MRTK</span><span class="sxs-lookup"><span data-stu-id="3547e-115">Location of solvers in the MRTK</span></span>
 <span data-ttu-id="3547e-116">Pour trouver les solveurs disponibles dans votre projet, examinez le dossier du SDK MRTK (MixedRealityToolkit.SDK). Le dossier Solvers se trouve sous le dossier Utilities, comme le montre l’image ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="3547e-116">To find the available solvers in your project, look in the MRTK SDK folder (MixedRealityToolkit.SDK folder), then under the utilities folder you will see the solvers folder, as shown in the image below.</span></span>

![Solveurs](images/lesson3_chapter1_step1im.PNG)

><span data-ttu-id="3547e-118">Remarque : Dans cette leçon, nous allons passer uniquement par l’implémentation du solveur orbital et du solveur RadialView.</span><span class="sxs-lookup"><span data-stu-id="3547e-118">Note: In this lesson we will only go over the implementation of the Orbital solver and the RadialView solver.</span></span> <span data-ttu-id="3547e-119">Pour en savoir plus sur la gamme complète des solveurs disponibles dans le MRTK, visitez le site suivant : https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/README_Solver.html</span><span class="sxs-lookup"><span data-stu-id="3547e-119">To learn more about the full range of solvers available in the MRTK, please visit: https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/README_Solver.html</span></span>

### <a name="use-a-solver-to-follow-the-user"></a><span data-ttu-id="3547e-120">Utiliser un solveur pour suivre l’utilisateur</span><span class="sxs-lookup"><span data-stu-id="3547e-120">Use a Solver to Follow the User</span></span>
<span data-ttu-id="3547e-121">L’objectif de ce chapitre est d’améliorer la collection de boutons précédemment créée afin qu’elle suive la direction du regard de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="3547e-121">The goal of this chapter is to enhance the button collection that was previously created so that it follows the user’s gaze direction.</span></span> <span data-ttu-id="3547e-122">Dans la version précédente de MRTK et HoloToolkit, il s’agissait d’une fonctionnalité accompagnent.</span><span class="sxs-lookup"><span data-stu-id="3547e-122">In previous version of the MRTK and HoloToolkit, this was referred to as a tagalong functionality.</span></span>

1. <span data-ttu-id="3547e-123">Sélectionnez l’objet parent Button Collection issu de la leçon précédente.</span><span class="sxs-lookup"><span data-stu-id="3547e-123">Select the Button Collection parent object from the previous lesson.</span></span>

![Leçon 3, chapitre 2, étape 1, image](images/Lesson3_chapter2_step1im.PNG)

2. <span data-ttu-id="3547e-125">Dans le volet de l’inspecteur, cliquez sur le bouton Ajouter un composant et recherchez orbital.</span><span class="sxs-lookup"><span data-stu-id="3547e-125">In the Inspector panel, click the Add Component button and search for orbital.</span></span> <span data-ttu-id="3547e-126">Le composant orbital doit apparaître.</span><span class="sxs-lookup"><span data-stu-id="3547e-126">The orbital component should appear.</span></span> <span data-ttu-id="3547e-127">Sélectionnez-le pour ajouter le composant orbital à l’objet de jeu Button Collection.</span><span class="sxs-lookup"><span data-stu-id="3547e-127">Select it to add the orbital component to the Button Collection game object.</span></span>

![Leçon 3, chapitre 2, étape 2, image](images/Lesson3_Chapter2_step2im.PNG)

><span data-ttu-id="3547e-129">Remarque : Quand vous ajoutez le composant, vous pouvez remarquer que le système ajoute le script orbital et le script du gestionnaire de solveur sous l’onglet Inspector, qui est un composant requis.</span><span class="sxs-lookup"><span data-stu-id="3547e-129">Note: When you add the component you will notice that the system adds the orbital script and the solver handler script in the inspector tab, which is a required component.</span></span> 

3. <span data-ttu-id="3547e-130">Pour configurer la collection de boutons de façon à ce qu’elle suive l’utilisateur, nous devons implémenter les ajustements suivants (reportez-vous à l’image ci-dessous):</span><span class="sxs-lookup"><span data-stu-id="3547e-130">In order to configure the button collection to follow the user, we need to implement the following adjustments (refer to the image below):</span></span>
- <span data-ttu-id="3547e-131">Dans le script orbital, définissez la liste déroulante type d’orientation sur lacet uniquement.</span><span class="sxs-lookup"><span data-stu-id="3547e-131">In the Orbital script, set the Orientation Type drop-down list to Yaw Only.</span></span> <span data-ttu-id="3547e-132">De cette façon, l’objet tourne sur un seul axe à mesure qu’il suit l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="3547e-132">This makes it so that only one axis of the object rotates as it follows the user.</span></span>
- <span data-ttu-id="3547e-133">Affectez à « Local Offset » la valeur 0 sur tous les axes.</span><span class="sxs-lookup"><span data-stu-id="3547e-133">Set the local offset to 0 on all axes.</span></span> <span data-ttu-id="3547e-134">Affectez à « World Offset » les valeurs x = 0, y = -0,1 et z = 0,6.</span><span class="sxs-lookup"><span data-stu-id="3547e-134">Set the World Offset to x = 0, y = -0.1 and z = 0.6.</span></span> <span data-ttu-id="3547e-135">Le mouvement de l’objet est verrouillé. Ainsi, quand l’utilisateur change de hauteur, l’objet reste à une hauteur fixe dans l’environnement physique, mais il peut suivre l’utilisateur à mesure que celui-ci se déplace dans l’environnement.</span><span class="sxs-lookup"><span data-stu-id="3547e-135">This locks movement of the object such that when the user changes height, the object will remain at a fixed height in the physical environment, while still allowing it to follow the user as the user moves about the environment.</span></span> <span data-ttu-id="3547e-136">Ces valeurs peuvent être ajustées pour obtenir un large éventail de comportements.</span><span class="sxs-lookup"><span data-stu-id="3547e-136">These values may be adjusted to achieve a wide range of behaviors.</span></span>
- <span data-ttu-id="3547e-137">Pour un comportement suivant dans lequel les boutons ne suivent que la vue de l’utilisateur une fois que l’utilisateur a éteint son chef suffisamment loin, vous pouvez sélectionner la case à cocher utiliser l’angle pas à pas pour le décalage universel (Remarque: Ce titre peut être tronqué sur certains écrans, comme dans l’image ci-dessous.) Par exemple, pour que l’objet ne suive l’utilisateur que tous les 90 degrés, définissez un nombre de pas égal à 4 (flèche verte à gauche de l’exemple).</span><span class="sxs-lookup"><span data-stu-id="3547e-137">For a follow behavior whereby the buttons only follow the user’s view after the user turns his or her head sufficiently far, you could select the Use Angle Stepping for world offset checkbox (Note: This title may be truncated on some screens, as it is in the image below.) For example, to have the object follow the user only every 90 degrees, set the number of steps equal to 4 (marked by a green arrow in the example to the left).</span></span> 

![Leçon 3, chapitre 2, étape 3, image](images/Lesson3_chapter2_step3im.PNG)

### <a name="enabling-objects-to-follow-tracked-hands"></a><span data-ttu-id="3547e-139">Activation d’objets pour suivre les mains suivies</span><span class="sxs-lookup"><span data-stu-id="3547e-139">Enabling objects to follow tracked hands</span></span>

<span data-ttu-id="3547e-140">Dans cette section, nous allons configurer l’objet de jeu Cube créé précédemment pour qu’il suive les mouvements captés des mains de l’utilisateur à l’aide du solveur RadialView.</span><span class="sxs-lookup"><span data-stu-id="3547e-140">In this section, we will configure the cube game object previously created to follow the user’s tracked hands using the RadialView solver.</span></span>

1. <span data-ttu-id="3547e-141">Sélectionnez l’objet Cube dans la hiérarchie BaseScene.</span><span class="sxs-lookup"><span data-stu-id="3547e-141">Select the cube object in the BaseScene hierarchy.</span></span> <span data-ttu-id="3547e-142">Cliquez sur Ajouter un composant dans le panneau Inspecteur.</span><span class="sxs-lookup"><span data-stu-id="3547e-142">Click Add Component in the Inspector panel.</span></span> 

![Leçon 3, chapitre 3, étape 1, image](images/Lesson3_Chapter3_step1im.PNG)

2. <span data-ttu-id="3547e-144">Tapez RadialView dans la zone de recherche et sélectionnez le composant RadialView pour l’ajouter au cube.</span><span class="sxs-lookup"><span data-stu-id="3547e-144">Type in RadialView in the search box and select the RadialView component to add it to the cube.</span></span> <span data-ttu-id="3547e-145">Le composant Solver Handler est également ajouté automatiquement au cube.</span><span class="sxs-lookup"><span data-stu-id="3547e-145">The solver handler component will also be automatically added to the cube.</span></span>

3. <span data-ttu-id="3547e-146">Changez la vue radiale pour qu’elle ne suive pas la tête mais la main gauche.</span><span class="sxs-lookup"><span data-stu-id="3547e-146">Change the radial view to not follow the head but follow the left hand.</span></span> <span data-ttu-id="3547e-147">Sélectionnez le menu déroulant en regard de l’option objet suivi à référencer.</span><span class="sxs-lookup"><span data-stu-id="3547e-147">Select the dropdown menu next to the Tracked Object to Reference option.</span></span> <span data-ttu-id="3547e-148">Sélectionnez ensuite joint à la main gauche dans le menu.</span><span class="sxs-lookup"><span data-stu-id="3547e-148">Then select Hand Joint Left from the menu.</span></span>

![Leçon 3, chapitre 3, étape 3, image](images/Lesson3_chapter3_step3im.PNG)

4. <span data-ttu-id="3547e-150">Une fois que vous avez sélectionné l’articulation de la main, vous pouvez choisir la partie de la main que le cube va suivre.</span><span class="sxs-lookup"><span data-stu-id="3547e-150">Once you select the hand joint, you can choose which part of the hand you want the cube to follow.</span></span> <span data-ttu-id="3547e-151">Pour cet exemple, nous allons utiliser le poignet.</span><span class="sxs-lookup"><span data-stu-id="3547e-151">For this example, we are going to use the wrist.</span></span> <span data-ttu-id="3547e-152">En regard de l’option jointe à la main, sélectionnez le menu déroulant et sélectionnez poignet.</span><span class="sxs-lookup"><span data-stu-id="3547e-152">Next to the option Tracked Hand Joint select the dropdown menu and select Wrist.</span></span> 

![Leçon 3, chapitre 3, étape 4, image](images/Lesson3_chapter3_step4im.PNG)

5. <span data-ttu-id="3547e-154">Affectez aux distances minimales et maximales la valeur 0 pour que le cube ne soit pas séparé du poignet de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="3547e-154">Set the maximum and minimum distances to 0 so that the cube will not have any distance between it and the user’s wrist.</span></span> <span data-ttu-id="3547e-155">Une fois ces valeurs définies, le cube est parfaitement aligné avec le poignet.</span><span class="sxs-lookup"><span data-stu-id="3547e-155">Once set, the cube will be perfectly aligned with the wrist.</span></span> <span data-ttu-id="3547e-156">Vous pouvez également ajuster le champ sens de référence pour ajuster le comportement de l’orientation du cube, par exemple si vous souhaitez autoriser l’objet à pivoter avec la poignet de l’utilisateur en définissant la direction de référence pour orienter avec l’objet suivi.</span><span class="sxs-lookup"><span data-stu-id="3547e-156">You might also adjust the Reference Direction field to adjust the behavior of how the cube is oriented, such as if you want to allow the object to rotate with the user's wrist by setting the reference direction to Orient with Tracked Object.</span></span>

![Leçon 3, chapitre 3, étape 5, image](images/Lesson3_chapter3_step5im.PNG)

## <a name="congratulations"></a><span data-ttu-id="3547e-158">Félicitations</span><span class="sxs-lookup"><span data-stu-id="3547e-158">Congratulations</span></span>
<span data-ttu-id="3547e-159">Dans ce didacticiel, vous avez appris à utiliser les solveurs de MRTK pour qu’une interface utilisateur suive intuitivement l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="3547e-159">In this tutorial, you learned how to use the MRTK’s solvers to have a UI intuitively follow the user.</span></span> <span data-ttu-id="3547e-160">Vous avez également vu comment attacher un solveur à un objet de jeu (par exemple, un cube) pour suivre les mouvements captés des mains de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="3547e-160">You also learned how to attach a solver to a game object (i.e., cube) to follow the user’s tracked hands.</span></span> <span data-ttu-id="3547e-161">Pour en savoir plus sur ces solveurs et les autres fournis avec le MRTK, n’hésitez pas à visiter la [documentation consacrée aux solveurs du MRTK](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/README_Solver.html).</span><span class="sxs-lookup"><span data-stu-id="3547e-161">To learn more about these and other solvers included with the MRTK, feel free to visit the [MRTK solvers documentation page](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/README_Solver.html).</span></span>

[<span data-ttu-id="3547e-162">Leçon suivante : 5.    Interaction avec les objets 3D</span><span class="sxs-lookup"><span data-stu-id="3547e-162">Next Lesson: 5.    Interacting with 3D objects</span></span>](mrlearning-base-ch4.md)

