---
title: 3. Configuration de votre projet pour la réalité mixte
description: Partie 3 d’un tutoriel pour créer une application de jeu d’échecs simple avec Unreal Engine 4 et le plug-in UX Tools du Mixed Reality Toolkit
author: sw5813
ms.author: suwu
ms.date: 5/5/2020
ms.topic: article
ms.localizationpriority: high
keywords: Unreal, Unreal Engine 4, UE4, HoloLens, HoloLens 2, réalité mixte, tutoriel, bien démarrer, mrtk, uxt, UX Tools, documentation
ms.openlocfilehash: b5b5e2de787279602341e60f2bfa29aa05ea9b31
ms.sourcegitcommit: ba4c8c2a19bd6a9a181b2cec3cb8e0402f8cac62
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/05/2020
ms.locfileid: "82840618"
---
# <a name="3-setting-up-your-project-for-mixed-reality"></a><span data-ttu-id="9570b-104">3. Configuration de votre projet pour la réalité mixte</span><span class="sxs-lookup"><span data-stu-id="9570b-104">3. Setting up your project for mixed reality</span></span>

<span data-ttu-id="9570b-105">Cette section vous guide pas à pas tout au long du processus de configuration de votre application pour le développement de la réalité mixte.</span><span class="sxs-lookup"><span data-stu-id="9570b-105">This section walks you through the process of configuring your app for mixed reality development.</span></span> 

## <a name="objectives"></a><span data-ttu-id="9570b-106">Objectifs</span><span class="sxs-lookup"><span data-stu-id="9570b-106">Objectives</span></span>

* <span data-ttu-id="9570b-107">Comprendre comment configurer un projet de réalité mixte avec ARSessionConfig, Pawn et GameMode</span><span class="sxs-lookup"><span data-stu-id="9570b-107">Understand how to set up a mixed reality project with ARSessionConfig, Pawn, and GameMode</span></span>

## <a name="configure-the-session"></a><span data-ttu-id="9570b-108">Configurer la session</span><span class="sxs-lookup"><span data-stu-id="9570b-108">Configure the Session</span></span>

1. <span data-ttu-id="9570b-109">Dans le navigateur de contenu, revenez au dossier **Content**.</span><span class="sxs-lookup"><span data-stu-id="9570b-109">In the Content Browser, navigate back to the **Content** folder.</span></span> <span data-ttu-id="9570b-110">Cliquez sur **Add New > Miscellaneous > Data Asset**.</span><span class="sxs-lookup"><span data-stu-id="9570b-110">Click **Add New > Miscellaneous > Data Asset**.</span></span> 

2. <span data-ttu-id="9570b-111">Sélectionnez la classe **ARSessionConfig**, puis cliquez sur **Select**.</span><span class="sxs-lookup"><span data-stu-id="9570b-111">Pick **ARSessionConfig** as the class and click **Select**.</span></span> <span data-ttu-id="9570b-112">Nommez la ressource « ARSessionConfig ».</span><span class="sxs-lookup"><span data-stu-id="9570b-112">Name the asset “ARSessionConfig”.</span></span>

![Créer une ressource de données](images/unreal-uxt/3-createasset.PNG)

3. <span data-ttu-id="9570b-114">Double-cliquez sur la ressource ARSessionConfig pour l’ouvrir.</span><span class="sxs-lookup"><span data-stu-id="9570b-114">Double click ARSessionConfig to open it.</span></span> <span data-ttu-id="9570b-115">Une ressource de données ARSessionConfig contient divers paramètres AR utiles, notamment pour le mappage spatial et l’occlusion.</span><span class="sxs-lookup"><span data-stu-id="9570b-115">An ARSessionConfig data asset contains a number of useful AR settings including spatial mapping and occlusion.</span></span> <span data-ttu-id="9570b-116">Pour plus d’informations sur ARSessionConfig, consultez [UARSessionConfig](https://docs.unrealengine.com/en-US/API/Runtime/AugmentedReality/UARSessionConfig/index.html) dans la documentation Unreal Engine.</span><span class="sxs-lookup"><span data-stu-id="9570b-116">For more details on ARSessionConfig, take a look at Unreal Engine’s documentation on [UARSessionConfig](https://docs.unrealengine.com/en-US/API/Runtime/AugmentedReality/UARSessionConfig/index.html).</span></span> <span data-ttu-id="9570b-117">Pour notre application de jeu d’échecs, nous n’avons pas besoin de modifier les paramètres. Sélectionnez simplement **Save** et revenez dans la fenêtre principale.</span><span class="sxs-lookup"><span data-stu-id="9570b-117">For our chess app, we won’t need to modify any settings, so just hit **Save** and return to the Main window.</span></span> 

![Configuration de la session AR](images/unreal-uxt/3-arsessionconfig.PNG)

4. <span data-ttu-id="9570b-119">Dans la barre d’outils au-dessus de la fenêtre Viewport, cliquez sur **Blueprints > Open Level Blueprint**.</span><span class="sxs-lookup"><span data-stu-id="9570b-119">On the toolbar above the viewport, click **Blueprints > Open Level Blueprint**.</span></span> <span data-ttu-id="9570b-120">Level Blueprint est un Blueprint spécial qui a le rôle de graphe d'événements (« Event Graph ») global à l’échelle du niveau.</span><span class="sxs-lookup"><span data-stu-id="9570b-120">The Level Blueprint is a special Blueprint that acts as a level-wide global event graph.</span></span> <span data-ttu-id="9570b-121">Nous allons démarrer une session AR ici pour que sa configuration soit appliquée au début du niveau.</span><span class="sxs-lookup"><span data-stu-id="9570b-121">We’re going to start an AR session here, so that our AR session configuration is applied at the start of the level.</span></span>  

5. <span data-ttu-id="9570b-122">Faites glisser le nœud d’exécution en dehors de **Event BeginPlay** et relâchez-le.</span><span class="sxs-lookup"><span data-stu-id="9570b-122">Drag the execution node off **Event BeginPlay** and release.</span></span> <span data-ttu-id="9570b-123">Recherchez le nœud **Start AR Session**.</span><span class="sxs-lookup"><span data-stu-id="9570b-123">Search for the **Start AR Session** node.</span></span> <span data-ttu-id="9570b-124">Cliquez sur **Session Config** et sélectionnez votre nouvelle ressource **ARSessionConfig**.</span><span class="sxs-lookup"><span data-stu-id="9570b-124">Click on **Session Config** and select your newly created **ARSessionConfig** asset.</span></span> <span data-ttu-id="9570b-125">Sélectionnez **Compile**, puis **Save**.</span><span class="sxs-lookup"><span data-stu-id="9570b-125">Hit **Compile**, then **Save**.</span></span> <span data-ttu-id="9570b-126">Revenez dans la fenêtre principale.</span><span class="sxs-lookup"><span data-stu-id="9570b-126">Return to the Main window.</span></span>

![Démarrer la session AR](images/unreal-uxt/3-startarsession.PNG)

## <a name="create-a-pawn"></a><span data-ttu-id="9570b-128">Créer un Pawn</span><span class="sxs-lookup"><span data-stu-id="9570b-128">Create a Pawn</span></span>

1.  <span data-ttu-id="9570b-129">Dans le dossier Content, créez un Blueprint qui hérite de **DefaultPawn**.</span><span class="sxs-lookup"><span data-stu-id="9570b-129">In the Content folder, create a new Blueprint that inherits from **DefaultPawn**.</span></span> <span data-ttu-id="9570b-130">Dans Unreal, un Pawn est la représentation de l’utilisateur dans le jeu ou, ici, de l’expérience HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="9570b-130">In Unreal, a Pawn represents the user in the game, or in this case, the HoloLens 2 experience.</span></span> <span data-ttu-id="9570b-131">Renommez votre nouveau Pawn en « MRPawn » et double-cliquez sur MRPawn pour l’ouvrir.</span><span class="sxs-lookup"><span data-stu-id="9570b-131">Rename your new Pawn “MRPawn” and double click on MRPawn to open it.</span></span> 

![Créer un Pawn héritant de DefaultPawn](images/unreal-uxt/3-defaultpawn.PNG)

2.  <span data-ttu-id="9570b-133">Par défaut, le Pawn a un composant de maillage et un composant de collision ; dans la plupart des projets Unreal, les Pawns contrôlés par l’utilisateur sont des objets solides qui entrent en collision avec d’autres composants.</span><span class="sxs-lookup"><span data-stu-id="9570b-133">By default, the Pawn has a mesh component and a collision component, since in most Unreal projects, Pawns controlled by the user are solid objects that collides with other components.</span></span> <span data-ttu-id="9570b-134">Dans ce cas, étant donné que l’utilisateur est le Pawn, nous souhaitons pouvoir transférer des hologrammes sans générer de collisions.</span><span class="sxs-lookup"><span data-stu-id="9570b-134">In this situation, since the user is the Pawn, we want to be able to pass through holograms without generating collisions.</span></span> <span data-ttu-id="9570b-135">Dans le panneau Components, sélectionnez **CollisionComponent**.</span><span class="sxs-lookup"><span data-stu-id="9570b-135">In the Components panel, select the **CollisionComponent**.</span></span> <span data-ttu-id="9570b-136">Dans le volet Details, faites défiler le contenu jusqu’à la section Collision, puis cliquez sur la liste déroulante à côté de Collision Presets.</span><span class="sxs-lookup"><span data-stu-id="9570b-136">In the Details panel, scroll down to the Collision section and click the dropdown next to Collision Presets.</span></span> <span data-ttu-id="9570b-137">Sélectionnez **NoCollision** à la place de Pawn.</span><span class="sxs-lookup"><span data-stu-id="9570b-137">Change this from Pawn to **NoCollision**.</span></span> <span data-ttu-id="9570b-138">Répétez cette opération pour **MeshComponent**.</span><span class="sxs-lookup"><span data-stu-id="9570b-138">Do the same for the **MeshComponent**.</span></span> <span data-ttu-id="9570b-139">Sélectionnez **Compile** et **Save** pour compiler et enregistrer le Blueprint.</span><span class="sxs-lookup"><span data-stu-id="9570b-139">**Compile**, then **Save** the Blueprint.</span></span> <span data-ttu-id="9570b-140">Revenez dans la fenêtre principale.</span><span class="sxs-lookup"><span data-stu-id="9570b-140">Return to the Main window.</span></span> 

![Changer la valeur Pawn dans Collision Presets](images/unreal-uxt/3-nocollision.PNG)

## <a name="create-a-game-mode"></a><span data-ttu-id="9570b-142">Créer un mode de jeu</span><span class="sxs-lookup"><span data-stu-id="9570b-142">Create a Game Mode</span></span>

1.  <span data-ttu-id="9570b-143">Dans le dossier Content du navigateur de contenu, créez un Blueprint avec le parent **Game Mode Base**.</span><span class="sxs-lookup"><span data-stu-id="9570b-143">In the Content folder in the Content Browser, create a new Blueprint with the parent **Game Mode Base**.</span></span> <span data-ttu-id="9570b-144">Nommez le Blueprint « MRGameMode » et double-cliquez dessus pour l’ouvrir.</span><span class="sxs-lookup"><span data-stu-id="9570b-144">Name it MRGameMode and double click to open.</span></span> <span data-ttu-id="9570b-145">Dans Unreal, le mode de jeu (Game Mode) définit plusieurs paramètres du jeu ou de l’expérience, y compris le Pawn par défaut à utiliser.</span><span class="sxs-lookup"><span data-stu-id="9570b-145">In Unreal, the Game Mode determines a number of settings for the game or experience, including the default pawn to use.</span></span> 

![MRGameMode dans le navigateur de contenu](images/unreal-uxt/3-gamemode.PNG)

2.  <span data-ttu-id="9570b-147">Dans le volet Details, recherchez la section Classes.</span><span class="sxs-lookup"><span data-stu-id="9570b-147">In the Details panel, locate the Classes section.</span></span> <span data-ttu-id="9570b-148">Pour l’option Default Pawn Class, changez DefaultPawn par le **MRPawn** que vous venez de créer.</span><span class="sxs-lookup"><span data-stu-id="9570b-148">Change the Default Pawn Class from DefaultPawn to the **MRPawn** you just created.</span></span> <span data-ttu-id="9570b-149">Sélectionnez **Compile**, puis **Save**.</span><span class="sxs-lookup"><span data-stu-id="9570b-149">Hit **Compile**, then **Save**.</span></span> <span data-ttu-id="9570b-150">Revenez dans la fenêtre principale.</span><span class="sxs-lookup"><span data-stu-id="9570b-150">Return to the Main window.</span></span> 

![Définir l’option Default Pawn Class](images/unreal-uxt/3-setpawn.PNG)

3.  <span data-ttu-id="9570b-152">La dernière étape de la configuration de votre projet consiste à indiquer à Unreal d’utiliser MRGameMode comme mode de jeu par défaut.</span><span class="sxs-lookup"><span data-stu-id="9570b-152">The last step in setting up your project is to tell Unreal to default to MRGameMode.</span></span> <span data-ttu-id="9570b-153">Accédez à la section **Edit > Projects Settings > Maps & Modes** (dans Projects).</span><span class="sxs-lookup"><span data-stu-id="9570b-153">Go to **Edit > Projects Settings > Maps & Modes** (in the Projects) section.</span></span> <span data-ttu-id="9570b-154">Dans la section Default Modes, cliquez sur la liste déroulante et choisissez **MRGameMode**.</span><span class="sxs-lookup"><span data-stu-id="9570b-154">In the Default Modes section, click the dropdown and choose **MRGameMode**.</span></span> <span data-ttu-id="9570b-155">Dans la section Default Maps juste en dessous, changez **EditorStartupMap** et **GameDefaultMap** à **Main**.</span><span class="sxs-lookup"><span data-stu-id="9570b-155">In the Default Maps section right below, change both the **EditorStartupMap** and the **GameDefaultMap** to **Main**.</span></span> <span data-ttu-id="9570b-156">De cette façon, quand vous fermez l’éditeur et le rouvrez, la carte principale (Main) est sélectionnée par défaut.</span><span class="sxs-lookup"><span data-stu-id="9570b-156">This way when you close the editor and reopen it, the Main map will be selected by default.</span></span> <span data-ttu-id="9570b-157">De même, lorsque vous jouez, la carte principale est le niveau de démarrage.</span><span class="sxs-lookup"><span data-stu-id="9570b-157">Similarly, when you play the game, the Main map will be the level that is started.</span></span> 

![Project Settings - Maps & Modes](images/unreal-uxt/3-mapsandmodes.PNG)

[<span data-ttu-id="9570b-159">Section suivante : 4. Rendre votre scène interactive</span><span class="sxs-lookup"><span data-stu-id="9570b-159">Next Section: 4. Making your scene interactive</span></span>](unreal-uxt-ch4.md)