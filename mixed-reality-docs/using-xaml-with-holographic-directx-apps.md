---
title: À l’aide de XAML avec les applications DirectX HOLOGRAPHIQUE
description: Explique l’impact du changement entre les affichages XAML 2D et immersives dans votre application DirectX et comment utiliser efficacement des modes un XAML et immersives.
author: MikeRiches
ms.author: mriches
ms.date: 03/21/2018
ms.topic: article
keywords: afficher les applications en réalité mixte, UWP, Windows management, xaml, clavier, procédure pas à pas, DirectX
ms.openlocfilehash: 32b2feea0cb6b8aba972c1772451ca7b5b9946d5
ms.sourcegitcommit: 384b0087899cd835a3a965f75c6f6c607c9edd1b
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/12/2019
ms.locfileid: "59593699"
---
# <a name="using-xaml-with-holographic-directx-apps"></a><span data-ttu-id="829b0-104">À l’aide de XAML avec les applications DirectX HOLOGRAPHIQUE</span><span class="sxs-lookup"><span data-stu-id="829b0-104">Using XAML with holographic DirectX apps</span></span>

<span data-ttu-id="829b0-105">Cette rubrique explique l’impact du changement entre [2D vues XAML et immersives](app-views.md) dans votre application DirectX et comment utiliser efficacement des modes un XAML et immersives.</span><span class="sxs-lookup"><span data-stu-id="829b0-105">This topic explains the impact of switching between [2D XAML views and immersive views](app-views.md) in your DirectX app, and how to make efficient use of both a XAML view and immersive view.</span></span>

## <a name="xaml-view-switching-overview"></a><span data-ttu-id="829b0-106">Changement de vue d’ensemble de la vue XAML</span><span class="sxs-lookup"><span data-stu-id="829b0-106">XAML view switching overview</span></span>

<span data-ttu-id="829b0-107">Sur HoloLens, une application générale immersive qui peut afficher ultérieurement une vue XAML 2D doit initialiser cette vue XAML tout d’abord et passer immédiatement à une vue immersif à partir de là.</span><span class="sxs-lookup"><span data-stu-id="829b0-107">On HoloLens, a generally immersive app that may later display a 2D XAML view must initialize that XAML view first and immediately switch to an immersive view from there.</span></span> <span data-ttu-id="829b0-108">Cela signifie que le XAML doit charger avant que votre application peut faire quoi que ce soit.</span><span class="sxs-lookup"><span data-stu-id="829b0-108">This means XAML will load before your app can do anything.</span></span> <span data-ttu-id="829b0-109">Par conséquent, il y aura une légère augmentation de votre temps de démarrage et XAML continue d’occuper l’espace de mémoire dans le processus de votre application pendant qu’il est dans l’arrière-plan. la quantité de mémoire utilisation dépend de ce que votre application fait avec XAML avant de passer au mode natif et de délai de démarrage.</span><span class="sxs-lookup"><span data-stu-id="829b0-109">As a result, there will be a small increase in your startup time, and XAML will continue to occupy memory space in your app process while it resides in the background; the amount of startup delay and memory usage depends on what your app does with XAML before switching to the native view.</span></span> <span data-ttu-id="829b0-110">Si vous ne faites rien dans votre code dans un premier temps, à ceci près démarrer votre vue immersive de démarrage XAML, l’impact devrait être mineur.</span><span class="sxs-lookup"><span data-stu-id="829b0-110">If you do nothing in your XAML start up code at first except start your immersive view, the impact should be minor.</span></span> <span data-ttu-id="829b0-111">En outre, étant donné que votre rendu holographique est effectuée directement à la vue immersive, vous permet d’éviter des restrictions liées à XAML sur ce rendu.</span><span class="sxs-lookup"><span data-stu-id="829b0-111">Also, because your holographic rendering is done directly to the immersive view, you will avoid any XAML-related restrictions on that rendering.</span></span>

<span data-ttu-id="829b0-112">Notez que le compte de l’utilisation de la mémoire pour l’UC et GPU.</span><span class="sxs-lookup"><span data-stu-id="829b0-112">Note that the memory usage counts for both CPU and GPU.</span></span> <span data-ttu-id="829b0-113">Direct3D 11 est en mesure d’échange de mémoire virtuelle graphique, mais il peut ne pas pouvoir remplacer tout ou partie des ressources XAML GPU et il peut y avoir une baisse des performances notable.</span><span class="sxs-lookup"><span data-stu-id="829b0-113">Direct3D 11 is able to swap virtual graphics memory, but it might not be able to swap out some or all of the XAML GPU resources, and there might be a noticeable performance hit.</span></span> <span data-ttu-id="829b0-114">Dans les deux cas, ne pas le chargement des fonctionnalités XAML, vous ne devez laisser plus de place pour votre application et fournir une meilleure expérience.</span><span class="sxs-lookup"><span data-stu-id="829b0-114">Either way, not loading any XAML features you don't need will leave more room for your app and provide a better experience.</span></span>

## <a name="xaml-view-switching-workflow"></a><span data-ttu-id="829b0-115">Changement de flux de travail de la vue XAML</span><span class="sxs-lookup"><span data-stu-id="829b0-115">XAML view switching workflow</span></span>

<span data-ttu-id="829b0-116">Le flux de travail pour une application qui accède directement à partir de XAML au mode immersif est comme suit :</span><span class="sxs-lookup"><span data-stu-id="829b0-116">The workflow for an app that goes directly from XAML to immersive mode is like so:</span></span>
* <span data-ttu-id="829b0-117">Démarrage de l’application dans la vue XAML 2D.</span><span class="sxs-lookup"><span data-stu-id="829b0-117">The app starts up in the 2D XAML view.</span></span>
* <span data-ttu-id="829b0-118">Séquence de démarrage de l’application XAML détecte si le système actuel prend en charge le rendu HOLOGRAPHIQUE :</span><span class="sxs-lookup"><span data-stu-id="829b0-118">The app’s XAML startup sequence detects if the current system supports holographic rendering:</span></span>
* <span data-ttu-id="829b0-119">Dans ce cas, l’application crée la vue immersive et rend immédiatement au premier plan.</span><span class="sxs-lookup"><span data-stu-id="829b0-119">If so, the app creates the immersive view and brings it to the foreground right away.</span></span> <span data-ttu-id="829b0-120">Le chargement XAML est ignoré pour tout élément n’est pas nécessaire sur les appareils Windows Mixed Reality, y compris les classes de rendu et de la ressource lors du chargement dans la vue XAML.</span><span class="sxs-lookup"><span data-stu-id="829b0-120">XAML loading is skipped for anything not necessary on Windows Mixed Reality devices, including any rendering classes and asset loading in the XAML view.</span></span> <span data-ttu-id="829b0-121">Si l’application est à l’aide de XAML pour l’entrée au clavier, cette page d’entrée doit toujours être créée.</span><span class="sxs-lookup"><span data-stu-id="829b0-121">If the app is using XAML for keyboard input, that input page should still be created.</span></span>
* <span data-ttu-id="829b0-122">Si ce n’est pas le cas, la vue XAML peut poursuivre d’entreprise comme d’habitude.</span><span class="sxs-lookup"><span data-stu-id="829b0-122">If not, the XAML view can proceed with business as usual.</span></span>

## <a name="tip-for-rendering-graphics-across-both-views"></a><span data-ttu-id="829b0-123">Conseil pour restituer des graphiques sur les deux affichages</span><span class="sxs-lookup"><span data-stu-id="829b0-123">Tip for rendering graphics across both views</span></span>

<span data-ttu-id="829b0-124">Si votre application doit implémenter une certaine quantité de rendu dans DirectX pour la vue XAML en réalité mixte Windows, la meilleure solution consiste à créer un convertisseur qui peut fonctionner avec les deux vues.</span><span class="sxs-lookup"><span data-stu-id="829b0-124">If your app needs to implement some amount of rendering in DirectX for the XAML view in Windows Mixed Reality, your best bet is to create one renderer that can work with both views.</span></span> <span data-ttu-id="829b0-125">Le convertisseur doit être une instance qui est accessible à partir de ces deux vues, et il doit être en mesure de basculer entre le rendu 2D et HOLOGRAPHIQUE.</span><span class="sxs-lookup"><span data-stu-id="829b0-125">The renderer should be one instance that can be accessed from both views, and it should be able to switch between 2D and holographic rendering.</span></span> <span data-ttu-id="829b0-126">De cette façon, les ressources GPU sont chargés uniquement une fois - cela réduit temps de chargement, impact sur la mémoire et la quantité de ressources à échanger en changeant d’affichage.</span><span class="sxs-lookup"><span data-stu-id="829b0-126">That way GPU assets are only loaded once - this reduces load times, memory impact, and the amount of resources to be swapped when switching views.</span></span>
